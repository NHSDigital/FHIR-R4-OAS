{
    "openapi": "3.0.1",
    "info": {
        "description": "Conformance requirements for NHS Digital EPS Futures\n\n | API Documentation |\n |-----|\n  |[Electronic Prescription Service - FHIR API](https://digital.nhs.uk/developer/api-catalogue/electronic-prescription-service-fhir)|\n\n\n | FHIR Implementation Guide | Version |\n |-----|-----|\n |[uk.nhsdigital.r4.test](https://simplifier.net/guide/NHSDigital/Home)||\n |[uk.nhsdigital.medicines.r4.test](https://simplifier.net/guide/nhsdigital-medicines/home)||\n |[UKCore.Release1.test](https://simplifier.net/guide/NHSDigital/Home)|1.2.2-prerelease|\n",
        "contact": {},
        "x-HL7-FHIR-NpmPackages": {
            "uk.nhsdigital.r4.test": "",
            "uk.nhsdigital.medicines.r4.test": "",
            "UKCore.Release1.test": "1.2.2-prerelease"
        }
    },
    "externalDocs": {
        "description": "Hl7 FHIR R4",
        "url": "https://www.hl7.org/fhir/"
    },
    "servers": [
        {}
    ],
    "tags": [
        {
            "name": "System Level Operations",
            "description": "Server-level operations"
        },
        {
            "name": "MedicationRequest",
            "description": "\n\n An order or request for both supply of the medication and the instructions for administration of the medication to a patient. The resource is called \"MedicationRequest\" rather than \"MedicationPrescription\" or \"MedicationOrder\" to generalize the use across inpatient and outpatient settings, including care plans, etc., and to harmonize with workflow patterns.\n\n Profile (constraints): [NHSDigital-MedicationRequest-Contained](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.r4.test@2.5.25-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-Contained)\n\n",
            "x-HL7-FHIR-Profile": "https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-Contained"
        },
        {
            "name": "MedicationDispense",
            "description": "\n\n Indicates that a medication product is to be or has been dispensed for a named person/patient.  This includes a description of the medication product (supply) provided and the instructions for administering the medication.  The medication dispense is the result of a pharmacy system responding to a medication order.\n\n Profile (constraints): [NHSDigital-MedicationDispense](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.r4.test@2.5.25-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense)\n\n",
            "x-HL7-FHIR-Profile": "https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense"
        }
    ],
    "paths": {
        "/metadata": {
            "get": {
                "tags": [
                    "System Level Operations"
                ],
                "summary": "server-capabilities: Fetch the server FHIR CapabilityStatement",
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CapabilityStatement"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\"resourceType\":\"CapabilityStatement\",\"id\":\"apim-eps-futures\",\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Package\",\"extension\":[{\"url\":\"FHIRPackage\",\"extension\":[{\"url\":\"name\",\"valueString\":\"uk.nhsdigital.r4.test\"}]},{\"url\":\"FHIRPackage\",\"extension\":[{\"url\":\"name\",\"valueString\":\"uk.nhsdigital.medicines.r4.test\"}]},{\"url\":\"FHIRPackage\",\"extension\":[{\"url\":\"name\",\"valueString\":\"UKCore.Release1.test\"},{\"url\":\"version\",\"valueString\":\"1.2.2-prerelease\"}]},{\"url\":\"openApi\",\"extension\":[{\"url\":\"documentation\",\"valueUri\":\"https://digital.nhs.uk/developer/api-catalogue/electronic-prescription-service-fhir\"},{\"url\":\"description\",\"valueString\":\"Electronic Prescription Service - FHIR API\"}]}]}],\"url\":\"https://fhir.nhs.uk/CapabilityStatement/apim-eps-futures\",\"version\":\"3.0.0\",\"name\":\"APIMEPSFutures\",\"status\":\"active\",\"date\":\"2021-04-28T00:00:00+00:00\",\"publisher\":\"digital.nhs.uk\",\"description\":\"Conformance requirements for NHS Digital EPS Futures\",\"kind\":\"requirements\",\"fhirVersion\":\"4.0.1\",\"format\":[\"application/fhir+json\"],\"implementationGuide\":[\"https://simplifier.net/guide/nhsdigital-medicine\",\"https://simplifier.net/guide/nhsdigital\"],\"rest\":[{\"mode\":\"server\",\"security\":{\"service\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/restful-security-service\",\"code\":\"OAuth\",\"display\":\"OAuth2 Token\"}]}]},\"resource\":[{\"type\":\"MedicationRequest\",\"profile\":\"https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-Contained\",\"interaction\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Bundle/fc2af095-2074-473c-b527-701a74998773\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Patient MedicationRequest search\"},{\"url\":\"description\",\"valueMarkdown\":\"Request **GET [baseUrl]/MedicationRequest?patient:identifier=https://fhir.nhs.uk/Id/nhs-number|9912003888\"}]}]}],\"code\":\"search-type\",\"documentation\":\"The EPS Tracker.\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"MedicationRequest/a7b86f8d-1d7c-fc28-e050-d20ae3a215f4\"}}]}]}],\"code\":\"read\",\"documentation\":\"**Download prescription (part)**\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"MedicationRequest/a7b86f8d-1d7c-fc28-e050-d20ae3a215f4\"}}]}]}],\"code\":\"create\",\"documentation\":\"**Create a new prescription**. Equivalent to `prescription-order` message in NextGen\"},{\"code\":\"patch\",\"documentation\":\"Replaces part of the functionality in cancel prescription\"}],\"searchParam\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"exampleParameter\",\"valueString\":\"https://fhir.nhs.uk/Id/nhs-number|9000000009\"}]}],\"name\":\"patient:identifier\",\"type\":\"token\",\"documentation\":\"Returns prescriptions for a specific patient\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"exampleParameter\",\"valueString\":\"https://fhir.nhs.uk/Id/ods-organization-code|M85011\"}]}],\"name\":\"intended-performer\",\"type\":\"reference\",\"documentation\":\"Return prescriptions for this medication reference\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"showCodeAndSystem\",\"valueBoolean\":false},{\"url\":\"allowedValues\",\"valueReference\":{\"reference\":\"http://hl7.org/fhir/ValueSet/medicationrequest-status\"}}]}],\"name\":\"status\",\"type\":\"token\",\"documentation\":\"Status of the prescription\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"exampleParameter\",\"valueString\":\"https://fhir.nhs.uk/Id/ods-organization-code|M85011\"}]}],\"name\":\"requester.identifier\",\"type\":\"token\",\"documentation\":\"Returns prescriptions prescribed by this prescriber\"},{\"name\":\"group\",\"type\":\"reference\",\"documentation\":\"Returns grouped prescriptions\"},{\"name\":\"_count\",\"type\":\"special\",\"documentation\":\"How many results to return\"}],\"operation\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Task/702cc4e9-81fc-470e-8ae1-43120ae5c16d\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Dispenser accepts a MedicationRequest assigned to them or takes ownership and accepts a MedicationRequest\"},{\"url\":\"description\",\"valueMarkdown\":\"Task.status is set to accepted and the owner field must be populated.\"}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"OperationOutcome/option2\"}}]}]}],\"name\":\"lock\",\"definition\":\"https://fhir.nhs.uk/OperationDefinition/MedicationRequest-lock\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Task/af8a007d-0a7c-4124-a713-55280eaaf5bb\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Dispenser completes fullfilment of order\"},{\"url\":\"description\",\"valueMarkdown\":\"Task.status set to completed.\"}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Task/148fd3a7-79e1-4bee-b769-cc6ada05391d\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Dispenser rejects MedicationRequest assigned to them\"},{\"url\":\"description\",\"valueMarkdown\":\"Task.status set to rejected and a statusReason is given (e.g. unable to dispense medications)\"}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Task/04908e21-1c70-4cc8-ac7b-1e611eddae1e\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Dispenser fails MedicationRequest assigned or previously accepted by them\"},{\"url\":\"description\",\"valueMarkdown\":\"Task.status set to rejected and a reason is given (e.g. invalid digital signature)\"}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Task/1291fcca-902b-48f3-9d07-1be9ea30d7a0\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Dispenser or other practitioner cancels the MedicationRequest\"},{\"url\":\"description\",\"valueMarkdown\":\"Task.status set to cancelled or entered-in-error.\"}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"OperationOutcome/option2\"}}]}]}],\"name\":\"unlock\",\"definition\":\"https://fhir.nhs.uk/OperationDefinition/MedicationRequest-unlock\"}]},{\"type\":\"MedicationDispense\",\"profile\":\"https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense\",\"interaction\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Bundle/11c0abb3-7223-4cd8-88bd-68d29694f24c\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Patient MedicationDispense search\"},{\"url\":\"description\",\"valueMarkdown\":\"Request **GET [baseUrl]/MedicationDispense?patient:identifier=https://fhir.nhs.uk/Id/nhs-number|9912003888\"}]}]}],\"code\":\"search-type\",\"documentation\":\"EPS Tracker.\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"MedicationDispense/06167339-9337-d030-0366-514a6a46da17\"}}]}]}],\"code\":\"read\",\"documentation\":\"New feature. Allows querying of a patients dispense history\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"MedicationDispense/06167339-9337-d030-0366-514a6a46da17\"}}]}]}],\"code\":\"create\",\"documentation\":\"**Mark a prescription as Dispensed**. Equivalent to `dispense-notification` in NextGen\"},{\"code\":\"patch\"}],\"searchParam\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"exampleParameter\",\"valueString\":\"https://fhir.nhs.uk/Id/nhs-number|9000000009\"}]}],\"name\":\"patient:identifier\",\"type\":\"token\",\"documentation\":\"The identity of a patient to list dispenses for\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1}]}],\"name\":\"prescription\",\"type\":\"reference\",\"documentation\":\"The identity of a prescription to list dispenses from\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"showCodeAndSystem\",\"valueBoolean\":false},{\"url\":\"allowedValues\",\"valueReference\":{\"reference\":\"http://hl7.org/fhir/ValueSet/medicationdispense-status\"}}]}],\"name\":\"status\",\"type\":\"token\",\"documentation\":\"Returns dispenses with a specified dispense status\"},{\"name\":\"_count\",\"type\":\"special\",\"documentation\":\"How many results to return\"}]}]}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/MedicationRequest": {
            "get": {
                "tags": [
                    "MedicationRequest"
                ],
                "summary": "search-type",
                "description": "[search](http://www.hl7.org/fhir/search.html) for MedicationRequest instances.\n\nThe EPS Tracker.",
                "parameters": [
                    {
                        "name": "patient:identifier",
                        "in": "query",
                        "description": "Returns prescriptions for a specific patient\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | patient | [token ](https://www.hl7.org/fhir/search.html#token)|   MedicationRequest.subject.identifier | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "token",
                            "example": "https://fhir.nhs.uk/Id/nhs-number|9000000009",
                            "items": {
                                "type": "string",
                                "format": "token"
                            }
                        }
                    },
                    {
                        "name": "intended-performer",
                        "in": "query",
                        "description": "Return prescriptions for this medication reference\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | intended-performer | [reference ](https://www.hl7.org/fhir/search.html#reference)|  MedicationRequest.performer | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "string",
                            "format": "reference",
                            "example": "https://fhir.nhs.uk/Id/ods-organization-code|M85011"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Status of the prescription\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | status | [token ](https://www.hl7.org/fhir/search.html#token)|   MedicationRequest.status | \n\n\n A code from FHIR ValueSet [medicationrequest Status](http://hl7.org/fhir/ValueSet/medicationrequest-status)",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "token",
                            "example": "[system]|[code],[code],[system]",
                            "items": {
                                "type": "string",
                                "format": "token"
                            },
                            "enum": [
                                "stopped",
                                "entered-in-error",
                                "draft",
                                "cancelled",
                                "completed",
                                "unknown",
                                "on-hold",
                                "active"
                            ]
                        }
                    },
                    {
                        "name": "requester.identifier",
                        "in": "query",
                        "description": "Returns prescriptions prescribed by this prescriber\n\n Chained search parameter. Please see [chained](http://www.hl7.org/fhir/search.html#chaining)\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | requester | [reference ](https://www.hl7.org/fhir/search.html#reference)|  MedicationRequest.requester | \n| identifier | [token ](https://www.hl7.org/fhir/search.html#token)|  RelatedPerson.identifier | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "token",
                            "example": "https://fhir.nhs.uk/Id/ods-organization-code|M85011",
                            "items": {
                                "type": "string",
                                "format": "token"
                            }
                        }
                    },
                    {
                        "name": "group",
                        "in": "query",
                        "description": "Returns grouped prescriptions\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | group | [token ](https://www.hl7.org/fhir/search.html#token)|  null | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "type": "array",
                            "format": "token",
                            "example": "[system]|[code],[code],[system]",
                            "items": {
                                "type": "string",
                                "format": "token"
                            }
                        }
                    },
                    {
                        "name": "_count",
                        "in": "query",
                        "description": "How many results to return\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | _count | [number ](https://www.hl7.org/fhir/search.html#number)|  null | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "type": "string",
                            "format": "special"
                        }
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/MedicationRequest"
                                },
                                "examples": {
                                    "Patient MedicationRequest search": {
                                        "summary": "Patient MedicationRequest search",
                                        "description": "Request **GET [baseUrl]/MedicationRequest?patient:identifier=https://fhir.nhs.uk/Id/nhs-number&#124;9912003888",
                                        "value": "{\"resourceType\":\"Bundle\",\"id\":\"fc2af095-2074-473c-b527-701a74998773\",\"type\":\"searchset\",\"total\":1,\"link\":[{\"relation\":\"self\",\"url\":\"http://example.org/FHIR/R4/MedicationRequest?patient:identifier=https://fhir.nhs.uk/Id/nhs-number|9453740519\"}],\"entry\":[{\"fullUrl\":\"MedicationReqyest/a7b86f8d-1d7c-fc28-e050-d20ae3a215f4\",\"resource\":{\"resourceType\":\"MedicationRequest\",\"id\":\"a7b86f8d-1d7c-fc28-e050-d20ae3a215f4\",\"contained\":[{\"resourceType\":\"Patient\",\"id\":\"patient\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"}],\"name\":[{\"use\":\"official\",\"family\":\"CORY\",\"given\":[\"ETTA\"],\"prefix\":[\"MISS\"]}],\"gender\":\"female\",\"birthDate\":\"1999-01-04\",\"address\":[{\"use\":\"home\",\"postalCode\":\"DE21 4QH\"}],\"generalPractitioner\":[{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"B81001\"}}]},{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"100102238986\"}],\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gmc-number\",\"value\":\"C1234567\"},\"display\":\"Dr Liz Scott\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/prescription-type\",\"code\":\"0101\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-MedicationRequestSignature\",\"valueSignature\":{\"type\":[{\"system\":\"urn:iso-astm:E1762-95:2013\",\"code\":\"1.2.840.10065.1.12.1.1\",\"display\":\"Author's Signature\"}],\"when\":\"2021-06-25T14:40:17.2561801+01:00\",\"who\":{\"reference\":\"#requester\"},\"data\":\"PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+PFNpZ25lZEluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+cWREeWQ0eXd4ekpNa2liVU15V1puUDhwVFdrPTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPjxTaWduYXR1cmVWYWx1ZT5ESC9GaGNXcnZPUFBrNkxhbWc5WlpnTnJVajJmRnVIZ2NidlZEYmJMblJsQnpDdThPZDErb0NHUENRSHdwSkFRNW8xTlpnSmNjcjI5dHkwV3pCeFBDZEF3OUd2a2dLNy92bCtpdmJlWVlrcEM3V0NLTmxQMkh4UHMzV01KQ2kxOWJ4UFdBTVVBUGNsM2dBTHpVN0lPcXJuc1VTZ20zYnllai9lUERNU0d4UTQ9PC9TaWduYXR1cmVWYWx1ZT48S2V5SW5mbz48WDUwOURhdGE+PFg1MDlDZXJ0aWZpY2F0ZT5NSUlEdURDQ0FxQ2dBd0lCQWdJRVhjbW83ekFOQmdrcWhraUc5dzBCQVFzRkFEQTJNUXd3Q2dZRFZRUUtFd051YUhNeEN6QUpCZ05WQkFzVEFrTkJNUmt3RndZRFZRUURFeEJPU0ZNZ1NVNVVJRXhsZG1Wc0lERkVNQjRYRFRJd01Ea3lNekUxTkRrME9Gb1hEVEl5TURreU16RTJNVGswT0Zvd1F6RU1NQW9HQTFVRUNoTURibWh6TVE4d0RRWURWUVFMRXdaUVpXOXdiR1V4SWpBZ0JnTlZCQU1NR1RVMU5UQTROalF4TlRFd05WOVVaWE4wWDFSbGMzUmtiMmN3Z1o4d0RRWUpLb1pJaHZjTkFRRUJCUUFEZ1kwQU1JR0pBb0dCQVBDeW1MYjBJdm5nS21ZOTlwcmx2VU8xTmxnK1l5NHpEanpUaHVxZDJrdGsyOE1lWWRWbUFMV0xJWTY5cE50VDhEV0NrSmJtVytyR1JFYzFueG9halcrb0NqV2dlMUtjdytVVU15MnNZNXBMMmJoMGpmNGhtK3d5OVZvbGdNeWRsWmN6cklxWmJpYjhCbTBZbkZtbGtqSDltZnU1ZWRzQzhPVmYzdHIyUktYSEFnTUJBQUdqZ2dGRE1JSUJQekFPQmdOVkhROEJBZjhFQkFNQ0JrQXdaUVlEVlIwZ0FRSC9CRnN3V1RCWEJnc3Foam9BaVh0bUFBTUNBREJJTUVZR0NDc0dBUVVGQndJQkZqcG9kSFJ3Y3pvdkwzQnJhUzV1YUhNdWRXc3ZZMlZ5ZEdsbWFXTmhkR1ZmY0c5c2FXTnBaWE12WTI5dWRHVnVkRjlqYjIxdGFYUnRaVzUwTURNR0ExVWRId1FzTUNvd0tLQW1vQ1NHSW1oMGRIQTZMeTlqY213dWJtaHpMblZyTDJsdWRDOHhaQzlqY214ak15NWpjbXd3S3dZRFZSMFFCQ1F3SW9BUE1qQXlNREE1TWpNeE5UUTVORGhhZ1E4eU1ESXlNREl4TmpFMk1UazBPRm93SHdZRFZSMGpCQmd3Rm9BVW9KWWZnWVROUGQ2RVVLTDZRTEl6SHhZNVBGSXdIUVlEVlIwT0JCWUVGRi9YS2h0NWVpN3FyeHcxM1dmR2xDQStaNS9NTUFrR0ExVWRFd1FDTUFBd0dRWUpLb1pJaHZaOUIwRUFCQXd3Q2hzRVZqZ3VNd01DQkxBd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFFZmFidkVRcmt0MEJTUnkzYnA1NkRJMUJyWEN5eVFWdjhORkdsZ2VDQTNOV0V5dE9uQkpqaDNJT0c1YlpsclVBK1lnK2xJMWxFUFlWaGJxd0R2bmlDdUYyOWw1TE0zai82Y1c0YWRIRUFPMTVnZWNHUVRzbm9DUlRZMnYrTzBDcVZ5MGtaWkV0dFRFbGtPekZ3clNvQzRITDdkOG96cG9UR0NpVDBHK3lKT25mWm9yc1ZWd1JFNW9rNUhwMlYyQWEwQ2EvUUVkNzc4UFMxOXFqdHBEUWJjODdVYkVPSXY2alZscUM3VHhIVGViNjB2akhIcU14VFU5bCtjdGF0TnU4N1ovMTA3eG1NRmFVYTRVMXA0R0xZYm9QbElOSUkzVVlwdGNDdXRXeHROcTVGZ1RNTkI1eEJQUE9SU2tjSWxrNDBsc0U1R3EzczlVZ2xLZzNBQ3V1Wnc9PC9YNTA5Q2VydGlmaWNhdGU+PC9YNTA5RGF0YT48L0tleUluZm8+PC9TaWduYXR1cmU+\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug\",\"extension\":[{\"url\":\"quantityWords\",\"valueString\":\"twenty eight\"},{\"url\":\"schedule\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug\",\"code\":\"CD2\",\"display\":\"Schedule 2\"}}]},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-Account-code\",\"extension\":[{\"url\":\"costCentre\",\"valueReference\":{\"identifier\":{\"use\":\"official\",\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"A99968\"},\"display\":\"SOMERSET BOWEL CANCER SCREENING CENTRE\"}},{\"url\":\"spuriousCode\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code\",\"value\":\"G7345213\"}}}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation\",\"extension\":[{\"url\":\"numberOfPrescriptionsIssued\",\"valueUnsignedInt\":1},{\"url\":\"authorisationExpiryDate\",\"valueDateTime\":\"2020-08-07\"}]}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"A7B86F8D-1D7C-FC28-E050-D20AE3A215F0\"}],\"status\":\"active\",\"intent\":\"order\",\"category\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",\"code\":\"outpatient\",\"display\":\"Outpatient\"}]}],\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"36126511000001106\",\"display\":\"Morphine 10mg modified-release tablets\"}]},\"subject\":{\"reference\":\"#patient\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"}},\"authoredOn\":\"2019-12-30T12:00:00+00:00\",\"requester\":{\"reference\":\"#requester\",\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gmc-number\",\"value\":\"C1234567\"},\"display\":\"DR RAZIA ALI\"},\"basedOn\":[{\"reference\":\"https://elmpt-hospitals.nhs.uk/MedicationRequest/654321\"}],\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"A7B86F8D-1CF8-FC28-E050-D20AE3A215F0\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"3C2366-B81001-0A409U\"},\"courseOfTherapyType\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\",\"code\":\"continuous\",\"display\":\"Continuous long term therapy\"}]},\"dosageInstruction\":[{\"text\":\"1 tablet, daily\"}],\"dispenseRequest\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/dispensing-site-preference\",\"code\":\"0004\"}}],\"validityPeriod\":{\"start\":\"2020-07-13T12:00:00+00:00\",\"end\":\"2020-08-07T12:00:00+00:00\"},\"numberOfRepeatsAllowed\":0,\"quantity\":{\"value\":28,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"},\"performer\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"FX748\"}}},\"substitution\":{\"allowedBoolean\":false}},\"search\":{\"mode\":\"match\"}}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "MedicationRequest"
                ],
                "summary": "create",
                "description": "[create](http://www.hl7.org/fhir/http.html#create) a new MedicationRequest instance.\n\n**Create a new prescription**. Equivalent to `prescription-order` message in NextGen",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/MedicationRequest"
                            },
                            "examples": {
                                "example": {
                                    "value": "{\"resourceType\":\"MedicationRequest\",\"contained\":[{\"resourceType\":\"Patient\",\"id\":\"patient\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"}],\"name\":[{\"use\":\"official\",\"family\":\"CORY\",\"given\":[\"ETTA\"],\"prefix\":[\"MISS\"]}],\"gender\":\"female\",\"birthDate\":\"1999-01-04\",\"address\":[{\"use\":\"home\",\"postalCode\":\"DE21 4QH\"}],\"generalPractitioner\":[{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"B81001\"}}]},{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"100102238986\"}],\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gmc-number\",\"value\":\"C1234567\"},\"display\":\"DR RAZIA ALI\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/prescription-type\",\"code\":\"0101\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-MedicationRequestSignature\",\"valueSignature\":{\"type\":[{\"system\":\"urn:iso-astm:E1762-95:2013\",\"code\":\"1.2.840.10065.1.12.1.1\",\"display\":\"Author's Signature\"}],\"when\":\"2021-06-25T14:40:17.2561801+01:00\",\"who\":{\"reference\":\"#requester\"},\"data\":\"PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+PFNpZ25lZEluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+cWREeWQ0eXd4ekpNa2liVU15V1puUDhwVFdrPTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPjxTaWduYXR1cmVWYWx1ZT5ESC9GaGNXcnZPUFBrNkxhbWc5WlpnTnJVajJmRnVIZ2NidlZEYmJMblJsQnpDdThPZDErb0NHUENRSHdwSkFRNW8xTlpnSmNjcjI5dHkwV3pCeFBDZEF3OUd2a2dLNy92bCtpdmJlWVlrcEM3V0NLTmxQMkh4UHMzV01KQ2kxOWJ4UFdBTVVBUGNsM2dBTHpVN0lPcXJuc1VTZ20zYnllai9lUERNU0d4UTQ9PC9TaWduYXR1cmVWYWx1ZT48S2V5SW5mbz48WDUwOURhdGE+PFg1MDlDZXJ0aWZpY2F0ZT5NSUlEdURDQ0FxQ2dBd0lCQWdJRVhjbW83ekFOQmdrcWhraUc5dzBCQVFzRkFEQTJNUXd3Q2dZRFZRUUtFd051YUhNeEN6QUpCZ05WQkFzVEFrTkJNUmt3RndZRFZRUURFeEJPU0ZNZ1NVNVVJRXhsZG1Wc0lERkVNQjRYRFRJd01Ea3lNekUxTkRrME9Gb1hEVEl5TURreU16RTJNVGswT0Zvd1F6RU1NQW9HQTFVRUNoTURibWh6TVE4d0RRWURWUVFMRXdaUVpXOXdiR1V4SWpBZ0JnTlZCQU1NR1RVMU5UQTROalF4TlRFd05WOVVaWE4wWDFSbGMzUmtiMmN3Z1o4d0RRWUpLb1pJaHZjTkFRRUJCUUFEZ1kwQU1JR0pBb0dCQVBDeW1MYjBJdm5nS21ZOTlwcmx2VU8xTmxnK1l5NHpEanpUaHVxZDJrdGsyOE1lWWRWbUFMV0xJWTY5cE50VDhEV0NrSmJtVytyR1JFYzFueG9halcrb0NqV2dlMUtjdytVVU15MnNZNXBMMmJoMGpmNGhtK3d5OVZvbGdNeWRsWmN6cklxWmJpYjhCbTBZbkZtbGtqSDltZnU1ZWRzQzhPVmYzdHIyUktYSEFnTUJBQUdqZ2dGRE1JSUJQekFPQmdOVkhROEJBZjhFQkFNQ0JrQXdaUVlEVlIwZ0FRSC9CRnN3V1RCWEJnc3Foam9BaVh0bUFBTUNBREJJTUVZR0NDc0dBUVVGQndJQkZqcG9kSFJ3Y3pvdkwzQnJhUzV1YUhNdWRXc3ZZMlZ5ZEdsbWFXTmhkR1ZmY0c5c2FXTnBaWE12WTI5dWRHVnVkRjlqYjIxdGFYUnRaVzUwTURNR0ExVWRId1FzTUNvd0tLQW1vQ1NHSW1oMGRIQTZMeTlqY213dWJtaHpMblZyTDJsdWRDOHhaQzlqY214ak15NWpjbXd3S3dZRFZSMFFCQ1F3SW9BUE1qQXlNREE1TWpNeE5UUTVORGhhZ1E4eU1ESXlNREl4TmpFMk1UazBPRm93SHdZRFZSMGpCQmd3Rm9BVW9KWWZnWVROUGQ2RVVLTDZRTEl6SHhZNVBGSXdIUVlEVlIwT0JCWUVGRi9YS2h0NWVpN3FyeHcxM1dmR2xDQStaNS9NTUFrR0ExVWRFd1FDTUFBd0dRWUpLb1pJaHZaOUIwRUFCQXd3Q2hzRVZqZ3VNd01DQkxBd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFFZmFidkVRcmt0MEJTUnkzYnA1NkRJMUJyWEN5eVFWdjhORkdsZ2VDQTNOV0V5dE9uQkpqaDNJT0c1YlpsclVBK1lnK2xJMWxFUFlWaGJxd0R2bmlDdUYyOWw1TE0zai82Y1c0YWRIRUFPMTVnZWNHUVRzbm9DUlRZMnYrTzBDcVZ5MGtaWkV0dFRFbGtPekZ3clNvQzRITDdkOG96cG9UR0NpVDBHK3lKT25mWm9yc1ZWd1JFNW9rNUhwMlYyQWEwQ2EvUUVkNzc4UFMxOXFqdHBEUWJjODdVYkVPSXY2alZscUM3VHhIVGViNjB2akhIcU14VFU5bCtjdGF0TnU4N1ovMTA3eG1NRmFVYTRVMXA0R0xZYm9QbElOSUkzVVlwdGNDdXRXeHROcTVGZ1RNTkI1eEJQUE9SU2tjSWxrNDBsc0U1R3EzczlVZ2xLZzNBQ3V1Wnc9PC9YNTA5Q2VydGlmaWNhdGU+PC9YNTA5RGF0YT48L0tleUluZm8+PC9TaWduYXR1cmU+\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug\",\"extension\":[{\"url\":\"quantityWords\",\"valueString\":\"twenty eight\"},{\"url\":\"schedule\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug\",\"code\":\"CD2\",\"display\":\"Schedule 2\"}}]},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-Account-code\",\"extension\":[{\"url\":\"costCentre\",\"valueReference\":{\"identifier\":{\"use\":\"official\",\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"A99968\"},\"display\":\"SOMERSET BOWEL CANCER SCREENING CENTRE\"}},{\"url\":\"spuriousCode\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code\",\"value\":\"G7345213\"}}}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation\",\"extension\":[{\"url\":\"numberOfPrescriptionsIssued\",\"valueUnsignedInt\":1},{\"url\":\"authorisationExpiryDate\",\"valueDateTime\":\"2020-08-07\"}]}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"A7B86F8D-1D7C-FC28-E050-D20AE3A215F0\"}],\"status\":\"active\",\"intent\":\"order\",\"category\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",\"code\":\"outpatient\",\"display\":\"Outpatient\"}]}],\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"36126511000001106\",\"display\":\"Morphine 10mg modified-release tablets\"}]},\"subject\":{\"reference\":\"#patient\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"}},\"authoredOn\":\"2019-12-30T12:00:00+00:00\",\"requester\":{\"reference\":\"#requester\"},\"basedOn\":[{\"reference\":\"https://elmpt-hospitals.nhs.uk/MedicationRequest/654321\"}],\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"A7B86F8D-1CF8-FC28-E050-D20AE3A215F0\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"3C2366-B81001-0A409U\"},\"courseOfTherapyType\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\",\"code\":\"continuous\",\"display\":\"Continuous long term therapy\"}]},\"dosageInstruction\":[{\"text\":\"1 tablet, daily\"}],\"dispenseRequest\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/dispensing-site-preference\",\"code\":\"0004\"}}],\"validityPeriod\":{\"start\":\"2020-07-13T12:00:00+00:00\",\"end\":\"2020-08-07T12:00:00+00:00\"},\"numberOfRepeatsAllowed\":0,\"quantity\":{\"value\":28,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"},\"performer\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"FX748\"}}},\"substitution\":{\"allowedBoolean\":false}}"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"information\",\n    \"code\": \"informational\"\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/MedicationRequest/{id}": {
            "get": {
                "tags": [
                    "MedicationRequest"
                ],
                "summary": "read",
                "description": "[read](http://www.hl7.org/fhir/http.html#read) MedicationRequest instance.\n\n**Download prescription (part)**",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "The resource ID",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "6160eb19-6fc3-4b43-953a-54ea01dc1cf4"
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/MedicationRequest"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\"resourceType\":\"MedicationRequest\",\"id\":\"a7b86f8d-1d7c-fc28-e050-d20ae3a215f4\",\"contained\":[{\"resourceType\":\"Patient\",\"id\":\"patient\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"}],\"name\":[{\"use\":\"official\",\"family\":\"CORY\",\"given\":[\"ETTA\"],\"prefix\":[\"MISS\"]}],\"gender\":\"female\",\"birthDate\":\"1999-01-04\",\"address\":[{\"use\":\"home\",\"postalCode\":\"DE21 4QH\"}],\"generalPractitioner\":[{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"B81001\"}}]},{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"100102238986\"}],\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gmc-number\",\"value\":\"C1234567\"},\"display\":\"DR RAZIA ALI\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/prescription-type\",\"code\":\"0101\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-MedicationRequestSignature\",\"valueSignature\":{\"type\":[{\"system\":\"urn:iso-astm:E1762-95:2013\",\"code\":\"1.2.840.10065.1.12.1.1\",\"display\":\"Author's Signature\"}],\"when\":\"2021-06-25T14:40:17.2561801+01:00\",\"who\":{\"reference\":\"#requester\"},\"data\":\"PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+PFNpZ25lZEluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+cWREeWQ0eXd4ekpNa2liVU15V1puUDhwVFdrPTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPjxTaWduYXR1cmVWYWx1ZT5ESC9GaGNXcnZPUFBrNkxhbWc5WlpnTnJVajJmRnVIZ2NidlZEYmJMblJsQnpDdThPZDErb0NHUENRSHdwSkFRNW8xTlpnSmNjcjI5dHkwV3pCeFBDZEF3OUd2a2dLNy92bCtpdmJlWVlrcEM3V0NLTmxQMkh4UHMzV01KQ2kxOWJ4UFdBTVVBUGNsM2dBTHpVN0lPcXJuc1VTZ20zYnllai9lUERNU0d4UTQ9PC9TaWduYXR1cmVWYWx1ZT48S2V5SW5mbz48WDUwOURhdGE+PFg1MDlDZXJ0aWZpY2F0ZT5NSUlEdURDQ0FxQ2dBd0lCQWdJRVhjbW83ekFOQmdrcWhraUc5dzBCQVFzRkFEQTJNUXd3Q2dZRFZRUUtFd051YUhNeEN6QUpCZ05WQkFzVEFrTkJNUmt3RndZRFZRUURFeEJPU0ZNZ1NVNVVJRXhsZG1Wc0lERkVNQjRYRFRJd01Ea3lNekUxTkRrME9Gb1hEVEl5TURreU16RTJNVGswT0Zvd1F6RU1NQW9HQTFVRUNoTURibWh6TVE4d0RRWURWUVFMRXdaUVpXOXdiR1V4SWpBZ0JnTlZCQU1NR1RVMU5UQTROalF4TlRFd05WOVVaWE4wWDFSbGMzUmtiMmN3Z1o4d0RRWUpLb1pJaHZjTkFRRUJCUUFEZ1kwQU1JR0pBb0dCQVBDeW1MYjBJdm5nS21ZOTlwcmx2VU8xTmxnK1l5NHpEanpUaHVxZDJrdGsyOE1lWWRWbUFMV0xJWTY5cE50VDhEV0NrSmJtVytyR1JFYzFueG9halcrb0NqV2dlMUtjdytVVU15MnNZNXBMMmJoMGpmNGhtK3d5OVZvbGdNeWRsWmN6cklxWmJpYjhCbTBZbkZtbGtqSDltZnU1ZWRzQzhPVmYzdHIyUktYSEFnTUJBQUdqZ2dGRE1JSUJQekFPQmdOVkhROEJBZjhFQkFNQ0JrQXdaUVlEVlIwZ0FRSC9CRnN3V1RCWEJnc3Foam9BaVh0bUFBTUNBREJJTUVZR0NDc0dBUVVGQndJQkZqcG9kSFJ3Y3pvdkwzQnJhUzV1YUhNdWRXc3ZZMlZ5ZEdsbWFXTmhkR1ZmY0c5c2FXTnBaWE12WTI5dWRHVnVkRjlqYjIxdGFYUnRaVzUwTURNR0ExVWRId1FzTUNvd0tLQW1vQ1NHSW1oMGRIQTZMeTlqY213dWJtaHpMblZyTDJsdWRDOHhaQzlqY214ak15NWpjbXd3S3dZRFZSMFFCQ1F3SW9BUE1qQXlNREE1TWpNeE5UUTVORGhhZ1E4eU1ESXlNREl4TmpFMk1UazBPRm93SHdZRFZSMGpCQmd3Rm9BVW9KWWZnWVROUGQ2RVVLTDZRTEl6SHhZNVBGSXdIUVlEVlIwT0JCWUVGRi9YS2h0NWVpN3FyeHcxM1dmR2xDQStaNS9NTUFrR0ExVWRFd1FDTUFBd0dRWUpLb1pJaHZaOUIwRUFCQXd3Q2hzRVZqZ3VNd01DQkxBd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFFZmFidkVRcmt0MEJTUnkzYnA1NkRJMUJyWEN5eVFWdjhORkdsZ2VDQTNOV0V5dE9uQkpqaDNJT0c1YlpsclVBK1lnK2xJMWxFUFlWaGJxd0R2bmlDdUYyOWw1TE0zai82Y1c0YWRIRUFPMTVnZWNHUVRzbm9DUlRZMnYrTzBDcVZ5MGtaWkV0dFRFbGtPekZ3clNvQzRITDdkOG96cG9UR0NpVDBHK3lKT25mWm9yc1ZWd1JFNW9rNUhwMlYyQWEwQ2EvUUVkNzc4UFMxOXFqdHBEUWJjODdVYkVPSXY2alZscUM3VHhIVGViNjB2akhIcU14VFU5bCtjdGF0TnU4N1ovMTA3eG1NRmFVYTRVMXA0R0xZYm9QbElOSUkzVVlwdGNDdXRXeHROcTVGZ1RNTkI1eEJQUE9SU2tjSWxrNDBsc0U1R3EzczlVZ2xLZzNBQ3V1Wnc9PC9YNTA5Q2VydGlmaWNhdGU+PC9YNTA5RGF0YT48L0tleUluZm8+PC9TaWduYXR1cmU+\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug\",\"extension\":[{\"url\":\"quantityWords\",\"valueString\":\"twenty eight\"},{\"url\":\"schedule\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug\",\"code\":\"CD2\",\"display\":\"Schedule 2\"}}]},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-Account-code\",\"extension\":[{\"url\":\"costCentre\",\"valueReference\":{\"identifier\":{\"use\":\"official\",\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"A99968\"},\"display\":\"SOMERSET BOWEL CANCER SCREENING CENTRE\"}},{\"url\":\"spuriousCode\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code\",\"value\":\"G7345213\"}}}]},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation\",\"extension\":[{\"url\":\"numberOfPrescriptionsIssued\",\"valueUnsignedInt\":1},{\"url\":\"authorisationExpiryDate\",\"valueDateTime\":\"2020-08-07\"}]}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"A7B86F8D-1D7C-FC28-E050-D20AE3A215F0\"}],\"status\":\"active\",\"intent\":\"order\",\"category\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",\"code\":\"outpatient\",\"display\":\"Outpatient\"}]}],\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"36126511000001106\",\"display\":\"Morphine 10mg modified-release tablets\"}]},\"subject\":{\"reference\":\"#patient\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"}},\"authoredOn\":\"2019-12-30T12:00:00+00:00\",\"requester\":{\"reference\":\"#requester\"},\"basedOn\":[{\"reference\":\"https://elmpt-hospitals.nhs.uk/MedicationRequest/654321\"}],\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"A7B86F8D-1CF8-FC28-E050-D20AE3A215F0\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"3C2366-B81001-0A409U\"},\"courseOfTherapyType\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\",\"code\":\"continuous\",\"display\":\"Continuous long term therapy\"}]},\"dosageInstruction\":[{\"text\":\"1 tablet, daily\"}],\"dispenseRequest\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/dispensing-site-preference\",\"code\":\"0004\"}}],\"validityPeriod\":{\"start\":\"2020-07-13T12:00:00+00:00\",\"end\":\"2020-08-07T12:00:00+00:00\"},\"numberOfRepeatsAllowed\":0,\"quantity\":{\"value\":28,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"},\"performer\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"FX748\"}}},\"substitution\":{\"allowedBoolean\":false}}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "tags": [
                    "MedicationRequest"
                ],
                "summary": "patch",
                "description": "[patch](http://www.hl7.org/fhir/http.html#patch) a resource instance of type MedicationRequest by ID.\n\nReplaces part of the functionality in cancel prescription",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "The resource ID",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "6160eb19-6fc3-4b43-953a-54ea01dc1cf4"
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json-patch+json": {
                            "schema": {
                                "$ref": "#/components/schemas/JSONPATCH"
                            },
                            "example": "{\"patches\":[{\"op\":\"replace\",\"path\":\"/status\",\"value\":\"cancelled\"}]}"
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "example": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"information\",\n    \"code\": \"informational\"\n  } ]\n}"
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/MedicationRequest/{id}/$lock": {
            "post": {
                "tags": [
                    "MedicationRequest"
                ],
                "description": "Use this endpoint to lock a MedicationRequest so that it can be fulfilled.\n\n ## Parameters (In) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |content|1..1|Task||The profile needs to be updated and at present is just a place holder. The Task.status has a mandatory fixed value of `accepted`|\n\n ## Parameters (Out) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |return|0..1|OperationOutcome||A response|\n\n ## Comment \n\nOnly one MedicationRequest can be locked at one time.",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "The resource ID",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "6160eb19-6fc3-4b43-953a-54ea01dc1cf4"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/Parameters"
                            },
                            "examples": {
                                "Dispenser accepts a MedicationRequest assigned to them or takes ownership and accepts a MedicationRequest": {
                                    "summary": "Dispenser accepts a MedicationRequest assigned to them or takes ownership and accepts a MedicationRequest",
                                    "description": "Task.status is set to accepted and the owner field must be populated.",
                                    "value": "{\"resourceType\":\"Task\",\"id\":\"702cc4e9-81fc-470e-8ae1-43120ae5c16d\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"The pharmacist\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"702cc4e9-81fc-470e-8ae1-43120ae5c16d\"}],\"status\":\"accepted\",\"intent\":\"order\",\"code\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/CodeSystem/task-code\",\"code\":\"fulfill\",\"display\":\"Fulfill the focal request\"}]},\"focus\":{\"reference\":\"MedicationRequest/a7b86f8d-1d7c-fc28-e050-d20ae3a215f4\"},\"for\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9446368138\"}},\"authoredOn\":\"2022-04-14T20:39:32-04:00\",\"requester\":{\"reference\":\"#requester\"},\"owner\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"}}}"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Parameters"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\"resourceType\":\"OperationOutcome\",\"id\":\"option2\",\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-Spine-supportingInfo\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"}}],\"issue\":[{\"severity\":\"error\",\"code\":\"conflict\",\"details\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-IssueCode\",\"code\":\"PRESCRIPTION_WITH_ANOTHER_DISPENSER\",\"display\":\"Prescription is with another dispenser\"}]}}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/MedicationRequest/{id}/$unlock": {
            "post": {
                "tags": [
                    "MedicationRequest"
                ],
                "description": "Use this endpoint to unlock a MedicationRequest so that it can be fulfilled elsewhere (requested), indicate it has been completed, cancelled or has an error.\n\n ## Parameters (In) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |content|1..1|Task||The profile needs to be updated and at present is just a place holder. The Task.status has values requested/cancelled/failed/rejected/entered-in-error|\n\n ## Parameters (Out) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |return|0..1|OperationOutcome||A response|\n\n ## Comment \n\nOnly one MedicationRequest can be unlocked at one time.",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "The resource ID",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "6160eb19-6fc3-4b43-953a-54ea01dc1cf4"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/Parameters"
                            },
                            "examples": {
                                "Dispenser completes fullfilment of order": {
                                    "summary": "Dispenser completes fullfilment of order",
                                    "description": "Task.status set to completed.",
                                    "value": "{\"resourceType\":\"Task\",\"id\":\"af8a007d-0a7c-4124-a713-55280eaaf5bb\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"The pharmacist\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"af8a007d-0a7c-4124-a713-55280eaaf5bb\"}],\"status\":\"completed\",\"intent\":\"order\",\"code\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/CodeSystem/task-code\",\"code\":\"fulfill\",\"display\":\"Fulfill the focal request\"}]},\"focus\":{\"reference\":\"MedicationRequest/a7b86f8d-1d7c-fc28-e050-d20ae3a215f4\"},\"for\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9446368138\"}},\"authoredOn\":\"2022-04-14T22:39:32-04:00\",\"requester\":{\"reference\":\"#requester\"},\"owner\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"}}}"
                                },
                                "Dispenser rejects MedicationRequest assigned to them": {
                                    "summary": "Dispenser rejects MedicationRequest assigned to them",
                                    "description": "Task.status set to rejected and a statusReason is given (e.g. unable to dispense medications)",
                                    "value": "{\"resourceType\":\"Task\",\"id\":\"148fd3a7-79e1-4bee-b769-cc6ada05391d\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"Ms Lottie Maifeld\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ADD2E9DD-DA0A-C266-A4E3-447C68239525\"}],\"status\":\"rejected\",\"statusReason\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-return-status-reason\",\"code\":\"0002\",\"display\":\"Unable to dispense medication on prescriptions\"}]},\"intent\":\"order\",\"code\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/CodeSystem/task-code\",\"code\":\"fulfill\",\"display\":\"Fulfill the focal request\"}]},\"focus\":{\"reference\":\"MedicationRequest/1e34ee53-397a-2e70-e97c-67b1bd95014d\"},\"for\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9446368138\"}},\"authoredOn\":\"2016-03-10T22:39:32-04:00\",\"requester\":{\"reference\":\"#requester\"}}"
                                },
                                "Dispenser fails MedicationRequest assigned or previously accepted by them": {
                                    "summary": "Dispenser fails MedicationRequest assigned or previously accepted by them",
                                    "description": "Task.status set to rejected and a reason is given (e.g. invalid digital signature)",
                                    "value": "{\"resourceType\":\"Task\",\"id\":\"04908e21-1c70-4cc8-ac7b-1e611eddae1e\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/sds-user-id\",\"value\":\"2238910010\"},\"display\":\"Dr Liz Scott\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"The Acute Trust\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ADD2E9DD-DA0A-C266-A4E3-447C68239525\"}],\"groupIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"3C2366-B81001-0A409U\"},\"status\":\"failed\",\"statusReason\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason\",\"code\":\"0005\",\"display\":\"Invalid digital signature\"}]},\"intent\":\"order\",\"code\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/CodeSystem/task-code\",\"code\":\"abort\",\"display\":\"Mark the focal resource as no longer active\"}]},\"focus\":{\"reference\":\"MedicationRequest/ee86a018-779c-4809-999f-a9d89cdfd30f\"},\"for\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"},\"display\":\"MISS ETTA CORY\"},\"authoredOn\":\"2019-12-30T12:00:00+00:00\",\"requester\":{\"reference\":\"#requester\"},\"note\":[{\"text\":\"Prescription cancellation reason - missing in nextgen\"}]}"
                                },
                                "Dispenser or other practitioner cancels the MedicationRequest": {
                                    "summary": "Dispenser or other practitioner cancels the MedicationRequest",
                                    "description": "Task.status set to cancelled or entered-in-error.",
                                    "value": "{\"resourceType\":\"Task\",\"id\":\"1291fcca-902b-48f3-9d07-1be9ea30d7a0\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/sds-user-id\",\"value\":\"2238910010\"},\"display\":\"Dr Liz Scott\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"The Acute Trust\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ADD2E9DD-DA0A-C266-A4E3-447C68239525\"}],\"groupIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"3C2366-B81001-0A409U\"},\"status\":\"cancelled\",\"statusReason\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason\",\"code\":\"0001\",\"display\":\"Prescribing Error\"}]},\"intent\":\"order\",\"code\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/CodeSystem/task-code\",\"code\":\"abort\",\"display\":\"Mark the focal resource as no longer active\"}]},\"focus\":{\"reference\":\"MedicationRequest/ee86a018-779c-4809-999f-a9d89cdfd30f\"},\"for\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"},\"display\":\"MISS ETTA CORY\"},\"authoredOn\":\"2019-12-30T12:00:00+00:00\",\"requester\":{\"reference\":\"#requester\"},\"note\":[{\"text\":\"Prescription cancellation reason - missing in nextgen\"}]}"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Parameters"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\"resourceType\":\"OperationOutcome\",\"id\":\"option2\",\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-Spine-supportingInfo\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"}}],\"issue\":[{\"severity\":\"error\",\"code\":\"conflict\",\"details\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-IssueCode\",\"code\":\"PRESCRIPTION_WITH_ANOTHER_DISPENSER\",\"display\":\"Prescription is with another dispenser\"}]}}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/MedicationDispense": {
            "get": {
                "tags": [
                    "MedicationDispense"
                ],
                "summary": "search-type",
                "description": "[search](http://www.hl7.org/fhir/search.html) for MedicationDispense instances.\n\nEPS Tracker.",
                "parameters": [
                    {
                        "name": "patient:identifier",
                        "in": "query",
                        "description": "The identity of a patient to list dispenses for\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | patient | [token ](https://www.hl7.org/fhir/search.html#token)|   MedicationDispense.subject.identifier | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "token",
                            "example": "https://fhir.nhs.uk/Id/nhs-number|9000000009",
                            "items": {
                                "type": "string",
                                "format": "token"
                            }
                        }
                    },
                    {
                        "name": "prescription",
                        "in": "query",
                        "description": "The identity of a prescription to list dispenses from\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | prescription | [reference ](https://www.hl7.org/fhir/search.html#reference)|  MedicationDispense.authorizingPrescription | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "string",
                            "format": "reference",
                            "example": "[type]/[id] or [id] or [uri]"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Returns dispenses with a specified dispense status\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | status | [token ](https://www.hl7.org/fhir/search.html#token)|   MedicationDispense.status | \n\n\n A code from FHIR ValueSet [MedicationDispense Status Codes](http://hl7.org/fhir/ValueSet/medicationdispense-status)",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "token",
                            "example": "[system]|[code],[code],[system]",
                            "items": {
                                "type": "string",
                                "format": "token"
                            },
                            "enum": [
                                "preparation",
                                "declined",
                                "in-progress",
                                "stopped",
                                "completed",
                                "cancelled",
                                "unknown",
                                "on-hold",
                                "entered-in-error"
                            ]
                        }
                    },
                    {
                        "name": "_count",
                        "in": "query",
                        "description": "How many results to return\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | _count | [number ](https://www.hl7.org/fhir/search.html#number)|  null | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "type": "string",
                            "format": "special"
                        }
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/MedicationDispense"
                                },
                                "examples": {
                                    "Patient MedicationDispense search": {
                                        "summary": "Patient MedicationDispense search",
                                        "description": "Request **GET [baseUrl]/MedicationDispense?patient:identifier=https://fhir.nhs.uk/Id/nhs-number&#124;9912003888",
                                        "value": "{\"resourceType\":\"Bundle\",\"id\":\"11c0abb3-7223-4cd8-88bd-68d29694f24c\",\"type\":\"searchset\",\"total\":1,\"link\":[{\"relation\":\"self\",\"url\":\"http://example.org/FHIR/R4/MedicationDispense?patient:identifier=https://fhir.nhs.uk/Id/nhs-number|9453740519\"}],\"entry\":[{\"fullUrl\":\"MedicationDispense/06167339-9337-d030-0366-514a6a46da17\",\"resource\":{\"resourceType\":\"MedicationDispense\",\"id\":\"06167339-9337-d030-0366-514a6a46da17\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"performer\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"Mr Peter Potion\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\"code\":\"0003\",\"display\":\"With Dispenser - Active\"}}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-dispense-item-number\",\"value\":\"06167339-9337-d030-0366-514a6a46da17\"}],\"status\":\"in-progress\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"585011000001109\",\"display\":\"Metronidazole 400mg tablets (Teva UK Ltd)\"}]},\"subject\":{\"type\":\"Patient\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"},\"display\":\"MISS ETTA CORY\"},\"performer\":[{\"actor\":{\"reference\":\"#performer\",\"type\":\"PractitionerRole\"}}],\"authorizingPrescription\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier\",\"extension\":[{\"url\":\"shortForm\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"3C2366-B81001-0A409U\"}},{\"url\":\"UUID\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"66317E0C-CE13-59AD-9979-9B568E080160\"}}]}],\"reference\":\"urn:uuid:da549c24-abde-403a-bebe-96a1962ca018\"}],\"type\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0003\",\"display\":\"Item dispensed - partial\"}]},\"quantity\":{\"value\":21,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"},\"daysSupply\":{\"value\":7,\"unit\":\"Day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"whenPrepared\":\"2004-09-16T16:30:00+00:00\",\"dosageInstruction\":[{\"text\":\"3 times a day for 10 days\",\"timing\":{\"repeat\":{\"boundsDuration\":{\"value\":10,\"unit\":\"d\"},\"frequency\":3,\"period\":1,\"periodUnit\":\"d\"}},\"doseAndRate\":[{\"doseQuantity\":{\"value\":1,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"}}]}]},\"search\":{\"mode\":\"match\"}}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "MedicationDispense"
                ],
                "summary": "create",
                "description": "[create](http://www.hl7.org/fhir/http.html#create) a new MedicationDispense instance.\n\n**Mark a prescription as Dispensed**. Equivalent to `dispense-notification` in NextGen",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/MedicationDispense"
                            },
                            "examples": {
                                "example": {
                                    "value": "{\"resourceType\":\"MedicationDispense\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"performer\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"Mr Peter Potion\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\"code\":\"0003\",\"display\":\"With Dispenser - Active\"}}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-dispense-item-number\",\"value\":\"06167339-9337-d030-0366-514a6a46da17\"}],\"status\":\"in-progress\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"585011000001109\",\"display\":\"Metronidazole 400mg tablets (Teva UK Ltd)\"}]},\"subject\":{\"type\":\"Patient\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"},\"display\":\"MISS ETTA CORY\"},\"performer\":[{\"actor\":{\"reference\":\"#performer\",\"type\":\"PractitionerRole\"}}],\"authorizingPrescription\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier\",\"extension\":[{\"url\":\"shortForm\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"3C2366-B81001-0A409U\"}},{\"url\":\"UUID\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"66317E0C-CE13-59AD-9979-9B568E080160\"}}]}],\"reference\":\"urn:uuid:da549c24-abde-403a-bebe-96a1962ca018\"}],\"type\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0003\",\"display\":\"Item dispensed - partial\"}]},\"quantity\":{\"value\":21,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"},\"daysSupply\":{\"value\":7,\"unit\":\"Day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"whenPrepared\":\"2004-09-16T16:30:00+00:00\",\"dosageInstruction\":[{\"text\":\"3 times a day for 10 days\",\"timing\":{\"repeat\":{\"boundsDuration\":{\"value\":10,\"unit\":\"d\"},\"frequency\":3,\"period\":1,\"periodUnit\":\"d\"}},\"doseAndRate\":[{\"doseQuantity\":{\"value\":1,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"}}]}]}"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"information\",\n    \"code\": \"informational\"\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/MedicationDispense/{id}": {
            "get": {
                "tags": [
                    "MedicationDispense"
                ],
                "summary": "read",
                "description": "[read](http://www.hl7.org/fhir/http.html#read) MedicationDispense instance.\n\nNew feature. Allows querying of a patients dispense history",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "The resource ID",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "6160eb19-6fc3-4b43-953a-54ea01dc1cf4"
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/MedicationDispense"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\"resourceType\":\"MedicationDispense\",\"id\":\"06167339-9337-d030-0366-514a6a46da17\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"performer\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"Mr Peter Potion\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\"code\":\"0003\",\"display\":\"With Dispenser - Active\"}}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-dispense-item-number\",\"value\":\"06167339-9337-d030-0366-514a6a46da17\"}],\"status\":\"in-progress\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"585011000001109\",\"display\":\"Metronidazole 400mg tablets (Teva UK Ltd)\"}]},\"subject\":{\"type\":\"Patient\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"},\"display\":\"MISS ETTA CORY\"},\"performer\":[{\"actor\":{\"reference\":\"#performer\",\"type\":\"PractitionerRole\"}}],\"authorizingPrescription\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier\",\"extension\":[{\"url\":\"shortForm\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"3C2366-B81001-0A409U\"}},{\"url\":\"UUID\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"66317E0C-CE13-59AD-9979-9B568E080160\"}}]}],\"reference\":\"urn:uuid:da549c24-abde-403a-bebe-96a1962ca018\"}],\"type\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0003\",\"display\":\"Item dispensed - partial\"}]},\"quantity\":{\"value\":21,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"},\"daysSupply\":{\"value\":7,\"unit\":\"Day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"whenPrepared\":\"2004-09-16T16:30:00+00:00\",\"dosageInstruction\":[{\"text\":\"3 times a day for 10 days\",\"timing\":{\"repeat\":{\"boundsDuration\":{\"value\":10,\"unit\":\"d\"},\"frequency\":3,\"period\":1,\"periodUnit\":\"d\"}},\"doseAndRate\":[{\"doseQuantity\":{\"value\":1,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"}}]}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "tags": [
                    "MedicationDispense"
                ],
                "summary": "patch",
                "description": "[patch](http://www.hl7.org/fhir/http.html#patch) a resource instance of type MedicationDispense by ID.",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "The resource ID",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "6160eb19-6fc3-4b43-953a-54ea01dc1cf4"
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json-patch+json": {
                            "schema": {
                                "$ref": "#/components/schemas/JSONPATCH"
                            },
                            "example": "{\"patches\":[{\"op\":\"replace\",\"path\":\"/status\",\"value\":\"in-progress\"},{\"op\":\"add\",\"path\":\"/whenPrepared\",\"value\":[\"2022-02-08T00:00:00+00:00\"]}]}"
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "example": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"information\",\n    \"code\": \"informational\"\n  } ]\n}"
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "CapabilityStatement": {
                "type": "object",
                "description": "HL7 FHIR Schema [CapabilityStatement](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/CapabilityStatement).. HL7 FHIR Documentation [CapabilityStatement](\"https://www.hl7.org/fhir/CapabilityStatement.html\")",
                "externalDocs": {
                    "description": "CapabilityStatement",
                    "url": "https://www.hl7.org/fhir/CapabilityStatement.html"
                }
            },
            "OperationOutcome": {
                "type": "object",
                "description": "HL7 FHIR Schema [OperationOutcome](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/OperationOutcome).. HL7 FHIR Documentation [OperationOutcome](\"https://www.hl7.org/fhir/OperationOutcome.html\")",
                "externalDocs": {
                    "description": "OperationOutcome",
                    "url": "https://www.hl7.org/fhir/OperationOutcome.html"
                }
            },
            "MedicationRequest": {
                "type": "object",
                "properties": {
                    "extension": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Slicing](https://www.hl7.org/fhir/profiling.html#slicing)| *OPEN* discriminator -  *VALUE* *url*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:medicationRepeatInformation": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:medicationRepeatInformation|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|medicationRepeatInformation|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionUKCoreMedicationRepeatInformation](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation))|\n\n<br/>\n\n #### Definition\n\n This extension <b>MUST</b> be present for  `continuous` and `continuous-repeat-dispensing` therapy types. \r\n\r\n| Field | Description |\r\n|---|---|\r\n| numberOfRepeatPrescriptionsIssued |  Running total of number of issues made against a repeat authorisation. Including this issue.   |\r\n| ~~numberOfRepeatPrescriptionsAllowed~~ | Retired. See <a href=\"#numberOfRepeatsAllowed\">numberOfRepeatsAllowed</a> | \r\n| authorisationExpiryDate | The date a repeat prescription authorisation will expire. |\r\n\r\n```json\r\n\"extension\": [\r\n  {\r\n       \"url\": \"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation\",\r\n       \"extension\": [\r\n           {\r\n               \"url\": \"numberOfRepeatPrescriptionsIssued\",\r\n               \"valueUnsignedInt\": 3\r\n           },\r\n           {\r\n               \"url\": \"authorisationExpiryDate\",\r\n               \"valueDateTime\": \"2020-08-07\"\r\n           }\r\n       ]\r\n   }\r\n]\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:responsiblePractitioner": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:responsiblePractitioner|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|responsiblePractitioner|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionDMResponsiblePractitioner](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner))|\n\n<br/>\n\n #### Definition\n\n Must only be populated if the  `requester` can not be responsible for the prescription, i.e. they would not be named as the prescriber on the FP10.\r\n\r\n```json\r\n\"extension\": [\r\n        \r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner\",\r\n        \"valueReference\": {\r\n            \"reference\": \"urn:uuid:a5acefc1-f8ca-4989-a5ac-34ae36741466\",\r\n            \"display\": \"DR SAZ RAZ\"\r\n        }\r\n    }\r\n],\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:prescriptionEndorsement": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:prescriptionEndorsement|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|prescriptionEndorsement|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionPrescriptionEndorsement](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement))|\n\n<br/>\n\n #### Definition\n\n The codes are contained in the valueset\r\n\r\n| Code | Display |\r\n|---|---|\r\n| CC |  Contraceptive |\r\n| FS |  Sexual Health| \r\n| ACBS |  Advisory Committee on Borderline Substances. Part XV Drug Tariff | \r\n| SLS |  Selected List Scheme. Part XVIIIB Drug Tariff | \r\n| AF |  Food replacement/food supplement products|\r\n\r\n```json\r\n\"resourceType\": \"MedicationRequest\",\r\n    \"extension\":  [\r\n      {\r\n          \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement\",\r\n          \"valueCodeableConcept\": {\r\n              \"coding\":  [\r\n                {\r\n                    \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement\",\r\n                    \"code\": \"SLS\",\r\n                    \"display\": \"Selected List Scheme\"\r\n                }\r\n            ]\r\n        }\r\n    }\r\n  ],\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:prescriptionTaskStatusReason": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:prescriptionTaskStatusReason|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|prescriptionTaskStatusReason|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionDMPrescriptionStatusHistory](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionStatusHistory))|\n\n<br/>\n\n #### Definition\n\n The status history within EPS is primarily a technical Status and the statusReason will reflect current clinical status of the order.",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:NHSBSAprescriptionType": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:NHSBSAprescriptionType|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|NHSBSAprescriptionType|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([Extension NHS BSA prescriptionType](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType))|\n\n<br/>\n\n #### Definition\n\n The vocabulary for the PrescriptionType vocabulary is defined within the NHSBSA Overprint Specification. \r\n\r\nThe System must populate the PrescriptionType attribute for the appropriate combination of prescriber and care setting. Retired codes within this vocabulary must not be used\r\n\r\n```json\r\n\"extension\":  [\r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType\",\r\n        \"valueCoding\": {\r\n            \"system\": \"https://fhir.nhs.uk/CodeSystem/prescription-type\",\r\n            \"code\": \"1201\",\r\n            \"display\": \"Outpatient Homecare Prescriber - Medical Prescriber\"\r\n        }\r\n    }\r\n    ]\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:controlledDrug": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:controlledDrug|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|controlledDrug|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionDMControlledDrug](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug))|\n\n<br/>\n\n #### Definition\n\n The table below summarises the EPS requirements for the CD schedules. The terms Hand signature and Electronic signature expressed in the table are shortened references to the legal definition of signature requirements within government legislation.\r\n\r\n| Sch. | Code | Signing Legal Requirement | EPS Scope | Expiry Date | Quantity Representation | Repeat Dispensing Allowed | RD 1st Issue Expiry | RD Subsequent Expiry |\r\n|---|---|---|---|---|---|---|---|---|\r\n| 1 | CD1 | Invalid to prescribe | Out of scope | N/A | N/A | N/A | N/A ||\r\n| 2 | CD2 | Hand signature or electronic signature | In scope | 28 days | Words and Figures | No | N/A | N/A ||\r\n| 3 | CD3 | Hand signature or electronic signature | In scope | 28 days | Words and Figures | No | N/A | N/A ||\r\n| 4 | CD4-1 CD4-2 | Hand signature or electronic signature | In scope | 28 days | Figures | Yes | 28 days | Up to 12 months |\r\n| 5 | CD5 | Hand signature or electronic signature | In scope | 6 Months | Figures | Yes | 6 months | Up to 12 months |\r\n\r\nIt is a legal requirement to state the prescribed quantity as words in the `quantityWords`\r\n\r\n```json\r\n{\r\n    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug\",\r\n    \"extension\": [\r\n        {\r\n            \"url\": \"quantityWords\",\r\n            \"valueString\": \"twenty eight\"\r\n        },\r\n        {\r\n            \"url\": \"schedule\",\r\n            \"valueCoding\": {\r\n                \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug\",\r\n                \"code\": \"CD2\",\r\n                \"display\": \"Schedule 2\"\r\n            }\r\n        }\r\n    ]\r\n}\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:dispensingInformation": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:dispensingInformation|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|dispensingInformation|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionEPSDispensingInformation](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation))|\n\n<br/>\n\n #### Definition\n\n This extension is used in `continuous-repeat-dispensing` prescriptions sent by EPS to dispensing systems to convey information on prior dispensed medications.\r\n\r\n\r\n```json\r\n\"extension\":  [\r\n                {\r\n                    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation\",\r\n                    \"extension\":  [\r\n                        {\r\n                            \"url\": \"dispenseStatus\",\r\n                            \"valueCoding\": {\r\n                                \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\r\n                                \"code\": \"0001\",\r\n                                \"display\": \"Item fully dispensed\"\r\n                            }\r\n                        },\r\n                        {\r\n                            \"url\": \"dateLastDispensed\",\r\n                            \"valueDateTime\": \"2018-04-22T09:57:03+00:00\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "identifier": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Slicing](https://www.hl7.org/fhir/profiling.html#slicing)| *OPEN* discriminator -  *VALUE* *system*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n UUID example (for illustration purposes only);\r\n\r\na54219b8-f741-4c47-b662-e4f8dfa49ab6\r\n\r\n```json\r\n \"identifier\":  [\r\n    {\r\n        \"system\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\",\r\n        \"value\": \"a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\r\n    }\r\n]\r\n```\n\n #### Comment\n\n This is a business identifier, not a resource identifier.",
                        "items": {
                            "type": "object"
                        }
                    },
                    "identifier:prescriptionOrderItem": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.identifier:prescriptionOrderItem|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|prescriptionOrderItem|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n Unique Id of the MedicationRequest within EPS\n\n #### Comment\n\n This is a business identifier, not a resource identifier.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "system": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.identifier:prescriptionOrderItem.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/Id/prescription-order-item-number|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                },
                                "value": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.identifier:prescriptionOrderItem.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                }
                            }
                        }
                    },
                    "status": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.status|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[medicationrequest Status](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=http://hl7.org/fhir/ValueSet/medicationrequest-status&#124;4.0.1) (Required) <br/>A coded concept specifying the state of the prescribing event. Describes the lifecycle of the prescription. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A code specifying the current state of the order. Generally, this will be active or completed state. \r\n\r\n| code | Definition |\r\n|--|--|\r\n| active | The prescription is 'actionable', but not all actions that are implied by it have occurred yet. It has not been dispensed or filled. |\r\n| cancelled | The prescription is to be cancelled or it has been cancelled been withdrawn before any administrations have occurred. Prescriptions in the process of being cancelled will be regarded as active until all actions are complete. |\r\n| stopped | Actions implied by the prescription are to be permanently halted, before all of the administrations occurred. This should not be used if the original order was entered in error|\r\n|completed|All actions that are implied by the prescription have occurred.|\r\n\r\n\r\n### Logical medicationRequest status transitions\r\n\r\nThis state transition diagram is an enhancement over the generic State Machine defined within the FHIR specification. It includes the status values associated with a medication request with transitions applicable to a UK implementation.\r\n\r\n<img src=\"https://raw.githubusercontent.com/NHSDigital/NHSDigital-FHIR-Medicines-ImplementationGuide/master/Diagrams/medication-request-status-flow.png\" width=\"100%\" hieght=\"auto\"/>\n\n #### Comment\n\n This element is labeled as a modifier because the status contains codes that mark the resource as not currently valid."
                    },
                    "statusReason": {
                        "minimum": 0,
                        "type": "object",
                        "properties": {
                            "coding": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.statusReason.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.statusReason.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                        },
                                        "code": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.statusReason.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                        },
                                        "display": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.statusReason.coding.display|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A representation of the meaning of the code in the system, following the rules of the system.\n\n #### Requirements\n\n Need to be able to carry a human-readable meaning of the code for readers that do not know  the system."
                                        }
                                    }
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.statusReason|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationRequestStatusReason](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-medicationrequest-status-reason) (Required)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n This is generally only used for exception statuses such as `suspended` or `cancelled`. It is the clinical status reason for the cancellation.\r\n\r\nThis is mandatory for 'prescription-order-update' messages.\r\n\r\n```json\r\n\"statusReason\": {\r\n    \"coding\": [\r\n        {\r\n            \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason\",\r\n            \"code\": \"0001\",\r\n            \"display\": \"Prescribing Error\"\r\n        }\r\n    ]\r\n},\r\n```\n\n #### Comment\n\n This is generally only used for \"exception\" statuses such as \"suspended\" or \"cancelled\". The reason why the MedicationRequest was created at all is captured in reasonCode, not here."
                    },
                    "intent": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.intent|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[medicationRequest Intent](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=http://hl7.org/fhir/ValueSet/medicationrequest-intent&#124;4.0.1) (Required) <br/>The kind of medication order. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n Whether the request is a proposal, plan, or an original order.\n\n #### Comment\n\n Indicates the type of order. A code specifying the current state of the order. Generally, this will be active or completed state. \r\n\r\n| code | display | courseOfTherapyType | Definition |\r\n|---|---|\r\n| order | Order | acute | The request represents a request/demand and authorization for action |\r\n| original-order | Original Order | continuous-repeat-dispensing instalment-dispensing | The request represents the original authorization for the medication request. |\r\n| reflex-order |Reflex Order | continuous-repeat-dispensing | The request represents an automatically generated supplemental authorization (by EPS) for action based on a parent authorization together with initial results of the action taken against that parent authorization. |\r\n| instance-order | Instance Order | instalment-dispensing | The request represents an instance for the particular order. |"
                    },
                    "category": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.category|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[UKCoreMedicationRequestCategory](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.hl7.org.uk/ValueSet/UKCore-MedicationRequestCategory) (Extensible)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n In primary care the code of `community` should be used. In secondary care the category will often match the Episode/Spell type.\r\n\r\n| Code | System | Display |\r\n|---|---|\r\n| leave | https://fhir.nhs.uk/CodeSystem/medicationrequest-category | Leave |\r\n|outpatient | http://terminology.hl7.org/CodeSystem/medicationrequest-category |Outpatient |\r\n| discharge | http://terminology.hl7.org/CodeSystem/medicationrequest-category | Discharge |\r\n| community |http://terminology.hl7.org/CodeSystem/medicationrequest-category | Community |\r\n| inpatient  |http://terminology.hl7.org/CodeSystem/medicationrequest-category | Inpatient |\r\n\r\n```json\r\n\"category\": [\r\n    {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",\r\n                \"code\": \"outpatient\",\r\n                \"display\": \"Outpatient\"\r\n            }\r\n        ]\r\n    }\r\n],\r\n```\n\n #### Comment\n\n The category can be used to include where the medication is expected to be consumed or other types of requests.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "coding": {
                                    "minimum": 1,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.category.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Slicing](https://www.hl7.org/fhir/profiling.html#slicing)| *OPEN* discriminator -  *VALUE* *system*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                    "items": {
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "medication[x]": {
                        "minimum": 1,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.medication[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[UKCoreMedicationCode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.hl7.org.uk/ValueSet/UKCore-MedicationCode) (Extensible)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)([NHSDigitalMedicationRequestCodeableConcept](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-CodeableConcept))[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalMedicationRequestMedication](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-Medication))<br/> Aggregation - [bundled](http://www.hl7.org/fhir/valueset-resource-aggregation-mode.html)|\n\n<br/>\n\n #### Definition\n\n Only Virtual Medical Products (VMP) and Actual Medical Products (AMP) can be used.\n\n #### Comment\n\n Any code from the SnomedCT UK DMD subset for VMP, AMP and VTM concepts\r\n\r\n<table>\r\n<thead>\r\n<th data-no-sort width=\"25%\">\r\ndm+d Category\r\n</th>\r\n<th data-no-sort width=\"50%\">\r\ndm+d Description\r\n</th>\r\n<th data-no-sort width=\"25%\">\r\nUK SNOMED Members Of\r\n</th>\r\n\r\n</thead>\r\n<tr>\r\n<td>\r\nVMP\r\n</td>\r\n<td>\r\nVirtual Medical Product\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000561000001109\" target=\"_blank\">999000561000001109</a>\r\n</td>\r\n</tr>\r\n<tr>\r\n<td>\r\nAMP\r\n</td>\r\n<td>\r\nActual Medical Product\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000541000001108\" target=\"_blank\">999000541000001108</a>\r\n</td>\r\n</tr>\r\n</table>"
                    },
                    "subject": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "reference": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.subject.reference|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.\n\n #### Comment\n\n Using absolute URLs provides a stable scalable approach suitable for a cloud/web context, while using relative/logical references provides a flexible approach suitable for use when trading across closed eco-system boundaries.   Absolute URLs do not need to point to a FHIR RESTful server, though this is the preferred approach. If the URL conforms to the structure \"/[type]/[id]\" then it should be assumed that the reference is to a FHIR RESTful server."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.subject|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)<br/> Aggregation - [contained](http://www.hl7.org/fhir/valueset-resource-aggregation-mode.html)|\n\n<br/>\n\n #### Definition\n\n A resource reference to a Patient with a traced NHS Number is required, an untraced NHS Number **MUST NOT** be used.\r\n\r\n```json\r\n \"subject\": {\r\n                    \"type\": \"Patient\",\r\n                    \"reference\": \"urn:uuid:bde9eba6-079f-4210-8108-6ea8db58de8c\",\r\n                    \"display\": \"Miss Bernie Kanfeld\"\r\n                }\r\n```\n\n #### Comment\n\n The subject on a medication request is mandatory.  For the secondary use case where the actual subject is not provided, there still must be an anonymized subject specified.\n\n #### Constraints \n\n- **patient-nhs** (*ERROR*) Supplied NHS Number is outside the English and Welsh NHS Number range or length of the number is wrong."
                    },
                    "authoredOn": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.authoredOn|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)|\n\n<br/>\n\n #### Definition\n\n The date (and perhaps time) when the prescription was initially written or authored on."
                    },
                    "requester": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "reference": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.requester.reference|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.\n\n #### Comment\n\n Using absolute URLs provides a stable scalable approach suitable for a cloud/web context, while using relative/logical references provides a flexible approach suitable for use when trading across closed eco-system boundaries.   Absolute URLs do not need to point to a FHIR RESTful server, though this is the preferred approach. If the URL conforms to the structure \"/[type]/[id]\" then it should be assumed that the reference is to a FHIR RESTful server."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.requester|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalPractitionerRoleEPSLegal](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole-EPSLegal))<br/> Aggregation - [contained](http://www.hl7.org/fhir/valueset-resource-aggregation-mode.html)|\n\n<br/>\n\n #### Definition\n\n The requester must contain a resource reference to the Practitioner who has electronically signed the prescription.\r\n\r\nIf the `requester` can not take responsibility for the prescription, i.e. they would not be the prescriber on the FP10. Then the **extension responsiblePractitioner** must be populated.\r\n\r\n```json\r\n\"requester\": {\r\n    \"reference\": \"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\"\r\n},\r\n```\n\n #### Constraints \n\n- **eps-3** (*ERROR*) requester - An identifier reference plus a display name or resource reference must be provided"
                    },
                    "basedOn": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.basedOn|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([DomainResource](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/DomainResource) [MedicationRequest](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/MedicationRequest))|\n\n<br/>\n\n #### Definition\n\n This MUST be populated for `continuous-repeat-dispensing` issues where intent=`reflex-order`, i.e. the issues sent from EPS to pharmacists.\r\nIt is recommended this is populated for `continuous` issues and this should reference the original order.\r\n\r\nExample for a `reflex-order` (continuous-repeat-dispensing): \r\n\r\n```json\r\n \"basedOn\": [\r\n        {\r\n            \"extension\": [\r\n                {\r\n                    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation\",\r\n                    \"extension\": [\r\n                        {\r\n                            \"url\": \"numberOfRepeatsAllowed\",\r\n                            \"valueInteger\": 6\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"identifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\",\r\n                \"value\": \"A7B86F8D-1D59-FC28-E050-D20AE3A215F0\"\r\n            }\r\n        }\r\n    ]\r\n```\r\n\r\nExample for a `instance-order` (continuous). Note this references an example MedicationRequest from GP Connect:\r\n\r\n```json\r\n \"basedOn\": [\r\n        {\r\n            \"extension\": [\r\n                {\r\n                    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation\",\r\n                    \"extension\": [\r\n                        {\r\n                            \"url\": \"numberOfRepeatsAllowed\",\r\n                            \"valueInteger\": 5\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"identifier\": {\r\n                \"system\": \"https://provider.nhs.uk/data-identifier\",\r\n                \"value\": \"53426283749629\"\r\n            }\r\n        }\r\n    ]\r\n```",
                        "items": {
                            "type": "object",
                            "properties": {
                                "extension:repeatInformation": {
                                    "minimum": 0,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.basedOn.extension:repeatInformation|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|repeatInformation|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionEPSRepeatInformation](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation))|\n\n<br/>\n\n #### Definition\n\n The extension `numberOfRepeatsIssued` should not be populated.\r\n\r\nThe meaning of `numberOfRepeatsAllowed` is the same as the dispensingRequest.numberOfRepeatsAllowed i.e. \r\n\r\nAn integer indicating the number of times, in addition to the original dispense, (aka refills or repeats) that the patient can receive the prescribed medication. Usage Notes: This integer does not include the original order dispense. This means that if an order indicates dispense 30 tablets plus \"3 repeats\", then the order can be dispensed a total of 4 times and the patient can receive a total of 120 tablets. A prescriber may explicitly say that zero refills are permitted after the initial dispense.\r\n\r\n```json\r\n\"extension\": [\r\n                {\r\n                    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation\",\r\n                    \"extension\": [\r\n                        {\r\n                            \"url\": \"numberOfRepeatsAllowed\",\r\n                            \"valueUnsignedInt\": 2\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n```",
                                    "items": {
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "groupIdentifier": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "extension": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Slicing](https://www.hl7.org/fhir/profiling.html#slicing)| *OPEN* discriminator -  *VALUE* *url*<br/> Extensions are always sliced by (at least) url|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                                "items": {
                                    "type": "object"
                                }
                            },
                            "extension:PrescriptionOrderUUID": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier.extension:PrescriptionOrderUUID|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|PrescriptionOrderUUID|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionDMPrescriptionId](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId))|\n\n<br/>\n\n #### Definition\n\n When UUIDs are used within HL7 messages they must be represented in an upper case human-readable hexadecimal format where hyphen separators are used as per the example below and as defined by the datatype schema within the DMS.\r\n\r\nUUID example (for illustration purposes only);\r\n\r\n**34026084-A445-84AD-2D01-97D69ED25865**\r\n\r\n```json\r\n\"groupIdentifier\": {\r\n    \"extension\":  [\r\n        {\r\n            \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\r\n            \"valueIdentifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/prescription\",\r\n                \"value\": \"ad945a29-85f8-439a-b590-6789719adc16\"\r\n            }\r\n        }\r\n    ],\r\n    \"system\": \"https://fhir.nhs.uk/Id/prescription-order-number\",\r\n    \"value\": \"DC2C66-A1B2C3-23407B\"\r\n},\r\n```",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "url": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier.extension:PrescriptionOrderUUID.url|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[http://hl7.org/fhirpath/System.String](https://www.hl7.org/fhir/datatypes.html#http://hl7.org/fhirpath/System.String)|\n\n<br/>\n\n #### Definition\n\n Source of the definition for the extension code - a logical name or a URL.\n\n #### Comment\n\n The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension."
                                        }
                                    }
                                }
                            },
                            "system": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/Id/prescription-order-number|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                            },
                            "value": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n The purpose of the Short Form Prescription ID is to identify the prescription during its lifecycle within the Spine (i.e. prescribe, dispense & claim). The prescription UUID is retained to provide the link through to the Spine medication record within the PSIS and must be included as the first identifier within the prescription message.\r\nThe format of the Short Form Prescription ID is as follows;\r\n\r\n`<RandomNumber>-<PracticeODSCode/ClinicODSCode>-<PracticeSequence/ClinicSequence><CheckDigit>`\r\n\r\nWhere;\r\n\r\n`<RandomNumber>` is a locally generated random number each time a Prescription ID is generated of length 6 hexadecimal characters.\r\n\r\n`<PracticeODSCode/ClinicODSCode>` is the unique ODS code for the practice or clinic code (aka cost centre) as defined within the Spine SDS of length 6 characters. Where the prescriber ODS code is shorter than 6 characters it must be zero-padded up to six characters from the start of the ODS code, e.g. 0A1B2C.\r\n\r\n`<PracticeSequence/ClinicSequence>` is an incremental sequence number starting from 00000 that is reset after FFFFF back to zero of length 5 hexadecimal characters. For systems that support multiple practices or clinics, a sequence number per practice/clinic is required. This is to ensure uniqueness of prescriptions within the Spine EPS component during the prescription lifecycle.\r\n\r\n`<CheckDigit>` is calculated on the entire ID using the ISO/IEC 7064:2003 MOD 37-2 standard. The check digit algorithm is identical to that using for EPS Release 1.\r\n\r\nNote. Hyphens are always included to separate the ID into 3 blocks of 6 characters.\r\n\r\nNote. The implementation of the MOD 37-2 standard uses a + character for char 36 opposed to a * character.\r\n\r\nShort Form Prescription ID example (for illustration purposes only);\r\n\r\n**83C40E-A23856-00123W**\r\n\r\n```json\r\n\"groupIdentifier\": {\r\n    ...\r\n    \"system\": \"https://fhir.nhs.uk/Id/prescription-order-number\",\r\n    \"value\": \"DC2C66-A1B2C3-23407B\"\r\n},\r\n```\n\n #### Requirements\n\n Requests are linked either by a \"basedOn\" relationship (i.e. one request is fulfilling another) or by having a common requisition. Requests that are part of the same requisition are generally treated independently from the perspective of changing their state or maintaining them after initial creation.\n\n #### Comment\n\n ITK HL7v3 Mapping = The groupIdentifier is equivalent to ParentPrescription.id (prescription-order-number). The extension is used to carry the ParentPrescription.id (UUID)."
                    },
                    "courseOfTherapyType": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "coding": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.courseOfTherapyType.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.courseOfTherapyType.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                        },
                                        "code": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.courseOfTherapyType.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                        }
                                    }
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.courseOfTherapyType|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationRequestCourseOfTherapyCodes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-medicationrequest-course-of-therapy) (Required)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n ```json\r\n\"courseOfTherapyType\": {\r\n  \"coding\":  [\r\n      {\r\n          \"system\": \"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\",\r\n          \"code\": \"acute\",\r\n          \"display\": \"Short course (acute) therapy\"\r\n      }\r\n  ]\r\n},\r\n```\n\n #### Comment\n\n The type of prescription e.g. acute, continuous, etc. Was extension in STU3 https://fhir.hl7.org.uk/STU3/StructureDefinition/Extension-CareConnect-PrescriptionType-1 and Digital Medicine uses international codes, so continuous in place of repeat."
                    },
                    "note": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.note|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Annotation](https://www.hl7.org/fhir/datatypes.html#Annotation)|\n\n<br/>\n\n #### Definition\n\n Clinical information relating to a prescribed medication item that cannot be conveyed within dosage instructions is populated within `note` field.\r\n\r\nExamples of dispensing notes are:\r\n\r\n- To explain changes in dosage, for example, Dosage has been increased on advice of the hospital.\r\n- \"Tell patient to stop their statin whilst on this anitbiotic\"\r\n- \"hospital consultant has confirmed dual treatment\"\r\n\r\nOne scenario where `note` must be populated is when the current prescribed medication item is the last authorised repeat of that medication within a repeat prescribing cycle. Appropriate text, such as Last authorised repeat must be included within the `note` to inform the dispenser and to allow the dispenser to communicate to the patient or patient representative. Note that for repeat dispensing, the numberOfRepeatPrescriptionsIssued element also conveys this information.\r\n\r\n```json\r\n\"note\": [\r\n    {\r\n      \"text\": \"Tell patient to stop their statin whilst on this anitbiotic\"\r\n    }\r\n  ],\r\n```",
                        "items": {
                            "type": "object",
                            "properties": {
                                "text": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.note.text|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[markdown](https://www.hl7.org/fhir/datatypes.html#markdown)|\n\n<br/>\n\n #### Definition\n\n The text of the annotation in markdown format."
                                }
                            }
                        }
                    },
                    "dosageInstruction": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dosageInstruction|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Dosage](https://www.hl7.org/fhir/datatypes.html#Dosage)([NHSDigitalDosage](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Dosage))|\n\n<br/>\n\n #### Definition\n\n The content of the `dosageInstruction` should follow guidance in [Dosage Structure Overview](https://developer.nhs.uk/apis/dose-syntax-implementation/dosage-overview.html). (Note this is based on CareConnect STU3 but the guidance is still valid in UKCore R4)\r\n\r\n`dosageInstruction.text` **MUST** be supplied and is a human readable version of the structured dose as would be printed on a paper prescription. The prescriber is required to enter a medication item dosage. The use of a generic default value, for example Use as directed, if a value is not entered, is not acceptable from a clinical perspective.\r\n\r\nThe prescriber is required to enter a medication item dosage. The use of a generic default value, for example Use as directed, if a value is not entered, is not acceptable from a clinical perspective. The user must be asked to select a dosage instruction from a pick list, type by hand or have the system populate with a valid and clinically safe dosage instruction relevant to the prescribed medication or clinical circumstances.\r\n\r\nAs per BNF guidelines, the dosage must be presented to the user without abbreviation although it may be entered and stored within the PMR in an abbreviated form. Within HL7 messaging, the dosage instruction must be represented without abbreviation.\r\n\r\n```json\r\n\"dosageInstruction\": [\r\n   {\r\n        \"text\": \"10 milligram, Inject, Subcutaneous route, once weekly\",\r\n        \"timing\": {\r\n            \"repeat\": {\r\n                \"boundsDuration\": {\r\n                    \"value\": 10,\r\n                    \"unit\": \"day\",\r\n                     \"system\": \"http://unitsofmeasure.org\",\r\n                     \"code\": \"d\"\r\n                },\r\n                 \"frequency\": 5,\r\n                 \"period\": 1,\r\n                \"periodUnit\": \"d\"\r\n             }\r\n        },\r\n        \"route\": {\r\n            \"coding\": [\r\n                {\r\n                    \"system\": \"http://snomed.info/sct\",\r\n                    \"code\": \"34206005\",\r\n                    \"display\": \"Subcutaneous route\"\r\n                }\r\n            ]\r\n        },\r\n        \"method\": {\r\n            \"coding\": [\r\n                {\r\n                    \"system\": \"http://snomed.info/sct\",\r\n                    \"code\": \"422145002\",\r\n                    \"display\": \"Inject\"\r\n                }\r\n            ]\r\n        },\r\n        \"doseAndRate\": [\r\n            {\r\n                \"doseQuantity\": {\r\n                    \"value\": 10,\r\n                    \"unit\": \"milligram\",\r\n                    \"system\": \"http://unitsofmeasure.org\",\r\n                    \"code\": \"mg\"\r\n                }\r\n            }\r\n        ]\r\n    }\r\n]\r\n\r\n```\n\n #### Comment\n\n There are examples where a medication request may include the option of an oral dose or an Intravenous or Intramuscular dose.  For example, \"Ondansetron 8mg orally or IV twice a day as needed for nausea\" or \"Compazine (prochlorperazine) 5-10mg PO or 25mg PR bid prn nausea or vomiting\".  In these cases, two medication requests would be created that could be grouped together.  The decision on which dose and route of administration to use is based on the patient's condition at the time the dose is needed.",
                        "items": {
                            "type": "object"
                        }
                    },
                    "dispenseRequest": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "extension": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Slicing](https://www.hl7.org/fhir/profiling.html#slicing)| *OPEN* discriminator -  *VALUE* *url*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                                "items": {
                                    "type": "object"
                                }
                            },
                            "extension:performerSiteType": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.extension:performerSiteType|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|performerSiteType|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionperformerSiteType](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType))|\n\n<br/>\n\n #### Definition\n\n Used to indicate type of pharmacist",
                                "items": {
                                    "type": "object"
                                }
                            },
                            "validityPeriod": {
                                "minimum": 0,
                                "type": "object",
                                "properties": {
                                    "start": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.validityPeriod.start|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)|\n\n<br/>\n\n #### Definition\n\n The start of the period. The boundary is inclusive.\n\n #### Comment\n\n If the low element is missing, the meaning is that the low boundary is not known."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.validityPeriod|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Period](https://www.hl7.org/fhir/datatypes.html#Period)|\n\n<br/>\n\n #### Definition\n\n The `validityPeriod` attribute defines the validity period for the prescription authorisation. This period must start (the `validityPeriod.start`) at the date of prescribing and cannot exceed 12 months (the `validityPeriod.end`). Typically, most repeatable prescriptions will be authorised for a validity period of either 6 or 12 months.\r\n\r\n```json\r\n\"dispenseRequest\": {\r\n          \"validityPeriod\": {\r\n            \"start\": \"2020-06-10\",\r\n            \"end\": \"2020-12-07\"\r\n          },\r\n          ...\r\n      }\r\n```\n\n #### Requirements\n\n Indicates when the Prescription becomes valid, and when it ceases to be a dispensable Prescription.\n\n #### Comment\n\n It reflects the prescribers' perspective for the validity of the prescription. Dispenses must not be made against the prescription outside of this period. The lower-bound of the Dispensing Window signifies the earliest date that the prescription can be filled for the first time. If an upper-bound is not specified then the Prescription is open-ended or will default to a stale-date based on regulations."
                            },
                            "numberOfRepeatsAllowed": {
                                "minimum": 0,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.numberOfRepeatsAllowed|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[unsignedInt](https://www.hl7.org/fhir/datatypes.html#unsignedInt)|\n\n<br/>\n\n #### Definition\n\n An integer indicating the number of times, in addition to the original dispense, (aka refills or repeats) that the patient can receive the prescribed medication. Usage Notes: This integer does not include the original order dispense. This means that if an order indicates dispense 30 tablets plus \"3 repeats\", then the order can be dispensed a total of 4 times and the patient can receive a total of 120 tablets. A prescriber may explicitly say that zero refills are permitted after the initial dispense. \r\n\r\nThe number of repeat issues authorised if specified. <br> <b>MUST</b> be present where a `continuous` or `continuous-repeat-dispensing` is authorised for a defined number of issues. <br> <b>MUST</b> NOT be specified where the number of repeat issues has not been defined. Therefore, the numberOfRepeats allowed is the total number of allowed issues. See also <a href=\"#repeatInformation\">extension repeatInformation</a>\r\n\r\nFor `continuous` orders and `continuous-repeat-dispensing` with intent=`reflex-order` (i.e., orders sent from EPS to pharmacists) this <b>MUST</b> be zero. The `numberOfRepeatsAllowed` in the extension to `basedOn` can be used to convey this information to inform patients that they need to re-order the medication.\r\n\r\nExample for a `continuous` issue:\r\n\r\n```json\r\n\r\n\"dispenseRequest\": {\r\n        \"numberOfRepeatsAllowed\": 0\r\n    }\r\n\r\n```\r\n\r\nExample for a `continuous-repeat-dispensing` issue with intent of `original-order`:\r\n\r\n```json\r\n\r\n\"dispenseRequest\": {\r\n        \"numberOfRepeatsAllowed\": 2\r\n    }\r\n```\r\n\r\nThis will result in a total of three issues of the medication.\n\n #### Comment\n\n If displaying \"number of authorized fills\", add 1 to this number."
                            },
                            "quantity": {
                                "minimum": 1,
                                "type": "object",
                                "properties": {
                                    "value": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.quantity.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[decimal](https://www.hl7.org/fhir/datatypes.html#decimal)|\n\n<br/>\n\n #### Definition\n\n The value of the measured amount. The value includes an implicit precision in the presentation of the value.\n\n #### Requirements\n\n Precision is handled implicitly in almost all cases of measurement.\n\n #### Comment\n\n The implicit precision in the value should always be honored. Monetary values have their own rules for handling precision (refer to standard accounting text books)."
                                    },
                                    "unit": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.quantity.unit|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A human-readable form of the unit.\n\n #### Requirements\n\n There are many representations for units of measure and in many contexts, particular representations are fixed and required. I.e. mcg for micrograms."
                                    },
                                    "code": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.quantity.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A computer processable form of the unit in some unit representation system.\n\n #### Requirements\n\n Need a computable form of the unit that is fixed across all forms. UCUM provides this for quantities, but SNOMED CT provides many units of interest.\n\n #### Comment\n\n The preferred system is UCUM, but SNOMED CT can also be used (for customary units) or ISO 4217 for currency.  The context of use may additionally require a code from a particular system."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.quantity|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Quantity](https://www.hl7.org/fhir/datatypes.html#Quantity)([SimpleQuantity](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/SimpleQuantity))|\n\n<br/>\n\n #### Definition\n\n The amount that is to be dispensed for one fill."
                            },
                            "expectedSupplyDuration": {
                                "minimum": 0,
                                "type": "object",
                                "properties": {
                                    "value": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.expectedSupplyDuration.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[decimal](https://www.hl7.org/fhir/datatypes.html#decimal)|\n\n<br/>\n\n #### Definition\n\n The value of the measured amount. The value includes an implicit precision in the presentation of the value.\n\n #### Requirements\n\n Precision is handled implicitly in almost all cases of measurement.\n\n #### Comment\n\n The implicit precision in the value should always be honored. Monetary values have their own rules for handling precision (refer to standard accounting text books)."
                                    },
                                    "code": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.expectedSupplyDuration.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|d|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A computer processable form of the unit in some unit representation system.\n\n #### Requirements\n\n Need a computable form of the unit that is fixed across all forms. UCUM provides this for quantities, but SNOMED CT provides many units of interest.\n\n #### Comment\n\n The preferred system is UCUM, but SNOMED CT can also be used (for customary units) or ISO 4217 for currency.  The context of use may additionally require a code from a particular system."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.expectedSupplyDuration|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Duration](https://www.hl7.org/fhir/datatypes.html#Duration)|\n\n<br/>\n\n #### Definition\n\n The `expectedSupplyDuration` entity is required for repeat dispensing (repeatable) prescriptions only.\r\n\r\nThe `expectedSupplyDuration` element defines the expected duration, in days, of each issue of the prescription. A default value of 28 can be used which must be amendable by the prescriber when required. The value must be an integer value greater than zero. A sensible upper limit validation should be included within the System. If this value is omitted, the Spine will assume a value of 28.\r\n\r\n```json\r\n\"dispenseRequest\": {\r\n          ...\r\n          \"expectedSupplyDuration\": {\r\n            \"value\": 28,\r\n            \"unit\": \"days\",\r\n            \"system\": \"http://unitsofmeasure.org\",\r\n            \"code\": \"d\"\r\n          }\r\n      }\r\n```\n\n #### Comment\n\n In some situations, this attribute may be used instead of quantity to identify the amount supplied by how long it is expected to last, rather than the physical quantity issued, e.g. 90 days supply of medication (based on an ordered dosage). When possible, it is always better to specify quantity, as this tends to be more precise. expectedSupplyDuration will always be an estimate that can be influenced by external factors."
                            },
                            "performer": {
                                "minimum": 0,
                                "type": "object",
                                "properties": {
                                    "extension:dispensingPractitioner": {
                                        "minimum": 0,
                                        "type": "array",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.performer.extension:dispensingPractitioner|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|dispensingPractitioner|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionDMDispensingPerformer](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-DispensingPerformer))|\n\n<br/>\n\n #### Definition\n\n Details of the dispenser who is actioning the MedicationRequest\r\n\r\n```json\r\n       \"dispenseRequest\": { \r\n                    \"performer\": {\r\n                        \"extension\":  [\r\n                            {\r\n                                \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-DispensingPerformer\",\r\n                                \"valueReference\": {\r\n                                    \"reference\": \"urn:uuid:25f3dd9f-5838-44a7-930e-c78ae3ecadd6\",\r\n                                    \"display\": \"LOTTIE POTTS\"\r\n                                }\r\n                            }\r\n                        ],\r\n                        \"identifier\": {\r\n                            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                            \"value\": \"VNE51\"\r\n                        },\r\n                        \"display\": \"The Simple Pharmacy\"\r\n                    }\r\n                },\r\n```",
                                        "items": {
                                            "type": "object"
                                        }
                                    },
                                    "identifier": {
                                        "minimum": 1,
                                        "type": "object",
                                        "properties": {
                                            "system": {
                                                "minimum": 1,
                                                "type": "string",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.performer.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/Id/ods-organization-code|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                            },
                                            "value": {
                                                "minimum": 1,
                                                "type": "string",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.performer.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                            }
                                        },
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.performer.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n An identifier for the target resource. This is used when there is no way to reference the other resource directly, either because the entity it represents is not available through a FHIR server, or because there is no way for the author of the resource to convert a known identifier to an actual location. There is no requirement that a Reference.identifier point to something that is actually exposed as a FHIR instance, but it SHALL point to a business concept that would be expected to be exposed as a FHIR instance, and that instance would need to be of a FHIR resource type allowed by the reference.\n\n #### Comment\n\n When an identifier is provided in place of a reference, any system processing the reference will only be able to resolve the identifier to a reference if it understands the business context in which the identifier is used. Sometimes this is global (e.g. a national identifier) but often it is not. For this reason, none of the useful mechanisms described for working with references (e.g. chaining, includes) are possible, nor should servers be expected to be able resolve the reference. Servers may accept an identifier based reference untouched, resolve it, and/or reject it - see CapabilityStatement.rest.resource.referencePolicy.   When both an identifier and a literal reference are provided, the literal reference is preferred. Applications processing the resource are allowed - but not required - to check that the identifier matches the literal reference  Applications converting a logical reference to a literal reference may choose to leave the logical reference present, or remove it.  Reference is intended to point to a structure that can potentially be expressed as a FHIR resource, though there is no need for it to exist as an actual FHIR resource instance - except in as much as an application wishes to actual find the target of the reference. The content referred to be the identifier must meet the logical constraints implied by any limitations on what resource types are permitted for the reference.  For example, it would not be legitimate to send the identifier for a drug prescription if the type were Reference(Observation|DiagnosticReport).  One of the use-cases for Reference.identifier is the situation where no FHIR representation exists (where the type is Reference (Any)."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.performer|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalOrganizationODS](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Organization-ODS))|\n\n<br/>\n\n #### Definition\n\n For non token based prescriptions the destination pharmacy **MUST** be recorded in the *dispenseRequest.performer.identifier* and a identifier reference (not a resource reference) with an ANANA/ODS Code **MUST** used. \r\n\r\nThe extension https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType **MUST** be present.\r\n\r\nPatients pharmacy preferences may be sourced from PDS.\r\n\r\nPatients pharmacy preferences may be overriden by an 'one-off pharmacy nomination' by populating the *dispenseRequest.performer.identifier* with the ODS/ANANA code of the destination pharmacy.\r\n\r\n```json\r\n\"dispenseRequest\": {\r\n        \"extension\":  [\r\n            {\r\n                \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType\",\r\n                \"valueCoding\": {\r\n                    \"system\": \"https://fhir.nhs.uk/CodeSystem/dispensing-site-preference\",\r\n                    \"code\": \"0004\"\r\n                }\r\n            },\r\n        ],\r\n        \"performer\": {\r\n            \"identifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                \"value\": \"FX748\"\r\n            }\r\n        },\r\n```"
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n Indicates the specific details for the dispense or medication supply part of a medication request (also known as a Medication Prescription or Medication Order).  Note that this information is not always sent with the order.  There may be in some settings (e.g. hospitals) institutional or system support for completing the dispense details in the pharmacy department."
                    },
                    "substitution": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "allowed[x]": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.substitution.allowed[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[boolean](https://www.hl7.org/fhir/datatypes.html#boolean)|\n\n<br/>\n\n #### Definition\n\n The purpose of this element is to allow the prescriber to dispense a different drug from what was prescribed.\n\n #### Comment\n\n This element is labeled as a modifier because whether substitution is allow or not, it cannot be ignored."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.substitution|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n Within UK healthcare, substitution is not the norm and so this element will normally be set to a default of `false`.\r\n\r\nSubstitution being set to false is a mandatory requirement for EPS..\r\n\r\nSubstituition is a mandatory requirement for EPS.\r\n\r\n<div markdown=\"span\" class=\"alert alert-warning\" role=\"alert\"><i class=\"fa fa-information\"></i><h4>Important Note:</h4>\r\nWithin UK healthcare, substitution is not the norm so the international FHIR definition where \"_If nothing is specified substitution may be done._\" does not align with UK healthcare prescribing best practice.<br/>\r\n<p>It could be unwise to assume all UK implementations will prevent substitution if not explicitly stated, especially if the same clinical system has been previously implemented outside the UK. <br/></p>\r\n<p>UK Core has profiled this element as MANDATORY and MUST have a default boolean value of <code>false</code> to denote substitution is not allowed.</p>\r\n</div>\r\n<h3 id=\"allowing-substitution\">Allowing substitution</h3>\r\n<p>Where substitution to be be allowed, set to <code>true</code>. The inclusion of the coded reason is optional as the valueset defined in FHIR is of limited benefit to UK healthcare.</p>\r\n\r\n```json\r\n\r\n\"substitution\": {\r\n        \"allowedBoolean\": false\r\n    }\r\n\r\n```"
                    }
                },
                "description": "HL7 FHIR Schema [MedicationRequest](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/MedicationRequest).. HL7 FHIR Documentation [MedicationRequest](\"https://www.hl7.org/fhir/MedicationRequest.html\")",
                "externalDocs": {
                    "description": "MedicationRequest",
                    "url": "https://www.hl7.org/fhir/MedicationRequest.html"
                }
            },
            "JSONPATCH": {
                "type": "object",
                "description": "See [JSON Patch](http://jsonpatch.com/)"
            },
            "Parameters": {
                "type": "object",
                "description": "HL7 FHIR Schema [Parameters](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/Parameters).. HL7 FHIR Documentation [Parameters](\"https://www.hl7.org/fhir/Parameters.html\")",
                "externalDocs": {
                    "description": "Parameters",
                    "url": "https://www.hl7.org/fhir/Parameters.html"
                }
            },
            "MedicationDispense": {
                "type": "object",
                "properties": {
                    "extension": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Slicing](https://www.hl7.org/fhir/profiling.html#slicing)| *OPEN* discriminator -  *VALUE* *url*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:prescriptionStatus": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.extension:prescriptionStatus|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|prescriptionStatus|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionEPSTaskBusinessStatus](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus))|\n\n<br/>\n\n #### Definition\n\n This is the overall status of the `prescription-order`, it is not the status of the individual prescription item. This is a code from {{pagelink:DM-Task-Status-Reason-duplicate-2}}, all prescription status reasons in a `dispense-notification` FHIR Message Bundle must be the same.\r\n\r\n```json\r\n\"extension\": [\r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\r\n        \"valueCoding\": {\r\n            \"system\": \"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\r\n            \"code\": \"0003\",\r\n            \"display\": \"With Dispenser - Active\"\r\n        }\r\n    }\r\n]\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:repeatInformation": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.extension:repeatInformation|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|repeatInformation|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionEPSRepeatInformation](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation))|\n\n<br/>\n\n #### Definition\n\n The extension is mandatory for `continuous` and `continuous-repeat-dispensing`. The following elements **MUST** be populated \r\n\r\n- numberofRepeatsAllowed \r\n- numberOfRepeatsIssued \r\n\r\n```json\r\n\"extension\": [\r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation\",\r\n        \"extension\": [\r\n            {\r\n                \"url\" : \"numberOfRepeatsAllowed\",\r\n                \"valueInteger\" : 3\r\n            },\r\n            {\r\n                \"url\" : \"numberOfRepeatsIssued\",\r\n                \"valueInteger\" : 2\r\n            }\r\n        ]\r\n    }\r\n]\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "identifier": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n Each MedicationDispense **MUST** be identified by an Universal Unique Identifiers (UUIDs) with a system of `https://fhir.nhs.uk/Id/prescription-dispense-item-number`\r\n\r\nUUID example (for illustration purposes only);\r\n\r\n**4509B70D-D8B8-EA03-1105-64557CB54A29**\r\n\r\n\r\n```json\r\n \"identifier\":  [\r\n    {\r\n        \"system\": \"https://fhir.nhs.uk/Id/prescription-dispense-item-number\",\r\n        \"value\": \"4509B70D-D8B8-EA03-1105-64557CB54A29\"\r\n    }\r\n]\r\n```\n\n #### Comment\n\n This is a business identifier, not a resource identifier.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "system": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                },
                                "value": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                }
                            }
                        }
                    },
                    "status": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.status|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationDispense Status Codes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=http://hl7.org/fhir/ValueSet/medicationdispense-status&#124;4.0.1) (Required) <br/>A coded concept specifying the state of the dispense event. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n The status of the individual medication item, this will normally indicate whether the medication has been picked up or not. \r\n\r\n| Code | Display | Definition |\r\n|--|--|--|\r\n| completed | Completed | The dispensed product has been picked up. |\r\n| in-progress | In Progress | The dispensed product is ready for pickup. |\r\n\r\n\r\n<img src=\"https://raw.githubusercontent.com/NHSDigital/NHSDigital-FHIR-Medicines-ImplementationGuide/master/Diagrams/medication-dispense-status-flow.png\" width=\"100%\" hieght=\"auto\"/>\n\n #### Comment\n\n This element is labeled as a modifier because the status contains codes that mark the resource as not currently valid."
                    },
                    "statusReason[x]": {
                        "minimum": 0,
                        "type": "object",
                        "properties": {
                            "coding": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x].coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Slicing](https://www.hl7.org/fhir/profiling.html#slicing)| *OPEN* discriminator -  *VALUE* *system*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x].coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                        },
                                        "code": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x].coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                        }
                                    }
                                }
                            },
                            "coding:notDispensedStatusReason": {
                                "minimum": 0,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x].coding:notDispensedStatusReason|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationDispenseStatusReason](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-medicationdispense-status-reason) (Required)|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|notDispensedStatusReason|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object"
                                }
                            },
                            "coding:amendmentStatusReason": {
                                "minimum": 0,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x].coding:amendmentStatusReason|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[TaskReasonCode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-task-reason-code) (Required)|\n|[Slice Name](https://www.hl7.org/fhir/profiling.html#slicing)|amendmentStatusReason|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationDispense Status Reason Codes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=http://hl7.org/fhir/ValueSet/medicationdispense-status-reason) (Example) <br/>A code describing why a dispense was not performed. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Indicates the reason why a dispense was not performed."
                    },
                    "medication[x]": {
                        "minimum": 1,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.medication[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[UKCoreMedicationCode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.hl7.org.uk/ValueSet/UKCore-MedicationCode) (Extensible)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)([NHSDigitalMedicationDispenseCodeableConcept](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense-CodeableConcept))[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalMedicationDispenseMedication](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense-Medication))<br/> Aggregation - [bundled](http://www.hl7.org/fhir/valueset-resource-aggregation-mode.html)|\n\n<br/>\n\n #### Definition\n\n Actual Medical Product Packs (AMPP) SHOULD be used. \r\nIt is valid to include a FHIR Medication resource within the FHIR Message, this practice is discouraged to simplify handling of the event messages.\r\n\r\n<table>\r\n<thead>\r\n<th data-no-sort width=\"25%\">\r\ndm+d Category\r\n</th>\r\n<th data-no-sort width=\"50%\">\r\ndm+d Description\r\n</th>\r\n<th data-no-sort width=\"25%\">\r\nUK SNOMED Members Of\r\n</th>\r\n\r\n</thead>\r\n<tr>\r\n<td>\r\nVMPP\r\n</td>\r\n<td>\r\nVirtual Medical Product Pack\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000571000001104\" target=\"_blank\">999000571000001104</a>\r\n</td>\r\n\r\n</tr>\r\n<tr>\r\n<td>\r\nAMPP\r\n</td>\r\n<td>\r\nActual Medical Product Pack\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000551000001106\" target=\"_blank\">999000551000001106</a>\r\n</td>\r\n</tr>\r\n<tr>\r\n<td>\r\nVMP\r\n</td>\r\n<td>\r\nVirtual Medical Product\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000561000001109\" target=\"_blank\">999000561000001109</a>\r\n</td>\r\n</tr>\r\n<tr>\r\n<td>\r\nAMP\r\n</td>\r\n<td>\r\nActual Medical Product\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000541000001108\" target=\"_blank\">999000541000001108</a>\r\n</td>\r\n</tr>\r\n</table>\r\n\r\n<br>\r\n\r\n```json\r\n\"medicationCodeableConcept\": {\r\n        \"coding\":  [\r\n        {\r\n            \"system\": \"http://snomed.info/sct\",\r\n            \"code\": \"10460811000001109\",\r\n            \"display\": \"Amoxil 500mg capsules (Dowelhurst Ltd) 12 capsule\"\r\n        }\r\n    ]\r\n}\r\n```\n\n #### Comment\n\n If only a code is specified, then it needs to be a code for a specific product. If more information is required, then the use of the medication resource is recommended.  For example, if you require form or lot number, then you must reference the Medication resource."
                    },
                    "subject": {
                        "minimum": 1,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.subject|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalPatientPDS](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Patient-PDS))<br/> Aggregation - [referenced](http://www.hl7.org/fhir/valueset-resource-aggregation-mode.html)<br/> Aggregation - [bundled](http://www.hl7.org/fhir/valueset-resource-aggregation-mode.html)|\n\n<br/>\n\n #### Definition\n\n A reference to the patient via a traced NHS Number is required, an untraced NHS Number MUST NOT be used. This can be sent in two ways, first option is via a `identifier reference`. Only the NHS Number:\r\n\r\n```json\r\n\"subject\": {\r\n    \"type\": \"Patient\",\r\n    \"identifier\": {\r\n        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n        \"value\": \"2300992742\"\r\n    }\r\n}\r\n```\r\n\r\nSecond option uses a FHIR Patient resource to convey the NHS Number.  \r\n\r\nThe reference in the MedicationDispesnse is now a `resource reference`. \r\n\r\n```json\r\n \"subject\": {\r\n                    \"type\": \"Patient\",\r\n                    \"reference\": \"urn:uuid:bde9eba6-079f-4210-8108-6ea8db58de8c\",\r\n                    \"display\": \"Miss Bernie Kanfeld\"\r\n                }\r\n```\r\n\r\nThe NHS Number has moved to the Patient resource alongside other patient identifiers such as MRN. E.g. \r\n\r\n```json\r\n\"fullUrl\": \"urn:uuid:bde9eba6-079f-4210-8108-6ea8db58de8c\",\r\n\"resource\": {\r\n                \"resourceType\": \"Patient\",\r\n                \"identifier\": [\r\n                    {\r\n                        \"extension\": [\r\n                            {\r\n                                \"url\": \"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\r\n                                \"valueCodeableConcept\": {\r\n                                    \"coding\": [\r\n                                        {\r\n                                            \"system\": \"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\r\n                                            \"code\": \"01\",\r\n                                            \"display\": \"Number present and verified\"\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            }\r\n                        ],\r\n                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n                        \"value\": \"9876543210\"\r\n                    },\r\n                    {\r\n                        \"system\": \"https://fhir.leedsth.nhs.uk/Id/pas-number\",\r\n                        \"value\": \"ABC8650149\"\r\n                    },\r\n                    {\r\n                        \"system\": \"https://fhir.leedsth.nhs.uk/Id/PPMIdentifier\",\r\n                        \"value\": \"1\"\r\n                    }\r\n                ],\r\n               ... other elements removed from example.\r\n            }\r\n```\r\n\r\nIt is anticipated that hospital pharmacies will prefer the later option for compatibility with other systems. Community pharmacies are anticipated to prefer the former option.\n\n #### Comment\n\n SubstanceAdministration->subject->Patient.\n\n #### Constraints \n\n- **eps-2** (*WARNING*) subject - An identifier reference plus a display name or resource reference must be provided\n- **patient-nhs** (*ERROR*) Supplied NHS Number is outside the English and Welsh NHS Number range or length of the number is wrong."
                    },
                    "performer": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.performer|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n The pharmacist and pharmacy MUST be present and MUST use `identifier references`. This means FHIR Practitioner, Organization and PractitionerRole resource are not included in the FHIR Message. Professional codes and ODS codes should be used instead. `sds-user-role-id` is permitted to identify a Practitioner(& Role) but professional codes are preferred to support wider NHS interoperability.\r\n\r\n```json\r\n \"performer\": [\r\n    {\r\n        \"actor\": {\r\n            \"reference\" : \"#performer\"\r\n        }\r\n    }\r\n],\r\n```\r\n\r\nThe contained PractitionerRole:\r\n\r\n```json\r\n{\r\n    \"resourceType\": \"MedicationDispense\",\r\n    \"id\": \"06167339-9337-d030-0366-514a6a46da17\",\r\n    \"contained\": [\r\n        {\r\n            \"resourceType\": \"PractitionerRole\",\r\n            \"id\": \"performer\",\r\n            \"practitioner\": {\r\n                \"identifier\": {\r\n                    \"system\": \"https://fhir.hl7.org.uk/Id/gphc-number\",\r\n                    \"value\": \"7654321\"\r\n                },\r\n                \"display\": \"Mr Peter Potion\"\r\n            },\r\n            \"organization\": {\r\n                \"identifier\": {\r\n                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                    \"value\": \"VNE51\"\r\n                },\r\n                \"display\": \"The Simple Pharmacy\"\r\n            },\r\n            \"telecom\": [\r\n                {\r\n                    \"system\": \"phone\",\r\n                    \"use\": \"work\",\r\n                    \"value\": \"01234567890\"\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n```",
                        "items": {
                            "type": "object",
                            "properties": {
                                "actor": {
                                    "minimum": 1,
                                    "type": "object",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.performer.actor|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalPractitionerRoleMinimalPlusTelecom](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole-MinimalPlusTelecom))<br/> Aggregation - [contained](http://www.hl7.org/fhir/valueset-resource-aggregation-mode.html)|\n\n<br/>\n\n #### Definition\n\n The device, practitioner, etc. who performed the action.  It should be assumed that the actor is the dispenser of the medication.\n\n #### Constraints \n\n- **performer** (*ERROR*) An identifier reference or resource reference must be provided"
                                }
                            }
                        }
                    },
                    "authorizingPrescription": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.authorizingPrescription|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalMedicationRequestMinimal](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-Minimal))<br/> Aggregation - [contained](http://www.hl7.org/fhir/valueset-resource-aggregation-mode.html)<br/> Aggregation - [referenced](http://www.hl7.org/fhir/valueset-resource-aggregation-mode.html)|\n\n<br/>\n\n #### Definition\n\n A reference to the `MedicationRequest`. \r\n\r\n```json\r\n\"authorizingPrescription\": [\r\n    {\r\n        \"reference\": \"#m1\"\r\n    }\r\n]\r\n```\r\n\r\nWhen a MedicationDispesne is sent in a FHIR Message bundle, which is the case with EPS NextGen `dispense-notifications`, a contained MedicationRequest is required. \r\n\r\nThis MedicationRequest **MUST** follow the rules in [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest) and it is strongly recommended to reuse the `MedicationRequest` received when the prescription was downloaded. \r\n\r\nFor example:\r\n\r\n```json \r\n{\r\n                \"resourceType\": \"MedicationDispense\",\r\n                \"contained\":  [\r\n                    {\r\n                        \"resourceType\": \"MedicationRequest\",\r\n                        \"id\": \"m1\",\r\n                        \"identifier\":  [\r\n                            {\r\n                                \"system\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\",\r\n                                \"value\": \"299c610b-f4f1-4eac-a7d7-4fb6b0556e11\"\r\n                            }\r\n                        ],\r\n                        \"status\": \"active\",\r\n                        \"intent\": \"order\",\r\n                        \"medicationCodeableConcept\": {\r\n                            \"coding\":  [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"code\": \"39720311000001101\",\r\n                                    \"display\": \"Paracetamol 500mg soluble tablets\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"subject\": {\r\n                            \"identifier\": {\r\n                                \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n                                \"value\": \"9876543210\"\r\n                            }\r\n                        },\r\n                        \"groupIdentifier\": {\r\n                            \"extension\":  [\r\n                                {\r\n                                    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\r\n                                    \"valueIdentifier\": {\r\n                                        \"system\": \"https://fhir.nhs.uk/Id/prescription\",\r\n                                        \"value\": \"b2fc79f0-2793-4736-9b2d-0976c21e73a5\"\r\n                                    }\r\n                                }\r\n                            ],\r\n                            \"system\": \"https://fhir.nhs.uk/Id/prescription-order-number\",\r\n                            \"value\": \"82D996-C81010-11DB12\"\r\n                        },\r\n                        \"dispenseRequest\": {\r\n                            \"quantity\": {\r\n                                \"value\": 100,\r\n                                \"unit\": \"tablet\",\r\n                                \"system\": \"http://snomed.info/sct\",\r\n                                \"code\": \"732936001\"\r\n                            }\r\n                        },\r\n                        \"substitution\": {\r\n                            \"allowedBoolean\": false\r\n                        }\r\n                    }\r\n                ],\r\n                \"authorizingPrescription\":  [\r\n                    {\r\n                        \"reference\": \"#m1\"\r\n                    }\r\n                ],\r\n```\r\n\r\nThis is based on a `MedicationRequest` in this implementation guide.\r\nThe uuid resource references are not permitted and must be replaced with identifier references. E.g. in this section from the `$release` \r\n\r\n```json\r\n        \"subject\": {\r\n            \"reference\": \"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\"\r\n        },\r\n        \"authoredOn\": \"2020-12-21T18:15:29+00:00\",\r\n        \"requester\": {\r\n            \"reference\": \"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\"\r\n        },\r\n```\r\n\r\nThe requester reference can be removed and the subject reference changed to use the Patient's NHSNumber e.g. \r\n\r\n```json\r\n        \"subject\": {\r\n            \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"9876543210\"\r\n        }\r\n    },\r\n```\n\n #### Comment\n\n Maps to basedOn in Event logical model.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "reference": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.authorizingPrescription.reference|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.\n\n #### Comment\n\n Using absolute URLs provides a stable scalable approach suitable for a cloud/web context, while using relative/logical references provides a flexible approach suitable for use when trading across closed eco-system boundaries.   Absolute URLs do not need to point to a FHIR RESTful server, though this is the preferred approach. If the URL conforms to the structure \"/[type]/[id]\" then it should be assumed that the reference is to a FHIR RESTful server."
                                }
                            }
                        }
                    },
                    "type": {
                        "minimum": 0,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.type|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationDispenseType](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-medicationdispense-type) (Required) <br/>A ValueSet to identify the type of medication item status. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Indicates the type of dispensing event that is performed. For example, Trial Fill, Completion of Trial, Partial Fill, Emergency Fill, Samples, etc.\r\n\r\n```json\r\n\"type\": {\r\n    \"coding\": [\r\n        {\r\n            \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\r\n            \"code\": \"0001\",\r\n            \"display\": \"Item fully dispensed\"\r\n        }\r\n    ]\r\n}\r\n```"
                    },
                    "quantity": {
                        "minimum": 0,
                        "type": "object",
                        "properties": {
                            "value": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.quantity.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[decimal](https://www.hl7.org/fhir/datatypes.html#decimal)|\n\n<br/>\n\n #### Definition\n\n The value of the measured amount. The value includes an implicit precision in the presentation of the value.\n\n #### Requirements\n\n Precision is handled implicitly in almost all cases of measurement.\n\n #### Comment\n\n The implicit precision in the value should always be honored. Monetary values have their own rules for handling precision (refer to standard accounting text books)."
                            },
                            "unit": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.quantity.unit|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A human-readable form of the unit.\n\n #### Requirements\n\n There are many representations for units of measure and in many contexts, particular representations are fixed and required. I.e. mcg for micrograms."
                            },
                            "system": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.quantity.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the system that provides the coded form of the unit.\n\n #### Requirements\n\n Need to know the system that defines the coded form of the unit."
                            },
                            "code": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.quantity.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A computer processable form of the unit in some unit representation system.\n\n #### Requirements\n\n Need a computable form of the unit that is fixed across all forms. UCUM provides this for quantities, but SNOMED CT provides many units of interest.\n\n #### Comment\n\n The preferred system is UCUM, but SNOMED CT can also be used (for customary units) or ISO 4217 for currency.  The context of use may additionally require a code from a particular system."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.quantity|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Quantity](https://www.hl7.org/fhir/datatypes.html#Quantity)([SimpleQuantity](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/SimpleQuantity))|\n\n<br/>\n\n #### Definition\n\n The amount of medication that has been dispensed. Includes unit of measure.\r\n\r\n```json\r\n\"quantity\": {\r\n    \"value\": 28,\r\n    \"unit\": \"capsule\",\r\n    \"system\": \"http://snomed.info/sct\",\r\n    \"code\": \"3316911000001105\"\r\n}\r\n```"
                    },
                    "daysSupply": {
                        "minimum": 0,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.daysSupply|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Quantity](https://www.hl7.org/fhir/datatypes.html#Quantity)([SimpleQuantity](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/SimpleQuantity))|\n\n<br/>\n\n #### Definition\n\n The amount of medication expressed as a timing amount.\r\n\r\n```json\r\n\"daysSupply\": {\r\n    \"value\": 7,\r\n    \"unit\": \"Day\",\r\n    \"system\": \"http://unitsofmeasure.org\",\r\n    \"code\": \"d\"\r\n}\r\n```"
                    },
                    "whenPrepared": {
                        "minimum": 0,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.whenPrepared|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)|\n\n<br/>\n\n #### Definition\n\n The time when the dispensed product was packaged and reviewed.\r\n\r\n```json\r\n\"whenPrepared\": \"2004-09-16T16:30:00+00:00\"\r\n```"
                    },
                    "whenHandedOver": {
                        "minimum": 0,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.whenHandedOver|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)|\n\n<br/>\n\n #### Definition\n\n The time the dispensed product was provided to the patient or their representative.\r\nIn HL7 v3 this is: *The date and local time that the medication is issued by the dispenser*.\r\n\r\n```json\r\n\"whenHandedOver\": \"2004-09-16T16:30:00+00:00\"\r\n```"
                    },
                    "dosageInstruction": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.dosageInstruction|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Dosage](https://www.hl7.org/fhir/datatypes.html#Dosage)([NHSDigitalDosage](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4@0.0.0-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Dosage))|\n\n<br/>\n\n #### Definition\n\n At present only the `text` element **MUST** be provided. It is recommended the guidance in [FHIR Dose Syntax Implementation Guidance](https://developer.nhs.uk/apis/dose-syntax-implementation-1-3-2-alpha/dosage-overview.html) is followed. \r\n\r\nNote the structure of this section is similar as the [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest) from the `prescription-order`.\r\n\r\n```json\r\n\"dosageInstruction\": [\r\n    {\r\n        \"text\": \"4 times a day for 7 days\",\r\n        \"timing\": {\r\n            \"repeat\": {\r\n                \"boundsDuration\": {\r\n                    \"value\": 7,\r\n                    \"unit\": \"d\"\r\n                },\r\n                \"frequency\": 4,\r\n                \"period\": 1,\r\n                \"periodUnit\": \"d\"\r\n            }\r\n        },\r\n        \"doseAndRate\": [\r\n            {\r\n                \"doseQuantity\": {\r\n                    \"value\": 1,\r\n                    \"unit\": \"capsule\",\r\n                    \"system\": \"http://snomed.info/sct\",\r\n                    \"code\": \"3316911000001105\"\r\n                }\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\n\n #### Comment\n\n When the dose or rate is intended to change over the entire administration period (e.g. Tapering dose prescriptions), multiple instances of dosage instructions will need to be supplied to convey the different doses/rates. The pharmacist reviews the medication order prior to dispense and updates the dosageInstruction based on the actual product being dispensed.",
                        "items": {
                            "type": "object"
                        }
                    }
                },
                "description": "HL7 FHIR Schema [MedicationDispense](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/MedicationDispense).. HL7 FHIR Documentation [MedicationDispense](\"https://www.hl7.org/fhir/MedicationDispense.html\")",
                "externalDocs": {
                    "description": "MedicationDispense",
                    "url": "https://www.hl7.org/fhir/MedicationDispense.html"
                }
            }
        }
    }
}
