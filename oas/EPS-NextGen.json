{
    "openapi": "3.0.1",
    "info": {
        "description": "Conformance requirements for NHS Digital EPS NextGen APIs\n\n | API Documentation |\n |-----|\n  |[Electronic Prescription Service - FHIR API](https://digital.nhs.uk/developer/api-catalogue/electronic-prescription-service-fhir)|\n\n\n | FHIR Implementation Guide | Version |\n |-----|-----|\n |[uk.nhsdigital.r4.test](https://simplifier.net/guide/NHSDigital/Home)||\n |[uk.nhsdigital.medicines.r4.test](https://simplifier.net/guide/nhsdigital-medicines/home)||\n |[UKCore.Release1.test](https://simplifier.net/guide/NHSDigital/Home)|1.2.2-prerelease|\n",
        "contact": {},
        "x-HL7-FHIR-NpmPackages": {
            "uk.nhsdigital.r4.test": "",
            "uk.nhsdigital.medicines.r4.test": "",
            "UKCore.Release1.test": "1.2.2-prerelease"
        }
    },
    "externalDocs": {
        "description": "Hl7 FHIR R4",
        "url": "https://www.hl7.org/fhir/"
    },
    "servers": [
        {}
    ],
    "tags": [
        {
            "name": "System Level Operations",
            "description": "Server-level operations"
        },
        {
            "name": "MedicationRequest",
            "description": "\n\n An order or request for both supply of the medication and the instructions for administration of the medication to a patient. The resource is called \"MedicationRequest\" rather than \"MedicationPrescription\" or \"MedicationOrder\" to generalize the use across inpatient and outpatient settings, including care plans, etc., and to harmonize with workflow patterns.\n\n Profile (constraints): [NHSDigital-MedicationRequest-Message](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-Message)\n\n",
            "x-HL7-FHIR-Profile": "https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-Message"
        },
        {
            "name": "CommunicationRequest",
            "description": "\n\n A request to convey information; e.g. the CDS system proposes that an alert be sent to a responsible provider, the CDS system proposes that the public health agency be notified about a reportable condition.\n\n Profile (constraints): [NHSDigital-CommunicationRequest](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.r4.test@2.5.6-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-CommunicationRequest)\n\n",
            "x-HL7-FHIR-Profile": "https://fhir.nhs.uk/StructureDefinition/NHSDigital-CommunicationRequest"
        },
        {
            "name": "MedicationDispense",
            "description": "\n\n Indicates that a medication product is to be or has been dispensed for a named person/patient.  This includes a description of the medication product (supply) provided and the instructions for administering the medication.  The medication dispense is the result of a pharmacy system responding to a medication order.\n\n Profile (constraints): [NHSDigital-MedicationDispense-Message](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense-Message)\n\n",
            "x-HL7-FHIR-Profile": "https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense-Message"
        },
        {
            "name": "List",
            "description": "\n\n A list is a curated collection of resources.\n\n Profile (constraints): [UKCore-List](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=ukcore.release1.test@1.2.2-prerelease&canonical=https://fhir.hl7.org.uk/StructureDefinition/UKCore-List)\n\n\n\n Defines the UK Core constraints and extensions on the List resource for the minimal set of data to query and retrieve a list of information.\n\n This profile allows exchange of a flat, possibly ordered collection of records. The list profile can be used in many places, including allergies, medications, alerts, family history, medical history, etc. This list profile can be used to support individual-specific clinical lists as well as lists that manage workflows such as tracking patients, managing teaching cases, etc. The list profile supports lists that are homogeneous – consisting of only one type of resource (e.g. allergy lists) as well as heterogeneous – containing a variety of resources (e.g. a problem list including Conditions, AllergyIntolerances, recent Procedures, etc.).",
            "x-HL7-FHIR-Profile": "https://fhir.hl7.org.uk/StructureDefinition/UKCore-List"
        },
        {
            "name": "Claim",
            "description": "\n\n A provider issued list of professional services and products which have been provided, or are to be provided, to a patient which is sent to an insurer for reimbursement.\n\n The Claim resource is used by providers to exchange services and products rendered to patients or planned to be rendered with insurers for reimbuserment. It is also used by insurers to exchange claims information with statutory reporting and data analytics firms.\n\n Profile (constraints): [NHSDigital-Claim](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.r4.test@2.5.6-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Claim)\n\n",
            "x-HL7-FHIR-Profile": "https://fhir.nhs.uk/StructureDefinition/NHSDigital-Claim"
        },
        {
            "name": "Medication",
            "description": "\n\n This resource is primarily used for the identification and definition of a medication for the purposes of prescribing, dispensing, and administering a medication as well as for making statements about medication use.\n\n Profile (constraints): [UKCore-Medication](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=ukcore.release1.test@1.2.2-prerelease&canonical=https://fhir.hl7.org.uk/StructureDefinition/UKCore-Medication)\n\n\n\n Defines the UK Core constraints and extensions on the Medication resource for the minimal set of data to query and retrieve medication information.\n\n This profile is primarily used for the identification and definition of a medication for the purposes of prescribing, dispensing, and administering a medication as well as for making statements about medication use.",
            "x-HL7-FHIR-Profile": "https://fhir.hl7.org.uk/StructureDefinition/UKCore-Medication"
        },
        {
            "name": "Task",
            "description": "\n\n A task to be performed.\n\n Profile (constraints): [NHSDigital-DM-Task](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-DM-Task)\n\n",
            "x-HL7-FHIR-Profile": "https://fhir.nhs.uk/StructureDefinition/NHSDigital-DM-Task"
        }
    ],
    "paths": {
        "/metadata": {
            "get": {
                "tags": [
                    "System Level Operations"
                ],
                "summary": "server-capabilities: Fetch the server FHIR CapabilityStatement",
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CapabilityStatement"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\"resourceType\":\"CapabilityStatement\",\"id\":\"apim-eps-nextgen\",\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Package\",\"extension\":[{\"url\":\"FHIRPackage\",\"extension\":[{\"url\":\"name\",\"valueString\":\"uk.nhsdigital.r4.test\"}]},{\"url\":\"FHIRPackage\",\"extension\":[{\"url\":\"name\",\"valueString\":\"uk.nhsdigital.medicines.r4.test\"}]},{\"url\":\"FHIRPackage\",\"extension\":[{\"url\":\"name\",\"valueString\":\"UKCore.Release1.test\"},{\"url\":\"version\",\"valueString\":\"1.2.2-prerelease\"}]},{\"url\":\"openApi\",\"extension\":[{\"url\":\"documentation\",\"valueUri\":\"https://digital.nhs.uk/developer/api-catalogue/electronic-prescription-service-fhir\"},{\"url\":\"description\",\"valueString\":\"Electronic Prescription Service - FHIR API\"}]}]}],\"url\":\"https://fhir.nhs.uk/CapabilityStatement/apim-eps-nextgen\",\"version\":\"3.0.0\",\"name\":\"APIMEPSNextGen\",\"status\":\"active\",\"date\":\"2021-04-28T00:00:00+00:00\",\"publisher\":\"digital.nhs.uk\",\"description\":\"Conformance requirements for NHS Digital EPS NextGen APIs\",\"kind\":\"requirements\",\"fhirVersion\":\"4.0.1\",\"format\":[\"application/fhir+json\"],\"implementationGuide\":[\"https://simplifier.net/guide/nhsdigital-medicine\",\"https://simplifier.net/guide/nhsdigital\"],\"rest\":[{\"mode\":\"server\",\"security\":{\"service\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/restful-security-service\",\"code\":\"OAuth\",\"display\":\"OAuth2 Token\"}]}]},\"resource\":[{\"type\":\"List\",\"profile\":\"https://fhir.hl7.org.uk/StructureDefinition/UKCore-List\"},{\"type\":\"Claim\",\"profile\":\"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Claim\",\"interaction\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Claim/258E153F-567B-4D60-B045-BA315A6B8DB0\"}}]}]}],\"code\":\"create\",\"documentation\":\"Use this endpoint to submit a claim for reimbursement for a dispensed prescription.\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Claim/258E153F-567B-4D60-B045-BA315A6B8DB0\"}}]}]}],\"code\":\"update\",\"documentation\":\"Use this endpoint to submit a claim for reimbursement for a dispensed prescription.\"}]},{\"type\":\"CommunicationRequest\",\"profile\":\"https://fhir.nhs.uk/StructureDefinition/NHSDigital-CommunicationRequest\"},{\"type\":\"MedicationRequest\",\"profile\":\"https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest\"},{\"type\":\"MedicationDispense\",\"profile\":\"https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense\"},{\"type\":\"Medication\",\"profile\":\"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Medication\"},{\"extension\":[{\"url\":\"http://hl7.org/fhir/StructureDefinition/capabilitystatement-search-parameter-combination\",\"extension\":[{\"url\":\"required\",\"valueString\":\"identifier\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/capabilitystatement-search-parameter-combination\",\"extension\":[{\"url\":\"required\",\"valueString\":\"foucs:identifier\"}]},{\"url\":\"http://hl7.org/fhir/StructureDefinition/capabilitystatement-search-parameter-combination\",\"extension\":[{\"url\":\"required\",\"valueString\":\"patient:identifier\"}]}],\"type\":\"Task\",\"profile\":\"https://fhir.nhs.uk/StructureDefinition/NHSDigital-DM-Task\",\"interaction\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Task/ee1b55f8-113c-4725-99a3-25fbad366dd6\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Return a prescription to spine\"},{\"url\":\"description\",\"valueMarkdown\":\"No dispense notifications may exist on spine for this action. Use withdraw dispense notification to remove them from spine.\"}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Task/6a2624a2-321b-470e-91a6-8ae7a065e2f0\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Withdraw a dispense notification\"},{\"url\":\"description\",\"valueMarkdown\":\"Use this endpoint to withdraw the **last** dispense-notification message, for example in the case that a prescription was marked as dispensed erroneously.\"}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Task/1291fcca-902b-48f3-9d07-1be9ea30d7a0\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Cancel a Prescription (proposed)\"},{\"url\":\"description\",\"valueMarkdown\":\"This is a proposed replacement for the prescription-order-update message.\"}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Task/702cc4e9-81fc-470e-8ae1-43120ae5c16d\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Accept a Prescription (not to be implemented in NextGen)\"},{\"url\":\"description\",\"valueMarkdown\":\"This is an example of $release interaction repackaged as a RESTful interfaction.\"}]}]}],\"code\":\"create\",\"documentation\":\"Used for returns prescriptions to spine. Should be a PUT\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Bundle/3b17d59c-41d6-44d7-81e6-47cc398e9dcc\"}},{\"url\":\"summary\",\"valueMarkdown\":\"Patient Task/Prescription search\"},{\"url\":\"description\",\"valueMarkdown\":\"Request **GET [baseUrl]/Task?patient:identifier=https://fhir.nhs.uk/Id/nhs-number|9912003489\"}]}]}],\"code\":\"search-type\",\"documentation\":\"The EPS Tracker\"}],\"searchParam\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"exampleParameter\",\"valueString\":\"f28682c0-50d2-472a-a8f0-477f7ac1b63f\"}]}],\"name\":\"identifier\",\"type\":\"token\",\"documentation\":\"The short form identifier of the prescription you are searching for.\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"exampleParameter\",\"valueString\":\"f28682c0-50d2-472a-a8f0-477f7ac1b63f\"}]}],\"name\":\"focus:identifier\",\"type\":\"token\",\"documentation\":\"The short form identifier of the prescription you are searching for.\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"exampleParameter\",\"valueString\":\"https://fhir.nhs.uk/Id/nhs-number|9000000009\"}]}],\"name\":\"patient:identifier\",\"type\":\"token\",\"documentation\":\"The NHS Number of the patient whose prescriptions you are searching for.\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"exampleParameter\",\"valueString\":\"eq2004-09-20\"}]}],\"name\":\"authored-on\",\"type\":\"date\",\"documentation\":\"Date the prescription was authored\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"allowedValues\",\"valueReference\":{\"reference\":\"https://fhir.nhs.uk/ValueSet/DM-task-business-status\"}}]}],\"name\":\"business-status\",\"type\":\"token\",\"documentation\":\"The state that a prescription is in.\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-QueryParameters\",\"extension\":[{\"url\":\"minimum\",\"valueInteger\":0},{\"url\":\"maximum\",\"valueInteger\":1},{\"url\":\"showCodeAndSystem\",\"valueBoolean\":false},{\"url\":\"allowedValues\",\"valueReference\":{\"reference\":\"http://hl7.org/fhir/ValueSet/task-status\"}}]}],\"name\":\"status\",\"type\":\"token\",\"documentation\":\"Search by task status\"}],\"operation\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Parameters/45a3cbe4-7688-418b-91d3-8f6d5ca94905\"}}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Bundle/E9DDBBC4-DA9A-C223-A2E3-909534332C69\"}}]}]}],\"name\":\"release\",\"definition\":\"https://fhir.nhs.uk/OperationDefinition/Task-release-message\"}]}],\"operation\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"OperationOutcome/c9643613-0b72-4453-bfd2-71bfd2330c73\"}}]}]}],\"name\":\"process-message\",\"definition\":\"https://fhir.nhs.uk/OperationDefinition/MessageHeader-process-message\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Bundle/155e1102-9e71-4f19-9453-b905c0bbc494\"}}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Parameters/794e6272-a022-48f9-bcdb-867c993548da\"}}]}]}],\"name\":\"verify-signature\",\"definition\":\"https://fhir.nhs.uk/OperationDefinition/verify-signature\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Bundle/homecare-prepare\"}}]},{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":false},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Parameters/320b2e2a-0fa0-4ffa-ad3d-f223c27e849d\"}}]}]}],\"name\":\"prepare\",\"definition\":\"https://fhir.nhs.uk/OperationDefinition/MessageHeader-prepare-message\"}]}],\"messaging\":[{\"supportedMessage\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Bundle/hce-DC2C66-A1B2C3-23407B\"}}]}]}],\"mode\":\"receiver\",\"definition\":\"https://fhir.nhs.uk/MessageDefinition/prescription-order\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Bundle/homecare-update\"}}]}]}],\"mode\":\"receiver\",\"definition\":\"https://fhir.nhs.uk/MessageDefinition/prescription-order-update\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Bundle/334a3195-1f6c-497a-8efe-d272ca9c4e38\"}}]}]}],\"mode\":\"receiver\",\"definition\":\"https://fhir.nhs.uk/MessageDefinition/dispense-notification\"},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-NHSDigital-CapabilityStatement-Examples\",\"extension\":[{\"url\":\"example\",\"extension\":[{\"url\":\"request\",\"valueBoolean\":true},{\"url\":\"value\",\"valueReference\":{\"reference\":\"Bundle/1e9d39ef-e999-4ab5-8fa1-bf8a0ff0ea98\"}}]}]}],\"mode\":\"receiver\",\"definition\":\"https://fhir.nhs.uk/MessageDefinition/dispense-notification-update\"}]}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/$process-message": {
            "post": {
                "tags": [
                    "System Level Operations"
                ],
                "description": "This operation accepts a message, processes it according to the definition of the event in the message header, and returns one or more response messages.  \n\nIn addition to processing the message event, a server may choose to retain all or some the resources and make them available on a RESTful interface, but is not required to do so.\n\n ## Parameters (In) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |content|1..1|Bundle||The message to process|\n\n ## Parameters (Out) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |return|0..1|OperationOutcome||A response message|\n\n ## Comment \n\nThis operation does not use the parameters resource; if they are used, and the \"content\" parameter is always the body of the HTTP message.\n\nWhen processing messages, a server may return one of several status codes:\n* **200 OK**: Indicates that the message has been fully processed.  If an application-level response is expected for the submitted message, that response SHALL be returned as the body of the 200 response.\n* **202 Accepted**: Indicates that the receiving system has accepted custody of the message\n* **204 No Content**: Indicates that the message has been fully processed and would normally have had an application-level response, but because of instructions from the sender (e.g. the [messageheader-response-request](extension-messageheader-response-request.html) extension), no response is being provided\n* **300+**: Indicates that the message was not successfully processed.  The server MAY return an [OperationOutcome](operationoutcome.html) with additional information, and SHOULD do so if the response code is 400 or greater.<br/>\n    The client SHALL interpret a 4xx response to indicate that there is no point resubmitting the unaltered message, and a 5xx response to indicate an unexpected error occurred on the part of the server, with the implication that it may be appropriate to resubmit the original message. Doing so SHOULD NOT result in a duplicate message response. Repeated failures indicate either a fatal problem with the submission or a problem with the receiving application.\n\nThe following rules apply when using $process-message:\n\n* The operation only accepts POST transactions - any other HTTP method will result in an HTTP error\n* The request content type submitted is always [Bundle](bundle.html) with type \"message\" containing a [Message Header](messageheader.html) resource as the first resource\n* The response content type returned is always [OperationOutcome](operationoutcome.html) or an HTTP error\n* If the response is an error, the body SHOULD be an [Errors &mp; Warning](operationoutcome.html) resource with full details\n* The mailbox may be authenticated using standard HTTP authentication methods, including OAuth\n\nThe $process-message operation can be used by any HTTP end-point that accepts FHIR messages, not just FHIR RESTful servers.\n\nIn order to ensure consistency of processing, the [logical rules regarding processing of Bundle.id and message id](messaging.html#reliable) SHALL be followed when messages are processed using this operation.\n\nThe $process-message operation may be used synchronously, or asynchronously.\n\nThe following rules apply when using the $process-message operation synchronously:\n\n* The URL (http://server/base/$process-message) has no parameters\n* It is an error if the sender POSTs a message that requires multiple response messages\n* Servers SHALL accept multiple concurrent message submissions and process them correctly (they are allowed to process them sequentially internally, but multiple concurrent submissions is not an error in its own right)\n\nThe following rules apply when using the $process-message operation asynchronously:\n\n* The URL has at least one parameter: http://server/base/$process-message?async=true\n* The server acknowledges the message with a 200 OK with no body, or returns an HTTP error if the message cannot be processed\n* Accepting the message means that the server has understood the message enough to know where to respond\n* An [OperationOutcome](operationoutcome.html) SHOULD be returned in either case\n* By default, the server responds by invoking the $process-message using the sender's stated end-point in the message: POST [MessageHeader.source.endpoint]/$process-messages]\n* Since the source end-point may be manipulated by message transfer engines, an alternative response address may be specified using the parameter \"response-url\": http://server/base/$process-message?async=true&amp;response-url=http://server2.com/base/anything.  The endpoint at the specified URL SHALL implement the signature of the $process-message operation (parameter async=true, accept a Bundle, return a 200 OK or an error)\n* The server submits response messages to the appropriate end-point with the parameter async=true. There is no response message for the response messages\n\n ## Supported Messages \n\n* prescription-order \n* prescription-order-update \n* dispense-notification \n* dispense-notification-update \n",
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/Bundle"
                            },
                            "examples": {
                                "prescription-order": {
                                    "summary": "Ordering of medications",
                                    "description": " \n\n MessageDefinition.url = **https://fhir.nhs.uk/MessageDefinition/prescription-order** \n \n\n The first Bundle.entry **MUST** be a FHIR MessageHeader with \n MessageHeader.eventCoding = **prescription-order** \n\n\n | Resource | Profile | Min | Max | \n|----------|---------|-----|-----| \n| [MedicationRequest](https://www.hl7.org/fhir/MedicationRequest.html) | [NHSDigital-MedicationRequest-Message](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-Message) | 1 | 4 | \n| [CommunicationRequest](https://www.hl7.org/fhir/CommunicationRequest.html) | [NHSDigital-CommunicationRequest](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.r4.test@2.5.6-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-CommunicationRequest) | 0 | * | \n\n",
                                    "value": "{\"resourceType\":\"Bundle\",\"id\":\"hce-DC2C66-A1B2C3-23407B\",\"meta\":{\"lastUpdated\":\"2021-07-29T01:43:30+00:00\"},\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ad945a29-85f8-439a-b590-6789719adc16\"},\"type\":\"message\",\"timestamp\":\"2020-11-02T01:44:30+00:00\",\"entry\":[{\"fullUrl\":\"urn:uuid:311316d3-1de0-4f7c-8109-c950ead1c717\",\"resource\":{\"resourceType\":\"MessageHeader\",\"eventCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/message-event\",\"code\":\"prescription-order\",\"display\":\"Prescription Order\"},\"destination\":[{\"endpoint\":\"https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message\",\"receiver\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"}}],\"sender\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"},\"author\":{\"type\":\"PractitionerRole\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"100102238986\"},\"display\":\"DR ALI\"},\"source\":{\"endpoint\":\"urn:nhs-uk:addressing:ods:RBA\"},\"focus\":[{\"reference\":\"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\",\"type\":\"Patient\"},{\"reference\":\"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\",\"type\":\"MedicationRequest\"},{\"reference\":\"urn:uuid:28828c55-8fa7-42d7-916f-fcf076e0c10e\",\"type\":\"Provenance\"}]}},{\"fullUrl\":\"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\",\"resource\":{\"resourceType\":\"MedicationRequest\",\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/prescription-type\",\"code\":\"1201\",\"display\":\"Outpatient Homecare Prescriber - Medical Prescriber\"}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation\",\"extension\":[{\"url\":\"numberOfPrescriptionsIssued\",\"valueUnsignedInt\":1},{\"url\":\"authorisationExpiryDate\",\"valueDateTime\":\"2020-08-07\"}]}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"a54219b8-f741-4c47-b662-e4f8dfa49ab6\"}],\"status\":\"active\",\"intent\":\"order\",\"category\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",\"code\":\"outpatient\",\"display\":\"Outpatient\"}]}],\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"15517911000001104\",\"display\":\"Methotrexate 10mg/0.2ml solution for injection pre-filled syringes\"}]},\"subject\":{\"reference\":\"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\"},\"authoredOn\":\"2020-07-13T12:00:00+00:00\",\"requester\":{\"reference\":\"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\"},\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"ad945a29-85f8-439a-b590-6789719adc16\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"DC2C66-A1B2C3-23407B\"},\"courseOfTherapyType\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\",\"code\":\"continuous\",\"display\":\"Continuous long term therapy\"}]},\"dosageInstruction\":[{\"text\":\"10 milligram, Inject, Subcutaneous route, once weekly\",\"additionalInstruction\":[{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"421769005\",\"display\":\"Follow directions\"}]}],\"patientInstruction\":\"As directed\",\"timing\":{\"repeat\":{\"boundsDuration\":{\"value\":10,\"unit\":\"day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"frequency\":5,\"period\":1,\"periodUnit\":\"d\"}},\"route\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"34206005\",\"display\":\"Subcutaneous route\"}]},\"method\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"422145002\",\"display\":\"Inject\"}]},\"doseAndRate\":[{\"doseQuantity\":{\"value\":10,\"unit\":\"milligram\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"mg\"}}]}],\"dispenseRequest\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/dispensing-site-preference\",\"code\":\"P2\"}}],\"validityPeriod\":{\"start\":\"2020-07-13T12:00:00+00:00\",\"end\":\"2020-08-07T12:00:00+00:00\"},\"numberOfRepeatsAllowed\":0,\"quantity\":{\"value\":1,\"unit\":\"Injection\",\"system\":\"http://snomed.info/sct\",\"code\":\"3092611000001103\"},\"expectedSupplyDuration\":{\"value\":7,\"unit\":\"day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"performer\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"}}},\"substitution\":{\"allowedBoolean\":false}}},{\"fullUrl\":\"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\",\"resource\":{\"resourceType\":\"Patient\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"}],\"name\":[{\"use\":\"official\",\"family\":\"CORY\",\"given\":[\"ETTA\"],\"prefix\":[\"MISS\"]}],\"gender\":\"female\",\"birthDate\":\"1999-01-04\",\"address\":[{\"use\":\"home\",\"line\":[\"123 Dale Avenue\",\"Long Eaton\",\"Nottingham\"],\"postalCode\":\"NG10 1NP\"}],\"generalPractitioner\":[{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"B81001\"}}]}},{\"fullUrl\":\"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\",\"resource\":{\"resourceType\":\"PractitionerRole\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"100102238986\"},{\"system\":\"https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code\",\"value\":\"G6345213\"}],\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gmc-number\",\"value\":\"C1234567\"},\"display\":\"DR RAZIA ALI\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"},\"code\":[{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName\",\"code\":\"R8000\",\"display\":\"Clinical Practitioner Access Role\"}]}],\"specialty\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/NHSDataModelAndDictionary-clinical-specialty\",\"code\":\"370\",\"display\":\"MEDICAL ONCOLOGY\"}]}],\"location\":[{\"reference\":\"urn:uuid:044e7916-c697-4072-880e-ef44d3032962\",\"display\":\"MUSGROVE PARK HOSPITAL\"}],\"healthcareService\":[{\"identifier\":{\"use\":\"official\",\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"A99968\"},\"display\":\"SOMERSET BOWEL CANCER SCREENING CENTRE\"}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}},{\"fullUrl\":\"urn:uuid:28828c55-8fa7-42d7-916f-fcf076e0c10e\",\"resource\":{\"resourceType\":\"Provenance\",\"target\":[{\"reference\":\"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"}],\"recorded\":\"2008-02-27T11:38:00+00:00\",\"agent\":[{\"who\":{\"reference\":\"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\"}}],\"signature\":[{\"type\":[{\"system\":\"urn:iso-astm:E1762-95:2013\",\"code\":\"1.2.840.10065.1.12.1.1\"}],\"when\":\"2020-09-02T11:38:00+00:00\",\"who\":{\"reference\":\"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\"},\"data\":\"PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+PFNpZ25lZEluZm8+PENhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz48U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3JzYS1zaGExIi8+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+PC9UcmFuc2Zvcm1zPjxEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxEaWdlc3RWYWx1ZT4zWWxGUU1PcncyUTBkVWt5dHpzNTBKRjdIVW89PC9EaWdlc3RWYWx1ZT48L1JlZmVyZW5jZT48L1NpZ25lZEluZm8+PFNpZ25hdHVyZVZhbHVlPlhwanNLWFBmVVc3MDhyR1B1T0FwaGxyNC9VQTIzZjNiaGRCT29jRUoxN0JYVjBKcnV6MUUxS0xGUXdxMzdFSmZuVm8vV0NMVFNqZ2sKa3AwQldqNWJHM0pqRWZqNzhaakkxeVZTUmJmYlZYWFFYMEdMWm1pU0dKcmhXbkZadDhjRnJ4TzFNRkF0U0xtS2Z5WEt6YnVIc0xUbQpzSFFLcFhDUmRabkZtS0JvakxtcDdOQnIwbExFOFBodHR1OEYyRWFldTJ3UFE4NHAxaU5XOTFmbzFIK1NGVnhDK0JSb1BJMXBvbFhnCjQyY2VUam9KNytGcVlQREhmQzduTkZJZ1RZSlpsUWRib01OYm5kdjZCUER1RnEwd3VzUWpEUTR6TVorOENscFJkdDNpS215bFhObUsKa0pBMTVXMHBGYkdxMFhuZjNTMU1YV0Vsa2FDSVVDZEdLMldzUEE9PTwvU2lnbmF0dXJlVmFsdWU+PEtleUluZm8+PFg1MDlEYXRhPjxYNTA5Q2VydGlmaWNhdGU+TUlJRUpEQ0NBd3lnQXdJQkFnSVVLM3hrRVVsUmhYUEpLTlZ3cnlxTFpSb05UUVF3RFFZSktvWklodmNOQVFFTEJRQXdSREVPTUF3RwpBMVVFQ2hNRlNGTkRTVU14RVRBUEJnTlZCQXNUQ0U5d1pXNTBaWE4wTVI4d0hRWURWUVFERXhaRlVGTWdUbTl1TFhKbGNIVmthV0YwCmFXOXVJRU5CTUI0WERUSXdNREl5TnpFek1EY3lNbG9YRFRJeU1ESXlOakV6TURjeU1sb3dPekVPTUF3R0ExVUVDaE1GU0ZORFNVTXgKR3pBWkJnTlZCQXNURWxOdmJIVjBhVzl1SUVGemMzVnlZVzVqWlRFTU1Bb0dBMVVFQXhNRFJVMVZNSUlCSWpBTkJna3Foa2lHOXcwQgpBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFwMEc0R2FjN1MwbXFsSFkvc1crRUZaWkw4QVUrRk1SclNGSWVmSVNvY0E2RHNIZVBnSHBnCjB0SmNkbWozTjQ1VlI2RkhEckt4NURnLzAwNVIvdDhnYnVJSEYraUkxcHVUY1Y5aldQbWFra3VybFZQQVJtaUF5NzY3V1BrOW1wVW8KbGZvSGRJTEtxZklXTXpRelc3QzRMOHZGSzU1QkllVjQvbElEdkVweForTEhXYmttay9oMWRXZXh1cGpPVGZxVG4vVWl4K0xhdDJUcApxellTck0wYmVwOHA4dWNuZE41c3FjbTZVa1BvdGhzeE5FaTJIamtkOGFvSDFINEtJVndnY0J3V2UrWHJMWEs1V2FyTVcwWTlxZ1FLCnhNc252VzhveUhhODNta0hZK2U4T2VOL1NucVlqa2FnMEk0cHZiQlRjbHJHZklTY0lmVFpvclZuMld2Q0lRSURBUUFCbzRJQkZUQ0MKQVJFd0NRWURWUjBUQkFJd0FEQU9CZ05WSFE4QkFmOEVCQU1DQmFBd0lBWURWUjBsQVFIL0JCWXdGQVlJS3dZQkJRVUhBd0VHQ0NzRwpBUVVGQndNQ01EWUdDV0NHU0FHRytFSUJEUVFwRmlkUGNHVnVkR1Z6ZERvZ1QzQmxibE5UVENCSFpXNWxjbUYwWldRZ1EyVnlkR2xtCmFXTmhkR1V3SFFZRFZSME9CQllFRkFINHB0Y2tPaHNVekJmVmp0L20wNUdpTzhYUk1Ic0dBMVVkSXdSME1IS0FGTklSdlg5b21ybDcKWlhTcUVJTnk2dzJyUFFkdW9VK2tUVEJMTVJRd0VnWURWUVFLRXd0T1NGTWdSR2xuYVhSaGJERVJNQThHQTFVRUN4TUlUM0JsYm5SbApjM1F4SURBZUJnTlZCQU1URjA5d1pXNTBaWE4wSUZKdmIzUWdRWFYwYUc5eWFYUjVnZ2tBNnUwY1hiTHFLb1F3RFFZSktvWklodmNOCkFRRUxCUUFEZ2dFQkFFRGNyUGNkcklDNXVmVkhyYTYyb0dCUC9sejVvSnEzUWw5M1BoZ3c5QkRidW1QVTc0UCtYZ1FvTzl2dzh4TzIKWWI0K1BMN00yQnVKbzNmRHFjRHNXKzRCNHQ5bWRoV1c3bFJqTjNXY3Vqb0xzbFB6MjNjZnl4Q2dabllNTURiT2hCckp4VkN6WWVDNgpueDZPaGtMMVYzWW9lK09JeXJSZVV6cHplQndzVVg1cTgwMmROYVYxeXJiNmFpMmljZ3hxcFkrZk9aWUZMUmVmUElxdXRCSzczaG5ECnV4RGpJKzdlaHlGcGFwZk9YVkJtTFRhY0x4TEYxRHkvNytHSVhiZEl3YmVkZXQ0cDJJY0VhUlgwZVdUMFUvL1pKU2VCcW5PT3BYbzYKNERmWnRTOVZsMmV4SGJISHFZYzBSVk5wS0ltYVdWck15ZEMxcU9leGpVWlNWQlZkK1pvPTwvWDUwOUNlcnRpZmljYXRlPjwvWDUwOURhdGE+PC9LZXlJbmZvPjwvU2lnbmF0dXJlPg==\"}]}},{\"fullUrl\":\"urn:uuid:044e7916-c697-4072-880e-ef44d3032962\",\"resource\":{\"resourceType\":\"Location\",\"identifier\":[{\"use\":\"official\",\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA11\"}],\"status\":\"active\",\"mode\":\"instance\",\"address\":{\"use\":\"work\",\"line\":[\"MUSGROVE PARK HOSPITAL\"],\"city\":\"TAUNTON\",\"postalCode\":\"TA1 5DA\",\"country\":\"NLD\"}}}]}"
                                },
                                "prescription-order-update": {
                                    "summary": "An update to a prescription-order message",
                                    "description": " \n\n MessageDefinition.url = **https://fhir.nhs.uk/MessageDefinition/prescription-order-update** \n \n\n The first Bundle.entry **MUST** be a FHIR MessageHeader with \n MessageHeader.eventCoding = **prescription-order-update** \n\n\n | Resource | Profile | Min | Max | \n|----------|---------|-----|-----| \n| [MedicationRequest](https://www.hl7.org/fhir/MedicationRequest.html) | [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.r4.test@2.5.6-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest) | 1 | 1 | \n\n",
                                    "value": "{\"resourceType\":\"Bundle\",\"id\":\"homecare-update\",\"meta\":{\"lastUpdated\":\"2020-11-02T11:13:30+00:00\"},\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ea50b4a2-0110-4aaa-a3f5-65707e713ae9\"},\"type\":\"message\",\"timestamp\":\"2020-11-02T11:14:30+00:00\",\"entry\":[{\"fullUrl\":\"urn:uuid:4f51f97f-a4b8-4756-bac9-b9bc7af8dc23\",\"resource\":{\"resourceType\":\"MessageHeader\",\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-replacementOf\",\"valueIdentifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ad945a29-85f8-439a-b590-6789719adc16\"}}],\"eventCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/message-event\",\"code\":\"prescription-order-update\",\"display\":\"Prescription Order Update\"},\"destination\":[{\"endpoint\":\"https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message\",\"receiver\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"X2601\"},\"display\":\"NHS Digital Spine\"}}],\"sender\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-MessageHeader-LocalPart\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"A99968\"}}}],\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"},\"source\":{\"name\":\"DJM\",\"endpoint\":\"urn:nhs-uk:addressing:ods:RBA\"},\"reason\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/message-reason-prescription\",\"code\":\"cancel\",\"display\":\"Cancel\"}]},\"focus\":[{\"reference\":\"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\"},{\"reference\":\"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"}]}},{\"fullUrl\":\"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\",\"resource\":{\"resourceType\":\"MedicationRequest\",\"meta\":{\"versionId\":\"2\",\"lastUpdated\":\"2020-07-13T12:30:00+00:00\"},\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner\",\"valueReference\":{\"reference\":\"urn:uuid:a5acefc1-f8ca-4989-a5ac-34ae36741466\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/prescription-type\",\"code\":\"1201\",\"display\":\"Outpatient Homecare Prescriber - Medical Prescriber\"}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation\",\"extension\":[{\"url\":\"numberOfPrescriptionsIssued\",\"valueUnsignedInt\":1},{\"url\":\"authorisationExpiryDate\",\"valueDateTime\":\"2020-08-07\"}]}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"a54219b8-f741-4c47-b662-e4f8dfa49ab6\"}],\"status\":\"cancelled\",\"statusReason\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason\",\"code\":\"0001\",\"display\":\"Prescribing Error\"}]},\"intent\":\"order\",\"category\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",\"code\":\"outpatient\",\"display\":\"Outpatient\"}]}],\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"15517911000001104\",\"display\":\"Methotrexate 10mg/0.2ml solution for injection pre-filled syringes\"}]},\"subject\":{\"reference\":\"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\"},\"authoredOn\":\"2020-07-13T12:00:00+00:00\",\"requester\":{\"reference\":\"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\"},\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"ad945a29-85f8-439a-b590-6789719adc16\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"DC2C66-A1B2C3-23407B\"},\"courseOfTherapyType\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\",\"code\":\"continuous\",\"display\":\"Continuous long term therapy\"}]},\"dosageInstruction\":[{\"text\":\"10 milligram, Inject, Subcutaneous route, once weekly\",\"additionalInstruction\":[{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"421769005\",\"display\":\"Follow directions\"}]}],\"patientInstruction\":\"As directed\",\"timing\":{\"repeat\":{\"boundsDuration\":{\"value\":10,\"unit\":\"day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"frequency\":5,\"period\":1,\"periodUnit\":\"d\"}},\"route\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"34206005\",\"display\":\"Subcutaneous route\"}]},\"method\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"422145002\",\"display\":\"Inject\"}]},\"doseAndRate\":[{\"doseQuantity\":{\"value\":10,\"unit\":\"milligram\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"mg\"}}]}],\"dispenseRequest\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/dispensing-site-preference\",\"code\":\"P2\"}}],\"validityPeriod\":{\"start\":\"2020-07-13T12:00:00+00:00\",\"end\":\"2020-08-07T12:00:00+00:00\"},\"numberOfRepeatsAllowed\":0,\"quantity\":{\"value\":1,\"unit\":\"Injection\",\"system\":\"http://snomed.info/sct\",\"code\":\"3092611000001103\"},\"expectedSupplyDuration\":{\"value\":7,\"unit\":\"day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"performer\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"}}},\"substitution\":{\"allowedBoolean\":false}}},{\"fullUrl\":\"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\",\"resource\":{\"resourceType\":\"Patient\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"}],\"name\":[{\"use\":\"official\",\"family\":\"CORY\",\"given\":[\"ETTA\"],\"prefix\":[\"MISS\"]}],\"gender\":\"female\",\"birthDate\":\"1999-01-04\",\"address\":[{\"use\":\"home\",\"line\":[\"123 Dale Avenue\",\"Long Eaton\",\"Nottingham\"],\"postalCode\":\"NG10 1NP\"}],\"generalPractitioner\":[{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"B81001\"}}]}},{\"fullUrl\":\"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\",\"resource\":{\"resourceType\":\"PractitionerRole\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"100102238986\"},{\"system\":\"https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code\",\"value\":\"G7345213\"}],\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gmc-number\",\"value\":\"C1234567\"},\"display\":\"DR RAZIA ALI\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"},\"code\":[{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName\",\"code\":\"R8000\",\"display\":\"Clinical Practitioner Access Role\"}]}],\"specialty\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/NHSDataModelAndDictionary-clinical-specialty\",\"code\":\"370\",\"display\":\"MEDICAL ONCOLOGY\"}]}],\"location\":[{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA11\"},\"display\":\"MUSGROVE PARK HOSPITAL\"}],\"healthcareService\":[{\"identifier\":{\"use\":\"official\",\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"A99968\"},\"display\":\"SOMERSET BOWEL CANCER SCREENING CENTRE\"}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}},{\"fullUrl\":\"urn:uuid:a5acefc1-f8ca-4989-a5ac-34ae36741466\",\"resource\":{\"resourceType\":\"PractitionerRole\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"10012345678\"},{\"system\":\"https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code\",\"value\":\"2132345\"}],\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gmc-number\",\"value\":\"C9999999\"},\"display\":\"DR SAZ RAZ\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"},\"code\":[{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName\",\"code\":\"R8000\",\"display\":\"Clinical Practitioner Access Role\"}]}],\"specialty\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/NHSDataModelAndDictionary-clinical-specialty\",\"code\":\"100\",\"display\":\"GENERAL MEDICINE\"}]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}}]}"
                                },
                                "dispense-notification": {
                                    "summary": "Notification of dispensed medication",
                                    "description": " \n\n MessageDefinition.url = **https://fhir.nhs.uk/MessageDefinition/dispense-notification** \n \n\n The first Bundle.entry **MUST** be a FHIR MessageHeader with \n MessageHeader.eventCoding = **dispense-notification** \n\n\n | Resource | Profile | Min | Max | \n|----------|---------|-----|-----| \n| [MedicationDispense](https://www.hl7.org/fhir/MedicationDispense.html) | [NHSDigital-MedicationDispense-Message](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense-Message) | 1 | * | \n\n",
                                    "value": "{\"resourceType\":\"Bundle\",\"id\":\"334a3195-1f6c-497a-8efe-d272ca9c4e38\",\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"334a3195-1f6c-497a-8efe-d272ca9c4e38\"},\"type\":\"message\",\"entry\":[{\"fullUrl\":\"urn:uuid:e9a71955-53ba-b15a-d4b6-bea99d5017b3\",\"resource\":{\"resourceType\":\"MessageHeader\",\"eventCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/message-event\",\"code\":\"dispense-notification\",\"display\":\"Dispense Notification\"},\"destination\":[{\"endpoint\":\"https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message\",\"receiver\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"T1450\"},\"display\":\"NHS BUSINESS SERVICES AUTHORITY\"}}],\"sender\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"},\"source\":{\"name\":\"The Simple Pharmacy\",\"endpoint\":\"urn:nhs-uk:addressing:ods:VNE51\"},\"reason\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/message-reason-prescription\",\"code\":\"notification\",\"display\":\"Notification\"}]},\"response\":{\"identifier\":\"6b1d6d0f-f154-48c9-80e5-48f041585185\",\"code\":\"ok\"},\"focus\":[{\"reference\":\"urn:uuid:4509b70d-d8b8-ea03-1105-64557cb54a29\"},{\"reference\":\"urn:uuid:06167339-9337-d030-0366-514a6a46da17\"}]}},{\"fullUrl\":\"urn:uuid:4509b70d-d8b8-ea03-1105-64557cb54a29\",\"resource\":{\"resourceType\":\"MedicationDispense\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"performer\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"Mr Peter Potion\"},\"organization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"0532567890\",\"use\":\"work\"}]},{\"resourceType\":\"MedicationRequest\",\"id\":\"m1\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"299c610b-f4f1-4eac-a7d7-4fb6b0556e11\"}],\"status\":\"active\",\"intent\":\"order\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"39720311000001101\",\"display\":\"Paracetamol 500mg soluble tablets\"}]},\"subject\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9876543210\"}},\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"b2fc79f0-2793-4736-9b2d-0976c21e73a5\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"82D996-C81010-11DB12\"},\"dispenseRequest\":{\"quantity\":{\"value\":100,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"732936001\"}},\"substitution\":{\"allowedBoolean\":false}}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\"code\":\"0006\",\"display\":\"Dispensed\"}}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-dispense-item-number\",\"value\":\"228e8360-c490-4de6-a33b-daeb6a8d904a\"}],\"status\":\"completed\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"2274211000001101\",\"display\":\"Paracetamol 500mg soluble tablets (Kent Pharma (UK) Ltd) 16 tablet 2 x 8 tablets\"}]},\"subject\":{\"type\":\"Patient\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9876543210\"},\"display\":\"Miss Bernie Kanfeld\"},\"performer\":[{\"actor\":{\"reference\":\"#performer\"}}],\"authorizingPrescription\":[{\"reference\":\"#m1\"}],\"type\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0001\",\"display\":\"Item fully dispensed\"}]},\"quantity\":{\"value\":16,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"732936001\"},\"daysSupply\":{\"value\":4,\"unit\":\"Day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"whenPrepared\":\"2020-06-25T15:30:00+00:00\",\"dosageInstruction\":[{\"text\":\"100 tablets. One tablet to be taken four times a day\",\"timing\":{\"repeat\":{\"frequency\":5,\"period\":1,\"periodUnit\":\"d\"}},\"route\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"26643006\",\"display\":\"Oral\"}]}}]}},{\"fullUrl\":\"urn:uuid:06167339-9337-d030-0366-514a6a46da17\",\"resource\":{\"resourceType\":\"MedicationDispense\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"performer\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"Mr Peter Potion\"},\"organization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"0532567890\",\"use\":\"work\"}]},{\"resourceType\":\"MedicationRequest\",\"id\":\"m2\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"5cb17f5a-11ac-4e18-825f-6470467238b3\"}],\"status\":\"active\",\"intent\":\"order\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"35936511000001108\",\"display\":\"Salbutamol 100micrograms/dose inhaler\"}]},\"subject\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9876543210\"}},\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"b2fc79f0-2793-4736-9b2d-0976c21e73a5\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"82D996-C81010-11DB12\"},\"dispenseRequest\":{\"quantity\":{\"value\":200,\"unit\":\"dose\",\"system\":\"http://snomed.info/sct\",\"code\":\"3317411000001100\"}},\"substitution\":{\"allowedBoolean\":false}}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\"code\":\"0006\",\"display\":\"Dispensed\"}}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-dispense-item-number\",\"value\":\"06167339-9337-d030-0366-514a6a46da17\"}],\"status\":\"completed\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"35936511000001108\",\"display\":\"Salbutamol 100micrograms/dose inhaler\"}]},\"subject\":{\"type\":\"Patient\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9876543210\"},\"display\":\"Miss Bernie Kanfeld\"},\"performer\":[{\"actor\":{\"reference\":\"#performer\"}}],\"authorizingPrescription\":[{\"reference\":\"#m2\"}],\"type\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0001\",\"display\":\"Item fully dispensed\"}]}}}]}"
                                },
                                "dispense-notification-update": {
                                    "summary": "Notification of medication dispenses.",
                                    "description": " \n\n MessageDefinition.url = **https://fhir.nhs.uk/MessageDefinition/dispense-notification-update** \n \n\n The first Bundle.entry **MUST** be a FHIR MessageHeader with \n MessageHeader.eventCoding = **dispense-notification-update** \n\n\n | Resource | Profile | Min | Max | \n|----------|---------|-----|-----| \n| [MedicationDispense](https://www.hl7.org/fhir/MedicationDispense.html) | [NHSDigital-MedicationDispense-Message](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense-Message) | 1 | * | \n\n",
                                    "value": "{\"resourceType\":\"Bundle\",\"id\":\"1e9d39ef-e999-4ab5-8fa1-bf8a0ff0ea98\",\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"1e9d39ef-e999-4ab5-8fa1-bf8a0ff0ea98\"},\"type\":\"message\",\"entry\":[{\"fullUrl\":\"urn:uuid:1e9d39ef-e999-4ab5-8fa1-bf8a0ff0ea98\",\"resource\":{\"resourceType\":\"MessageHeader\",\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-replacementOf\",\"valueIdentifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"334a3195-1f6c-497a-8efe-d272ca9c4e38\"}}],\"eventCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/message-event\",\"code\":\"dispense-notification-update\",\"display\":\"Dispense Notification Update\"},\"destination\":[{\"endpoint\":\"https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message\",\"receiver\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"T1450\"},\"display\":\"NHS BUSINESS SERVICES AUTHORITY\"}}],\"sender\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"},\"source\":{\"name\":\"The Simple Pharmacy\",\"endpoint\":\"urn:nhs-uk:addressing:ods:VNE51\"},\"reason\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/message-reason-prescription\",\"code\":\"notification\",\"display\":\"Notification\"}]},\"response\":{\"identifier\":\"6b1d6d0f-f154-48c9-80e5-48f041585185\",\"code\":\"ok\"},\"focus\":[{\"reference\":\"urn:uuid:4509b70d-d8b8-ea03-1105-64557cb54a29\"},{\"reference\":\"urn:uuid:06167339-9337-d030-0366-514a6a46da17\"}]}},{\"fullUrl\":\"urn:uuid:4509b70d-d8b8-ea03-1105-64557cb54a29\",\"resource\":{\"resourceType\":\"MedicationDispense\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"performer\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"Mr Peter Potion\"},\"organization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"0532567890\",\"use\":\"work\"}]},{\"resourceType\":\"MedicationRequest\",\"id\":\"m1\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"299c610b-f4f1-4eac-a7d7-4fb6b0556e11\"}],\"status\":\"active\",\"intent\":\"order\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"39720311000001101\",\"display\":\"Paracetamol 500mg soluble tablets\"}]},\"subject\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9876543210\"}},\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"b2fc79f0-2793-4736-9b2d-0976c21e73a5\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"82D996-C81010-11DB12\"},\"dispenseRequest\":{\"quantity\":{\"value\":100,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"732936001\"}},\"substitution\":{\"allowedBoolean\":false}}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\"code\":\"0006\",\"display\":\"Dispensed\"}}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-dispense-item-number\",\"value\":\"228e8360-c490-4de6-a33b-daeb6a8d904a\"}],\"status\":\"completed\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"2274211000001101\",\"display\":\"Paracetamol 500mg soluble tablets (Kent Pharma (UK) Ltd) 16 tablet 2 x 8 tablets\"}]},\"subject\":{\"type\":\"Patient\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9876543210\"},\"display\":\"Miss Bernie Kanfeld\"},\"performer\":[{\"actor\":{\"reference\":\"#performer\"}}],\"authorizingPrescription\":[{\"reference\":\"#m1\"}],\"type\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0001\",\"display\":\"Item fully dispensed\"}]},\"quantity\":{\"value\":16,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"732936001\"},\"daysSupply\":{\"value\":4,\"unit\":\"Day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"whenPrepared\":\"2020-06-25T15:30:00+00:00\",\"dosageInstruction\":[{\"text\":\"100 tablets. One tablet to be taken four times a day\",\"timing\":{\"repeat\":{\"frequency\":5,\"period\":1,\"periodUnit\":\"d\"}},\"route\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"26643006\",\"display\":\"Oral\"}]}}]}},{\"fullUrl\":\"urn:uuid:06167339-9337-d030-0366-514a6a46da17\",\"resource\":{\"resourceType\":\"MedicationDispense\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"performer\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"Mr Peter Potion\"},\"organization\":{\"type\":\"Organization\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"0532567890\",\"use\":\"work\"}]},{\"resourceType\":\"MedicationRequest\",\"id\":\"m2\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"5cb17f5a-11ac-4e18-825f-6470467238b3\"}],\"status\":\"active\",\"intent\":\"order\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"35936511000001108\",\"display\":\"Salbutamol 100micrograms/dose inhaler\"}]},\"subject\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9876543210\"}},\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"b2fc79f0-2793-4736-9b2d-0976c21e73a5\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"82D996-C81010-11DB12\"},\"dispenseRequest\":{\"quantity\":{\"value\":200,\"unit\":\"dose\",\"system\":\"http://snomed.info/sct\",\"code\":\"3317411000001100\"}},\"substitution\":{\"allowedBoolean\":false}}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\"code\":\"0006\",\"display\":\"Dispensed\"}}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-dispense-item-number\",\"value\":\"06167339-9337-d030-0366-514a6a46da17\"}],\"status\":\"completed\",\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"35936511000001108\",\"display\":\"Salbutamol 100micrograms/dose inhaler\"}]},\"subject\":{\"type\":\"Patient\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9876543210\"},\"display\":\"Miss Bernie Kanfeld\"},\"performer\":[{\"actor\":{\"reference\":\"#performer\"}}],\"authorizingPrescription\":[{\"reference\":\"#m2\"}],\"type\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0001\",\"display\":\"Item fully dispensed\"}]}}}]}"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\"resourceType\":\"OperationOutcome\",\"id\":\"c9643613-0b72-4453-bfd2-71bfd2330c73\",\"issue\":[{\"severity\":\"information\",\"code\":\"informational\"}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/$verify-signature": {
            "post": {
                "tags": [
                    "System Level Operations"
                ],
                "description": "Use this endpoint to verify a prescription's signature to ensure that the signature is valid, and that it matches the prescription it is attached to. This endpoint is expected to be used immediately after downloading prescriptions. Send the response message from the release endpoint to this endpoint. The signatures on these prescriptions will be verified. \n The endpoint will return a set of (up to 25) verify responses associated with the bundle of prescriptions sent to the endpoint for verification.\n\n ## Parameters (In) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |content|1..1|Bundle||The search Bundle retrieved from the $release operation|\n\n ## Parameters (Out) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |entryNumber|1..1|integer||Index to the Bundle.entry in the supplied FHIR Bundle<br/><br/> <table><tr><td>messageIdentifier</td><td>1..1</td><td>Reference</td><td>A reference to the Bundled prescription-order FHIR Bundle</td></tr><tr><td>result</td><td>1..1</td><td>OperationOutcome</td><td>The result of the individual prescription-order signature verification</td></tr></table>|",
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/Parameters"
                            },
                            "example": "{\"resourceType\":\"Bundle\",\"id\":\"155e1102-9e71-4f19-9453-b905c0bbc494\",\"meta\":{\"lastUpdated\":\"2021-07-15T11:25:25+00:00\"},\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"53aa80e7-7ccb-485e-b544-214bba1334a9\"},\"type\":\"searchset\",\"total\":1,\"entry\":[{\"fullUrl\":\"urn:uuid:67ca2830-4934-41ad-95d0-f31d9f8b61fb\",\"resource\":{\"resourceType\":\"Bundle\",\"meta\":{\"lastUpdated\":\"2021-07-15T11:24:43+00:00\"},\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ed4a6ba4-ef83-47d4-aa48-6c7fb437905e\"},\"type\":\"message\",\"entry\":[{\"fullUrl\":\"urn:uuid:2e48528f-1fc6-4fd1-9f9e-c400980e7f2b\",\"resource\":{\"resourceType\":\"MessageHeader\",\"id\":\"2e48528f-1fc6-4fd1-9f9e-c400980e7f2b\",\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-Spine-MessageHeader-messageId\",\"valueIdentifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ed4a6ba4-ef83-47d4-aa48-6c7fb437905e\"}}],\"eventCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/message-event\",\"code\":\"prescription-order\",\"display\":\"Prescription Order\"},\"destination\":[{\"endpoint\":\"urn:nhs-uk:addressing:ods:FH542\",\"receiver\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"FH542\"}}}],\"sender\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"X2601\"},\"display\":\"NHS Digital Spine\"},\"source\":{\"name\":\"NHS Spine\",\"endpoint\":\"https://int.api.service.nhs.uk/electronic-prescriptions/$process-message\"},\"response\":{\"identifier\":\"9a14ee11-9f58-4d67-8988-2220cd99bd29\",\"code\":\"ok\"},\"focus\":[{\"reference\":\"urn:uuid:df12b683-483c-486e-a9ef-213f915c997b\"},{\"reference\":\"urn:uuid:3a47d50f-9d08-45be-8246-6107b24f346e\"}]}},{\"fullUrl\":\"urn:uuid:df12b683-483c-486e-a9ef-213f915c997b\",\"resource\":{\"resourceType\":\"Patient\",\"id\":\"df12b683-483c-486e-a9ef-213f915c997b\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9449305552\"}],\"name\":[{\"use\":\"usual\",\"family\":\"DAVIS\",\"given\":[\"JANE\"],\"prefix\":[\"MRS\"]}],\"gender\":\"female\",\"birthDate\":\"1999-11-25\",\"address\":[{\"use\":\"home\",\"line\":[\"53 Harrogate Road\",\"Chapel Allerton\",\"Leeds\"],\"postalCode\":\"LS7 3PY\"}],\"generalPractitioner\":[{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"B81001\"}}]}},{\"fullUrl\":\"urn:uuid:80eb635a-fb95-427f-9754-3ef9ca922994\",\"resource\":{\"resourceType\":\"Practitioner\",\"id\":\"80eb635a-fb95-427f-9754-3ef9ca922994\",\"identifier\":[{\"system\":\"https://fhir.hl7.org.uk/Id/professional-code\",\"value\":\"6150129\"}],\"name\":[{\"family\":\"FIFTYSEVEN\",\"given\":[\"RANDOM\"],\"prefix\":[\"MR\"]}]}},{\"fullUrl\":\"urn:uuid:86a0d8f6-3f0f-41c1-9140-d2d7e50bbdc0\",\"resource\":{\"resourceType\":\"Location\",\"id\":\"86a0d8f6-3f0f-41c1-9140-d2d7e50bbdc0\",\"address\":{\"use\":\"work\",\"line\":[\"MUSGROVE PARK HOSPITAL\",\"TAUNTON\"],\"postalCode\":\"TA1 5DA\"}}},{\"fullUrl\":\"urn:uuid:e0230cb2-8335-43b7-b7d2-673504a80a2f\",\"resource\":{\"resourceType\":\"HealthcareService\",\"id\":\"e0230cb2-8335-43b7-b7d2-673504a80a2f\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"A99968\"}],\"location\":[{\"reference\":\"urn:uuid:86a0d8f6-3f0f-41c1-9140-d2d7e50bbdc0\"}],\"name\":\"SOMERSET BOWEL CANCER SCREENING CENTRE\",\"telecom\":[{\"system\":\"phone\",\"value\":\"01823333444\",\"use\":\"work\"}]}},{\"fullUrl\":\"urn:uuid:3ee4cb3d-e3bb-4187-8533-fbf30524bd15\",\"resource\":{\"resourceType\":\"PractitionerRole\",\"id\":\"3ee4cb3d-e3bb-4187-8533-fbf30524bd15\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"601986680555\"}],\"practitioner\":{\"reference\":\"urn:uuid:80eb635a-fb95-427f-9754-3ef9ca922994\"},\"organization\":{\"reference\":\"urn:uuid:2f808d78-c2f1-4e8b-8626-90f986d94cdd\"},\"code\":[{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName\",\"code\":\"R8000\"}]}],\"healthcareService\":[{\"reference\":\"urn:uuid:e0230cb2-8335-43b7-b7d2-673504a80a2f\"}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}},{\"fullUrl\":\"urn:uuid:2f808d78-c2f1-4e8b-8626-90f986d94cdd\",\"resource\":{\"resourceType\":\"Organization\",\"id\":\"2f808d78-c2f1-4e8b-8626-90f986d94cdd\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"}],\"type\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/organisation-role\",\"code\":\"197\",\"display\":\"NHS TRUST\"}]}],\"name\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"}},{\"fullUrl\":\"urn:uuid:28bd81a7-ed11-4c18-8237-6c20ebc2b712\",\"resource\":{\"resourceType\":\"Practitioner\",\"id\":\"28bd81a7-ed11-4c18-8237-6c20ebc2b712\",\"identifier\":[{\"system\":\"https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code\",\"value\":\"683458\"}],\"name\":[{\"family\":\"FIFTYSEVEN\",\"given\":[\"RANDOM\"],\"prefix\":[\"MR\"]}]}},{\"fullUrl\":\"urn:uuid:a7656d8d-ae5f-444a-83a8-ca7db2b53d0e\",\"resource\":{\"resourceType\":\"Location\",\"id\":\"a7656d8d-ae5f-444a-83a8-ca7db2b53d0e\",\"address\":{\"use\":\"work\",\"line\":[\"MUSGROVE PARK HOSPITAL\",\"TAUNTON\"],\"postalCode\":\"TA1 5DA\"}}},{\"fullUrl\":\"urn:uuid:6239f4bd-da13-4388-b4ab-e49afe979edd\",\"resource\":{\"resourceType\":\"HealthcareService\",\"id\":\"6239f4bd-da13-4388-b4ab-e49afe979edd\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"A99968\"}],\"location\":[{\"reference\":\"urn:uuid:a7656d8d-ae5f-444a-83a8-ca7db2b53d0e\"}],\"name\":\"SOMERSET BOWEL CANCER SCREENING CENTRE\",\"telecom\":[{\"system\":\"phone\",\"value\":\"01823333444\",\"use\":\"work\"}]}},{\"fullUrl\":\"urn:uuid:f3e0cfcc-b9f7-440b-b233-33abc1715ed9\",\"resource\":{\"resourceType\":\"PractitionerRole\",\"id\":\"f3e0cfcc-b9f7-440b-b233-33abc1715ed9\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"601986680555\"}],\"practitioner\":{\"reference\":\"urn:uuid:28bd81a7-ed11-4c18-8237-6c20ebc2b712\"},\"organization\":{\"reference\":\"urn:uuid:bcd8cce1-89af-48d7-8538-1f1632893c97\"},\"code\":[{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName\",\"code\":\"R8000\"}]}],\"healthcareService\":[{\"reference\":\"urn:uuid:6239f4bd-da13-4388-b4ab-e49afe979edd\"}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}},{\"fullUrl\":\"urn:uuid:bcd8cce1-89af-48d7-8538-1f1632893c97\",\"resource\":{\"resourceType\":\"Organization\",\"id\":\"bcd8cce1-89af-48d7-8538-1f1632893c97\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"}],\"type\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/organisation-role\",\"code\":\"197\",\"display\":\"NHS TRUST\"}]}],\"name\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"}},{\"fullUrl\":\"urn:uuid:3a47d50f-9d08-45be-8246-6107b24f346e\",\"resource\":{\"resourceType\":\"MedicationRequest\",\"id\":\"3a47d50f-9d08-45be-8246-6107b24f346e\",\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner\",\"valueReference\":{\"reference\":\"urn:uuid:f3e0cfcc-b9f7-440b-b233-33abc1715ed9\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/prescription-type\",\"code\":\"1001\"}}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"a54219b8-f741-4c47-b662-e4f8dfa49ab6\"}],\"status\":\"active\",\"intent\":\"order\",\"category\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",\"code\":\"outpatient\",\"display\":\"Outpatient\"}]}],\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"15517911000001104\",\"display\":\"Methotrexate 10mg/0.2ml solution for injection pre-filled syringes\"}]},\"subject\":{\"reference\":\"urn:uuid:df12b683-483c-486e-a9ef-213f915c997b\"},\"authoredOn\":\"2019-12-30T12:00:00+00:00\",\"requester\":{\"reference\":\"urn:uuid:3ee4cb3d-e3bb-4187-8533-fbf30524bd15\"},\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"bcf97b5e-e1a8-435b-80ae-2b8cc0878e62\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"7F4CA4-A99968-4B0BAZ\"},\"courseOfTherapyType\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\",\"code\":\"acute\",\"display\":\"Short course (acute) therapy\"}]},\"dosageInstruction\":[{\"text\":\"10 milligram, Inject, Subcutaneous route, once weekly\"}],\"dispenseRequest\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/dispensing-site-preference\",\"code\":\"P1\"}}],\"quantity\":{\"value\":1,\"unit\":\"pre-filled disposable injection\",\"system\":\"http://snomed.info/sct\",\"code\":\"3318611000001103\"},\"performer\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"FH542\"}}},\"substitution\":{\"allowedBoolean\":false}}}]}}]}"
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Parameters"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\"resourceType\":\"Parameters\",\"id\":\"794e6272-a022-48f9-bcdb-867c993548da\",\"parameter\":[{\"name\":\"0\",\"part\":[{\"name\":\"messageIdentifier\",\"valueReference\":{\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"05748daa-b163-4a59-bc8b-a71c139f82f5\"}}},{\"name\":\"result\",\"resource\":{\"resourceType\":\"OperationOutcome\",\"issue\":[{\"severity\":\"error\",\"code\":\"invalid\",\"details\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\"code\":\"INVALID_VALUE\"}]},\"diagnostics\":\"Signature is invalid.\",\"expression\":[\"Provenance.signature.data\"]},{\"severity\":\"error\",\"code\":\"invalid\",\"details\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\"code\":\"INVALID_VALUE\"}]},\"diagnostics\":\"Signature doesn't match prescription.\",\"expression\":[\"Provenance.signature.data\"]}]}}]}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/$prepare": {
            "post": {
                "tags": [
                    "System Level Operations"
                ],
                "description": "Convert a prescription in FHIR format into the canonicalised HL7 V3 signature fragments which should be signed by the prescriber.\n\n ## Parameters (In) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |content|1..1|Bundle||The prescription order message to process (without Provence resource)|\n\n ## Parameters (Out) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |digest|1..1|string||Message Digest response containing the signed signature in XML format|\n |algorithm|1..1|string||Algorithm used|\n |timestamp|1..1|string||dateTime when the digest was created|\n\n ## Comment \n\nThis operation does not use the parameters resource for input parameters, it does for the response.  \\n\\n A server may return one of several status codes: \\n\\n * **200 OK**: Indicates that the message has been fully processed.",
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/Parameters"
                            },
                            "example": "{\"resourceType\":\"Bundle\",\"id\":\"homecare-prepare\",\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ad945a29-85f8-439a-b590-6789719adc16\"},\"type\":\"message\",\"entry\":[{\"fullUrl\":\"urn:uuid:311316d3-1de0-4f7c-8109-c950ead1c717\",\"resource\":{\"resourceType\":\"MessageHeader\",\"eventCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/message-event\",\"code\":\"prescription-order\",\"display\":\"Prescription Order\"},\"destination\":[{\"endpoint\":\"https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message\",\"receiver\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Simple Pharmacy\"}}],\"sender\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"},\"source\":{\"endpoint\":\"urn:nhs-uk:addressing:ods:RBA\"},\"focus\":[{\"reference\":\"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\",\"type\":\"Patient\"},{\"reference\":\"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\",\"type\":\"MedicationRequest\"}]}},{\"fullUrl\":\"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\",\"resource\":{\"resourceType\":\"MedicationRequest\",\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/prescription-type\",\"code\":\"1201\",\"display\":\"Outpatient Homecare Prescriber - Medical Prescriber\"}},{\"url\":\"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation\",\"extension\":[{\"url\":\"numberOfPrescriptionsIssued\",\"valueUnsignedInt\":1},{\"url\":\"authorisationExpiryDate\",\"valueDateTime\":\"2020-08-07\"}]}],\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"a54219b8-f741-4c47-b662-e4f8dfa49ab6\"}],\"status\":\"active\",\"intent\":\"order\",\"category\":[{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",\"code\":\"outpatient\",\"display\":\"Outpatient\"}]}],\"medicationCodeableConcept\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"15517911000001104\",\"display\":\"Methotrexate 10mg/0.2ml solution for injection pre-filled syringes\"}]},\"subject\":{\"reference\":\"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\"},\"authoredOn\":\"2020-07-13T12:00:00+00:00\",\"requester\":{\"reference\":\"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\"},\"groupIdentifier\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"ad945a29-85f8-439a-b590-6789719adc16\"}}],\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"DC2C66-A1B2C3-23407B\"},\"courseOfTherapyType\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\",\"code\":\"continuous\",\"display\":\"Continuous long term therapy\"}]},\"dosageInstruction\":[{\"text\":\"10 milligram, Inject, Subcutaneous route, once weekly.\",\"timing\":{\"repeat\":{\"boundsDuration\":{\"value\":10,\"unit\":\"day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"frequency\":5,\"period\":1,\"periodUnit\":\"d\"}},\"route\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"34206005\",\"display\":\"Subcutaneous route\"}]},\"method\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"422145002\",\"display\":\"Inject\"}]},\"doseAndRate\":[{\"doseQuantity\":{\"value\":10,\"unit\":\"milligram\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"mg\"}}]}],\"dispenseRequest\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/dispensing-site-preference\",\"code\":\"P2\"}}],\"validityPeriod\":{\"start\":\"2020-07-13T12:00:00+00:00\",\"end\":\"2020-08-07T12:00:00+00:00\"},\"numberOfRepeatsAllowed\":0,\"quantity\":{\"value\":1,\"unit\":\"Injection\",\"system\":\"http://snomed.info/sct\",\"code\":\"3092611000001103\"},\"expectedSupplyDuration\":{\"value\":7,\"unit\":\"day\",\"system\":\"http://unitsofmeasure.org\",\"code\":\"d\"},\"performer\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"}}},\"substitution\":{\"allowedBoolean\":false}}},{\"fullUrl\":\"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\",\"resource\":{\"resourceType\":\"Patient\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"}],\"name\":[{\"use\":\"official\",\"family\":\"CORY\",\"given\":[\"ETTA\"],\"prefix\":[\"MISS\"]}],\"gender\":\"female\",\"birthDate\":\"1999-01-04\",\"address\":[{\"use\":\"home\",\"line\":[\"123 Dale Avenue\",\"Long Eaton\",\"Nottingham\"],\"postalCode\":\"NG10 1NP\"}],\"generalPractitioner\":[{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"B81001\"}}]}},{\"fullUrl\":\"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\",\"resource\":{\"resourceType\":\"PractitionerRole\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"100102238986\"},{\"system\":\"https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code\",\"value\":\"G7345213\"}],\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gmc-number\",\"value\":\"C1234567\"},\"display\":\"Dr ALI RAZIA\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"},\"code\":[{\"coding\":[{\"system\":\"https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName\",\"code\":\"R8000\",\"display\":\"Clinical Practitioner Access Role\"}]}],\"specialty\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/NHSDataModelAndDictionary-clinical-specialty\",\"code\":\"370\",\"display\":\"MEDICAL ONCOLOGY\"}]}],\"location\":[{\"reference\":\"urn:uuid:044e7916-c697-4072-880e-ef44d3032962\",\"display\":\"MUSGROVE PARK HOSPITAL\"}],\"healthcareService\":[{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"A99968\"},\"display\":\"SOMERSET BOWEL CANCER SCREENING CENTRE\"}],\"telecom\":[{\"system\":\"phone\",\"value\":\"01823 333444\",\"use\":\"work\"}]}},{\"fullUrl\":\"urn:uuid:044e7916-c697-4072-880e-ef44d3032962\",\"resource\":{\"resourceType\":\"Location\",\"identifier\":[{\"use\":\"official\",\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA11\"}],\"status\":\"active\",\"mode\":\"instance\",\"address\":{\"use\":\"work\",\"line\":[\"MUSGROVE PARK HOSPITAL\"],\"city\":\"TAUNTON\",\"postalCode\":\"TA1 5DA\",\"country\":\"NLD\"}}}]}"
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Parameters"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\"resourceType\":\"Parameters\",\"id\":\"320b2e2a-0fa0-4ffa-ad3d-f223c27e849d\",\"parameter\":[{\"name\":\"digest\",\"valueString\":\"PFNpZ25lZEluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+ejBHaWVSUjJQQThJMkdIM1p5NC9MbUsxVHd3PTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPg==\"},{\"name\":\"timestamp\",\"valueString\":\"2021-05-07T14:47:47+00:00\"},{\"name\":\"algorithm\",\"valueString\":\"RS1\"}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/Claim": {
            "post": {
                "tags": [
                    "Claim"
                ],
                "summary": "create",
                "description": "[create](http://www.hl7.org/fhir/http.html#create) a new Claim instance.\n\nUse this endpoint to submit a claim for reimbursement for a dispensed prescription.",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/Claim"
                            },
                            "examples": {
                                "example": {
                                    "value": "{\"resourceType\":\"Claim\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"provider\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"2344242\"},\"display\":\"|Bob||Buller|\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"FA976\"},\"display\":\"Bob's Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"d1257b5f-c738-0ca3-e050-d20ae3a20464\"}],\"status\":\"active\",\"type\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/claim-type\",\"code\":\"pharmacy\",\"display\":\"pharmacy\"}]},\"use\":\"claim\",\"patient\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9446365678\"},\"display\":\"Dart Janelle Cori\"},\"created\":\"2021-11-22T10:28:02.0Z\",\"provider\":{\"reference\":\"#provider\"},\"priority\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/processpriority\",\"code\":\"normal\"}]},\"prescription\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier\",\"extension\":[{\"url\":\"shortForm\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"222FD3-B83002-00001I\"}},{\"url\":\"UUID\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"d1257b5f-c5f3-0ca3-e050-d20ae3a20464\"}}]}],\"display\":\"The original prescription\"},\"payee\":{\"type\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/payeetype\",\"code\":\"provider\",\"display\":\"Provider\"}]},\"party\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"FA976\"},\"display\":\"Bob's Pharmacy\"}},\"insurance\":[{\"sequence\":1,\"focal\":true,\"coverage\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"T1450\"},\"display\":\"PPA\"}}],\"item\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\"code\":\"0006\",\"display\":\"Dispensed\"}}],\"sequence\":1,\"productOrService\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"16076005\",\"display\":\"Prescription\"}]},\"programCode\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/prescription-charge-exemption\",\"code\":\"0001\",\"display\":\"Patient has paid appropriate charges\"}]},{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/DM-exemption-evidence\",\"code\":\"no-evidence-seen\",\"display\":\"No Evidence Seen\"}]}],\"detail\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/claim-sequence-identifier\",\"value\":\"E19DBF8D-84E9-45EE-BD62-B771C9FE7022\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"d1257b5f-c738-0ca3-e050-d20ae3a20464\"}}}],\"sequence\":1,\"productOrService\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"134463001\",\"display\":\"Telmisartan 20mg tablets\"}]},\"modifier\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0001\",\"display\":\"Item fully dispensed\"}]}],\"programCode\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/DM-prescription-charge\",\"code\":\"paid-once\",\"display\":\"Paid Once\"}]},{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement\",\"code\":\"NDEC\",\"display\":\"No Dispenser Endorsement Code\"}]}],\"quantity\":{\"value\":28,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"},\"subDetail\":[{\"sequence\":1,\"productOrService\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"38781611000001106\",\"display\":\"Telmisartan 20mg tablets (Ennogen Healthcare Ltd)\"}]},\"quantity\":{\"value\":28,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"}}]},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/claim-sequence-identifier\",\"value\":\"B24A5B33-AEFB-4BEF-89CE-2A819C57AA2A\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"d1257b5f-c73d-0ca3-e050-d20ae3a20464\"}}}],\"sequence\":2,\"productOrService\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"318986004\",\"display\":\"Telmisartan 40mg tablets\"}]},\"modifier\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0002\",\"display\":\"Item not dispensed\"}]}],\"programCode\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/DM-prescription-charge\",\"code\":\"paid-once\",\"display\":\"Paid Once\"}]},{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement\",\"code\":\"NDEC\",\"display\":\"No Dispenser Endorsement Code\"}]}]}]}]}"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"information\",\n    \"code\": \"informational\"\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/Claim/{id}": {
            "put": {
                "tags": [
                    "Claim"
                ],
                "summary": "update",
                "description": "[update](http://www.hl7.org/fhir/http.html#update) an existing Claim instance, or create using a client-assigned ID.\n\nUse this endpoint to submit a claim for reimbursement for a dispensed prescription.",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "The resource ID",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "6160eb19-6fc3-4b43-953a-54ea01dc1cf4"
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/Claim"
                            },
                            "examples": {
                                "example": {
                                    "value": "{\"resourceType\":\"Claim\",\"id\":\"258E153F-567B-4D60-B045-BA315A6B8DB0\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"provider\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"2344242\"},\"display\":\"|Bob||Buller|\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"FA976\"},\"display\":\"Bob's Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"d1257b5f-c738-0ca3-e050-d20ae3a20464\"}],\"status\":\"active\",\"type\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/claim-type\",\"code\":\"pharmacy\",\"display\":\"pharmacy\"}]},\"use\":\"claim\",\"patient\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9446365678\"},\"display\":\"Dart Janelle Cori\"},\"created\":\"2021-11-22T10:28:02.0Z\",\"provider\":{\"reference\":\"#provider\"},\"priority\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/processpriority\",\"code\":\"normal\"}]},\"prescription\":{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier\",\"extension\":[{\"url\":\"shortForm\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"222FD3-B83002-00001I\"}},{\"url\":\"UUID\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription\",\"value\":\"d1257b5f-c5f3-0ca3-e050-d20ae3a20464\"}}]}],\"display\":\"The original prescription\"},\"payee\":{\"type\":{\"coding\":[{\"system\":\"http://terminology.hl7.org/CodeSystem/payeetype\",\"code\":\"provider\",\"display\":\"Provider\"}]},\"party\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"FA976\"},\"display\":\"Bob's Pharmacy\"}},\"insurance\":[{\"sequence\":1,\"focal\":true,\"coverage\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"T1450\"},\"display\":\"PPA\"}}],\"item\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\"valueCoding\":{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\"code\":\"0006\",\"display\":\"Dispensed\"}}],\"sequence\":1,\"productOrService\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"16076005\",\"display\":\"Prescription\"}]},\"programCode\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/prescription-charge-exemption\",\"code\":\"0001\",\"display\":\"Patient has paid appropriate charges\"}]},{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/DM-exemption-evidence\",\"code\":\"no-evidence-seen\",\"display\":\"No Evidence Seen\"}]}],\"detail\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/claim-sequence-identifier\",\"value\":\"E19DBF8D-84E9-45EE-BD62-B771C9FE7022\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"d1257b5f-c738-0ca3-e050-d20ae3a20464\"}}}],\"sequence\":1,\"productOrService\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"134463001\",\"display\":\"Telmisartan 20mg tablets\"}]},\"modifier\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0001\",\"display\":\"Item fully dispensed\"}]}],\"programCode\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/DM-prescription-charge\",\"code\":\"paid-once\",\"display\":\"Paid Once\"}]},{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement\",\"code\":\"NDEC\",\"display\":\"No Dispenser Endorsement Code\"}]}],\"quantity\":{\"value\":28,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"},\"subDetail\":[{\"sequence\":1,\"productOrService\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"38781611000001106\",\"display\":\"Telmisartan 20mg tablets (Ennogen Healthcare Ltd)\"}]},\"quantity\":{\"value\":28,\"unit\":\"tablet\",\"system\":\"http://snomed.info/sct\",\"code\":\"428673006\"}}]},{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/claim-sequence-identifier\",\"value\":\"B24A5B33-AEFB-4BEF-89CE-2A819C57AA2A\"}},{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"d1257b5f-c73d-0ca3-e050-d20ae3a20464\"}}}],\"sequence\":2,\"productOrService\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"318986004\",\"display\":\"Telmisartan 40mg tablets\"}]},\"modifier\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\"code\":\"0002\",\"display\":\"Item not dispensed\"}]}],\"programCode\":[{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/DM-prescription-charge\",\"code\":\"paid-once\",\"display\":\"Paid Once\"}]},{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement\",\"code\":\"NDEC\",\"display\":\"No Dispenser Endorsement Code\"}]}]}]}]}"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"information\",\n    \"code\": \"informational\"\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/Task": {
            "get": {
                "tags": [
                    "Task"
                ],
                "summary": "search-type",
                "description": "[search](http://www.hl7.org/fhir/search.html) for Task instances.\n\nThe EPS Tracker\n\n **Required Parameters** \n\n One of the following search paramter combinations is **required** \n\n| Required | Optional | \n|----------|---------| \n| identifier|  | \n| foucs:identifier|  | \n| patient:identifier|  | \n",
                "parameters": [
                    {
                        "name": "identifier",
                        "in": "query",
                        "description": "The short form identifier of the prescription you are searching for.\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | identifier | [token ](https://www.hl7.org/fhir/search.html#token)|  Task.identifier | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "token",
                            "example": "f28682c0-50d2-472a-a8f0-477f7ac1b63f",
                            "items": {
                                "type": "string",
                                "format": "token"
                            }
                        }
                    },
                    {
                        "name": "focus:identifier",
                        "in": "query",
                        "description": "The short form identifier of the prescription you are searching for.\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | focus | [token ](https://www.hl7.org/fhir/search.html#token)|  Task.focus.identifier | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "token",
                            "example": "f28682c0-50d2-472a-a8f0-477f7ac1b63f",
                            "items": {
                                "type": "string",
                                "format": "token"
                            }
                        }
                    },
                    {
                        "name": "patient:identifier",
                        "in": "query",
                        "description": "The NHS Number of the patient whose prescriptions you are searching for.\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | patient | [token ](https://www.hl7.org/fhir/search.html#token)|  Task.for.identifier | \n",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "token",
                            "example": "https://fhir.nhs.uk/Id/nhs-number|9000000009",
                            "items": {
                                "type": "string",
                                "format": "token"
                            }
                        }
                    },
                    {
                        "name": "authored-on",
                        "in": "query",
                        "description": "Date the prescription was authored\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | authored-on | [date/datetime ](https://www.hl7.org/fhir/search.html#date/datetime)|  Task.authoredOn | \n",
                        "style": "form",
                        "explode": true,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "date",
                            "example": "eq2004-09-20",
                            "items": {
                                "type": "string",
                                "format": "date"
                            }
                        }
                    },
                    {
                        "name": "business-status",
                        "in": "query",
                        "description": "The state that a prescription is in.\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | business-status | [token ](https://www.hl7.org/fhir/search.html#token)|  Task.businessStatus | \n\n\n A code from FHIR ValueSet [EPSTaskBusinessPrescriptionStatus](https://simplifier.net/guide/nhsdigital/home)",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "token",
                            "example": "[system]|[code],[code],[system]",
                            "items": {
                                "type": "string",
                                "format": "token"
                            },
                            "enum": [
                                "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status|0002",
                                "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status|0003",
                                "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status|0001",
                                "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status|0006",
                                "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status|0007",
                                "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status|0004",
                                "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status|0005"
                            ]
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Search by task status\n\n | Name | Type |  Expression | \n |--------|--------|--------| \n | status | [token ](https://www.hl7.org/fhir/search.html#token)|  Task.status | \n\n\n A code from FHIR ValueSet [TaskStatus](http://hl7.org/fhir/ValueSet/task-status)",
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "maximum": 1,
                            "minimum": 0,
                            "type": "array",
                            "format": "token",
                            "example": "[system]|[code],[code],[system]",
                            "items": {
                                "type": "string",
                                "format": "token"
                            },
                            "enum": [
                                "received",
                                "accepted",
                                "on-hold",
                                "failed",
                                "ready",
                                "in-progress",
                                "entered-in-error",
                                "draft",
                                "requested",
                                "completed",
                                "rejected",
                                "cancelled"
                            ]
                        }
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Task"
                                },
                                "examples": {
                                    "Patient Task/Prescription search": {
                                        "summary": "Patient Task/Prescription search",
                                        "description": "Request **GET [baseUrl]/Task?patient:identifier=https://fhir.nhs.uk/Id/nhs-number&#124;9912003489",
                                        "value": "{\"resourceType\":\"Bundle\",\"id\":\"3b17d59c-41d6-44d7-81e6-47cc398e9dcc\",\"type\":\"searchset\",\"total\":1,\"link\":[{\"relation\":\"self\",\"url\":\"http://example.org/FHIR/R4/Task?patient.identifier=https://fhir.nhs.uk/Id/nhs-number|9912003489\"}],\"entry\":[{\"fullUrl\":\"Task/bd1ca5c4-ff49-4f2a-9db4-f5dda0112084\",\"resource\":{\"resourceType\":\"Task\",\"id\":\"bd1ca5c4-ff49-4f2a-9db4-f5dda0112084\",\"meta\":{\"lastUpdated\":\"2016-07-11T11:07:22+00:00\"},\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gmp-number\",\"value\":\"G8123456\"},\"display\":\"DR AA BHATIA\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"C81007\"},\"display\":\"VERNON STREET MEDICAL CTR\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-Prescription\",\"extension\":[{\"url\":\"courseOfTherapyType\",\"valueCoding\":{\"system\":\"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\",\"code\":\"acute\",\"display\":\"Acute\"}}]}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"bd1ca5c4-ff49-4f2a-9db4-f5dda0112084\"}],\"status\":\"in-progress\",\"businessStatus\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\"code\":\"0002\",\"display\":\"With Dispenser\"}]},\"intent\":\"order\",\"code\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/CodeSystem/task-code\",\"code\":\"fulfill\",\"display\":\"Fulfill the focal request\"}]},\"focus\":{\"type\":\"Task\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"A3B4D9-Z42475-11E6B+\"}},\"for\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9912003489\"}},\"authoredOn\":\"2016-07-11T11:07:21+00:00\",\"requester\":{\"reference\":\"#requester\"},\"owner\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"FA666\"},\"display\":\"CROYDON PHARMACY\"},\"reasonCode\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"33633005\",\"display\":\"Prescription of drug\"}]},\"input\":[{\"type\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"16076005\",\"display\":\"Prescription\"}]},\"valueReference\":{\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ee86a018-779c-4809-999f-a9d89cdfd30f\"}}}],\"output\":[{\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/ExtensionRepeatDispensingInformation\",\"extension\":[{\"url\":\"dateLastDispensed\",\"valueDateTime\":\"2014-05-07\"}]}],\"type\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"373784005\",\"display\":\"Dispensing medication\"}]},\"valueReference\":{\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"334a3195-1f6c-497a-8efe-d272ca9c4e38\"}}}]},\"search\":{\"mode\":\"match\"}}]}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Task"
                ],
                "summary": "create",
                "description": "[create](http://www.hl7.org/fhir/http.html#create) a new Task instance.\n\nUsed for returns prescriptions to spine. Should be a PUT",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nRequired in all environments except sandbox.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        },
                        "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"
                    },
                    {
                        "name": "NHSD-Session-URID",
                        "in": "header",
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        },
                        "example": "555254240100"
                    },
                    {
                        "name": "X-Request-ID",
                        "in": "header",
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        },
                        "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068"
                    },
                    {
                        "name": "X-Correlation-ID",
                        "in": "header",
                        "description": "An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.",
                        "style": "simple",
                        "schema": {
                            "minimum": 1,
                            "type": "string"
                        },
                        "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/Task"
                            },
                            "examples": {
                                "Return a prescription to spine": {
                                    "summary": "Return a prescription to spine",
                                    "description": "No dispense notifications may exist on spine for this action. Use withdraw dispense notification to remove them from spine.",
                                    "value": "{\"resourceType\":\"Task\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"Ms Lottie Maifeld\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"}}}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ADD2E9DD-DA0A-C266-A4E3-447C68239525\"}],\"groupIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"83C40E-A23856-00123C\"},\"status\":\"rejected\",\"statusReason\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-return-status-reason\",\"code\":\"0002\",\"display\":\"Unable to dispense medication on prescriptions\"}]},\"intent\":\"order\",\"code\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/CodeSystem/task-code\",\"code\":\"fulfill\",\"display\":\"Fulfill the focal request\"}]},\"focus\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"83C40E-A23856-00123C\"}},\"for\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9446368138\"}},\"authoredOn\":\"2016-03-10T22:39:32-04:00\",\"requester\":{\"reference\":\"#requester\"},\"reasonCode\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"33633005\",\"display\":\"Prescription of drug\"}]},\"input\":[{\"type\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"16076005\",\"display\":\"Prescription\"}]},\"valueReference\":{\"type\":\"MedicationRequest\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"1e34ee53-397a-2e70-e97c-67b1bd95014d\"}}}]}"
                                },
                                "Withdraw a dispense notification": {
                                    "summary": "Withdraw a dispense notification",
                                    "description": "Use this endpoint to withdraw the **last** dispense-notification message, for example in the case that a prescription was marked as dispensed erroneously.",
                                    "value": "{\"resourceType\":\"Task\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"Mrs Anna Kanfeld\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"}}}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"5AC84C11-DB8B-44DA-8FCF-8980B3D13596\"}],\"groupIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"88AF6C-C81007-00001C\"},\"status\":\"cancelled\",\"statusReason\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-withdraw-reason\",\"code\":\"DA\",\"display\":\"Dosage Amendments\"}]},\"intent\":\"order\",\"code\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/CodeSystem/task-code\",\"code\":\"abort\",\"display\":\"Mark the focal resource as no longer active\"}]},\"focus\":{\"type\":\"Bundle\",\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"334a3195-1f6c-497a-8efe-d272ca9c4e38\"}},\"for\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9446368138\"}},\"authoredOn\":\"2020-12-21T17:03:20-00:00\",\"requester\":{\"reference\":\"#requester\"},\"owner\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"}},\"reasonCode\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"373784005\",\"display\":\"Dispensing medication\"}]}}"
                                },
                                "Cancel a Prescription (proposed)": {
                                    "summary": "Cancel a Prescription (proposed)",
                                    "description": "This is a proposed replacement for the prescription-order-update message.",
                                    "value": "{\"resourceType\":\"Task\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/sds-user-id\",\"value\":\"2238910010\"},\"display\":\"Dr Liz Scott\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RBA\"},\"display\":\"The Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"extension\":[{\"url\":\"https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent\",\"valueReference\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"223891001086\"},\"display\":\"Dr Liz Scott\"}}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"ADD2E9DD-DA0A-C266-A4E3-447C68239525\"}],\"groupIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"3C2366-B81001-0A409U\"},\"partOf\":[{\"type\":\"Task\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"3C2366-B81001-0A409U\"}}],\"status\":\"cancelled\",\"statusReason\":{\"coding\":[{\"system\":\"https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason\",\"code\":\"0001\",\"display\":\"Prescribing Error\"}]},\"intent\":\"order\",\"code\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/CodeSystem/task-code\",\"code\":\"abort\",\"display\":\"Mark the focal resource as no longer active\"}]},\"focus\":{\"type\":\"MedicationRequest\",\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-item-number\",\"value\":\"ee86a018-779c-4809-999f-a9d89cdfd30f\"}},\"for\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9453740519\"},\"display\":\"MISS ETTA CORY\"},\"authoredOn\":\"2019-12-30T12:00:00+00:00\",\"requester\":{\"reference\":\"#requester\"},\"reasonCode\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"33633005\",\"display\":\"Prescription of drug\"}]}}"
                                },
                                "Accept a Prescription (not to be implemented in NextGen)": {
                                    "summary": "Accept a Prescription (not to be implemented in NextGen)",
                                    "description": "This is an example of $release interaction repackaged as a RESTful interfaction.",
                                    "value": "{\"resourceType\":\"Task\",\"contained\":[{\"resourceType\":\"PractitionerRole\",\"id\":\"requester\",\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gphc-number\",\"value\":\"7654321\"},\"display\":\"The pharmacist\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"},\"display\":\"The Pharmacy\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"01234567890\",\"use\":\"work\"}]}],\"identifier\":[{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"702cc4e9-81fc-470e-8ae1-43120ae5c16d\"}],\"groupIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"82D996-C81010-11DB12\"},\"status\":\"accepted\",\"intent\":\"order\",\"code\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/CodeSystem/task-code\",\"code\":\"fulfill\",\"display\":\"Fulfill the focal request\"}]},\"focus\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"82D996-C81010-11DB12\"}},\"for\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/nhs-number\",\"value\":\"9446368138\"}},\"authoredOn\":\"2016-03-10T22:39:32-04:00\",\"requester\":{\"reference\":\"#requester\"},\"owner\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"VNE51\"}},\"reasonCode\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"33633005\",\"display\":\"Prescription of drug\"}]}}"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"information\",\n    \"code\": \"informational\"\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/Task/$release": {
            "post": {
                "tags": [
                    "Task"
                ],
                "description": "Use this endpoint to download prescriptions from Spine before it is dispensed. You can download a single prescription using the prescription's ID, or download up to 25 prescriptions (per request) nominated to a dispenser using the dispenser's ODS code.\n\n ## Parameters (In) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |group-identifier|0..1|Identifier||The short-form-prescription-id (token) of the prescription. Used for releasing Patient prescriptions|\n |owner|1..1|Identifier||The ODS code of the pharmacy. Used for releasing Nominated Pharmacy prescriptions|\n |status|1..1|code||Status from ValueSet http://hl7.org/fhir/valueset-task-status.html Use: accepted|\n |requester|1..1|PractitionerRole||The professional submitting the release request|\n\n ## Parameters (Out) \n\n |Name | Cardinality | Type | Profile | Documentation |\n |-------|-----------|-------------|------------|------------|\n |return|1..1|Bundle||A FHIR Bundle (type=searchset) which contains prescription-order FHIR Messages which match the search parameters. An empty search will still return a FHIR Bundle but with no entries.|\n\n ## Comment \n\nOnly one of the parameters group-identifier and owner MUST be provided. This operation performs both a query on the message queue and updates the status of returned prescriptions.",
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "schema": {
                                "$ref": "#/components/schemas/Parameters"
                            },
                            "example": "{\"resourceType\":\"Parameters\",\"id\":\"45a3cbe4-7688-418b-91d3-8f6d5ca94905\",\"parameter\":[{\"name\":\"owner\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RHM\"}},{\"name\":\"group-identifier\",\"valueIdentifier\":{\"system\":\"https://fhir.nhs.uk/Id/prescription-order-number\",\"value\":\"82D996-C81010-11DB12\"}},{\"name\":\"status\",\"valueCode\":\"accepted\"},{\"name\":\"requester\",\"resource\":{\"resourceType\":\"PractitionerRole\",\"id\":\"16708936-6397-4e03-b84f-4aaa790633e0\",\"identifier\":[{\"system\":\"https://fhir.nhs.uk/Id/sds-role-profile-id\",\"value\":\"555086415105\"}],\"practitioner\":{\"identifier\":{\"system\":\"https://fhir.hl7.org.uk/Id/gmc-number\",\"value\":\"C1231234\"},\"display\":\"Jackie Clark\"},\"organization\":{\"identifier\":{\"system\":\"https://fhir.nhs.uk/Id/ods-organization-code\",\"value\":\"RHM\"},\"display\":\"UNIVERSITY HOSPITAL SOUTHAMPTON NHS FOUNDATION TRUST\"},\"telecom\":[{\"system\":\"phone\",\"value\":\"02380798431\",\"use\":\"work\"}]}}]}"
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Parameters"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\"resourceType\":\"Bundle\",\"id\":\"E9DDBBC4-DA9A-C223-A2E3-909534332C69\",\"meta\":{\"lastUpdated\":\"2004-09-20T10:30:00.000+00:00\"},\"identifier\":{\"system\":\"https://tools.ietf.org/html/rfc4122\",\"value\":\"BBC4E9DD-DA9A-C223-A2E3-332C69909534\"},\"type\":\"searchset\",\"total\":0}"
                                    }
                                }
                            }
                        }
                    },
                    "4xx": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"value\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"INVALID_VALUE\"\n      } ]\n    },\n    \"diagnostics\": \"(invalid_request) firstName is missing\",\n    \"expression\": [ \"Patient.name.given\" ]\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "content": {
                            "application/fhir+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OperationOutcome"
                                },
                                "examples": {
                                    "example": {
                                        "value": "{\n  \"resourceType\": \"OperationOutcome\",\n  \"meta\": {\n    \"lastUpdated\": \"2021-04-14T11:35:00+00:00\"\n  },\n  \"issue\": [ {\n    \"severity\": \"error\",\n    \"code\": \"forbidden\",\n    \"details\": {\n      \"coding\": [ {\n        \"system\": \"https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode\",\n        \"code\": \"ACCESS_DENIED\"\n      } ]\n    }\n  } ]\n}"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "CapabilityStatement": {
                "type": "object",
                "description": "HL7 FHIR Schema [CapabilityStatement](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/CapabilityStatement).. HL7 FHIR Documentation [CapabilityStatement](\"https://www.hl7.org/fhir/CapabilityStatement.html\")",
                "externalDocs": {
                    "description": "CapabilityStatement",
                    "url": "https://www.hl7.org/fhir/CapabilityStatement.html"
                }
            },
            "OperationOutcome": {
                "type": "object",
                "description": "HL7 FHIR Schema [OperationOutcome](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/OperationOutcome).. HL7 FHIR Documentation [OperationOutcome](\"https://www.hl7.org/fhir/OperationOutcome.html\")",
                "externalDocs": {
                    "description": "OperationOutcome",
                    "url": "https://www.hl7.org/fhir/OperationOutcome.html"
                }
            },
            "Bundle": {
                "type": "object",
                "properties": {
                    "identifier": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "system": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Bundle.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                            },
                            "value": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Bundle.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Bundle.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n A persistent identifier for the bundle that won't change as a bundle is copied from server to server.\n\n #### Comment\n\n Persistent identity generally only matters for batches of type Document, Message, and Collection. It would not normally be populated for search and history results and servers ignore Bundle.identifier when processing batches and transactions. For Documents  the .identifier SHALL be populated such that the .identifier is globally unique."
                    },
                    "type": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Bundle.type|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|message|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[BundleType](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/bundle-type|4.0.1) (Required)Indicates the purpose of a bundle - how it is intended to be used. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n Indicates the purpose of this bundle - how it is intended to be used.\n\n #### Comment\n\n It's possible to use a bundle for other purposes (e.g. a document can be accepted as a transaction). This is primarily defined so that there can be specific rules for some of the bundle types."
                    },
                    "timestamp": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Bundle.timestamp|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[instant](https://www.hl7.org/fhir/datatypes.html#instant)|\n\n<br/>\n\n #### Definition\n\n The date/time that the bundle was assembled - i.e. when the resources were placed in the bundle.\n\n #### Comment\n\n For many bundles, the timestamp is equal to .meta.lastUpdated, because they are not stored (e.g. search results). When a bundle is placed in a persistent store, .meta.lastUpdated will be usually be changed by the server. When the bundle is a message, a middleware agent altering the message (even if not stored) SHOULD update .meta.lastUpdated. .timestamp is used to track the original time of the Bundle, and SHOULD be populated.    Usage:  * document : the date the document was created. Note: the composition may predate the document, or be associated with multiple documents. The date of the composition - the authoring time - may be earlier than the document assembly time * message : the date that the content of the message was assembled. This date is not changed by middleware engines unless they add additional data that changes the meaning of the time of the message * history : the date that the history was assembled. This time would be used as the _since time to ask for subsequent updates * searchset : the time that the search set was assembled. Note that different pages MAY have different timestamps but need not. Having different timestamps does not imply that subsequent pages will represent or include changes made since the initial query * transaction | transaction-response | batch | batch-response | collection : no particular assigned meaning  The timestamp value should be greater than the lastUpdated and other timestamps in the resources in the bundle, and it should be equal or earlier than the .meta.lastUpdated on the Bundle itself."
                    },
                    "entry": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Bundle.entry|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n An entry in a bundle resource - will either contain a resource or information about a resource (transactions and history only).\n\n #### Constraints \n\n- **bdl-5** (*ERROR*) must be a resource unless there's a request or response\n- **bdl-8** (*ERROR*) fullUrl cannot be a version specific reference",
                        "items": {
                            "type": "object",
                            "properties": {
                                "fullUrl": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Bundle.entry.fullUrl|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The Absolute URL for the resource.  The fullUrl SHALL NOT disagree with the id in the resource - i.e. if the fullUrl is not a urn:uuid, the URL shall be version-independent URL consistent with the Resource.id. The fullUrl is a version independent reference to the resource. The fullUrl element SHALL have a value except that:  * fullUrl can be empty on a POST (although it does not need to when specifying a temporary id for reference in the bundle) * Results from operations might involve resources that are not identified.\n\n #### Comment\n\n fullUrl might not be [unique in the context of a resource](http://hl7.org/fhir/R4/bundle.html#bundle-unique). Note that since [FHIR resources do not need to be served through the FHIR API](http://hl7.org/fhir/R4/references.html), the fullURL might be a URN or an absolute URL that does not end with the logical id of the resource (Resource.id). However, but if the fullUrl does look like a RESTful server URL (e.g. meets the [regex](http://hl7.org/fhir/R4/references.html#regex), then the 'id' portion of the fullUrl SHALL end with the Resource.id.  Note that the fullUrl is not the same as the canonical URL - it's an absolute url for an endpoint serving the resource (these will happen to have the same value on the canonical server for the resource with the canonical URL)."
                                }
                            }
                        }
                    },
                    "entry:messageHeader": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Bundle.entry:messageHeader|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n An entry in a bundle resource - will either contain a resource or information about a resource (transactions and history only).\n\n #### Constraints \n\n- **bdl-5** (*ERROR*) must be a resource unless there's a request or response\n- **bdl-8** (*ERROR*) fullUrl cannot be a version specific reference",
                        "items": {
                            "type": "object",
                            "properties": {
                                "resource": {
                                    "minimum": 0,
                                    "type": "object",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Bundle.entry:messageHeader.resource|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Resource](https://www.hl7.org/fhir/datatypes.html#Resource)([NHSDigitalMessageHeader](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MessageHeader))|\n\n<br/>\n\n #### Definition\n\n The header for a FHIR Message exchange that is either requesting or responding to an action. The reference(s) that are the subject of the action as well as other information related to the action are typically transmitted in a bundle in which the MessageHeader resource instance is the first resource in the bundle.\r\n\r\nMessaging middleware systems are expected to use this `MessageHeader` resource to route, deliver and handle messages correctly. \r\n\r\nThis profile is not tied to any specific transport/API requirement or clinical requirement. Intermediaries are not expected to perform detailed routing on clinical content.\r\nSome clinical information will be required for routing purposes and this will be held within `eventCoding` and `reason` sections as discussed in the Message Event section below. \r\nIn circumstances where more detailed information is required for routing this **MUST** be carried in the relevant FHIR Resource in the payload only. For example, document types should be recorded in FHIR `DocumentReference.type` and health service/specialty type can be recorded in FHIR `Encounter.serviceType` or ` DocumentReference.context.practiceSetting`.\r\n\r\n\r\nSystems involved in NHSDigital/UKCore messaging are expected to support this profile only, extensions or derived profiles are permitted but they may only have limited (internal) scope and will not be supported outside of this scope (e.g. externally). \r\nThis resource **SHOULD NOT** be profiled to further define the contents of the resources and [FHIR MessageDefinition](https://www.hl7.org/fhir/messagedefinition.html) **MUST** be used instead.\n\n #### Comment\n\n <a name=\"identifiers\"></a>\r\n### identifiers and message timings<a href=\"#identifiers\" title=\"link to here\" class=\"self-link\"><i class=\"bi-link\"></i></a>\r\n\r\nFHIR messages have two identifiers: the messageIdentifier of the Message (`Bundle.identifier`) and a messageId (`Bundle.id`) which is used in each transport channel . The messageId should be unique within a each message channel/stream. Whenever a message is resent, the messageIdentifier of the Bundle remains the same, but the messageId may change. The response message has its own unique messageIdentifier, the messageIdentifier of the request message can be referenced in the MessageHeader.response.identifier element.\r\n\r\nThe `Bundle.identifier`, the messageIdentifier, **MUST** have a UUID value.\r\n\r\nSystems may chose to map *X-Request-ID* header to the `Bundle.id`, messageId. If both are supplied to a `$process-messge` endpoint it is recommended they hold the same values.\r\n\r\nMessageHeader can hold previous and extra messageId's in the {{link:https://fhir.nhs.uk/StructureDefinition/Extension-MessageHeader-messageId}}\r\n\r\n#### Local Part/Addressing (sender and/or destination.receiver)\r\n\r\nWhen exchanging messages between organisations, local references **SHOULD NOT** be used for `sender` and `destination.receiver` references. Local references can make use of the Extension {{link:https://fhir.nhs.uk/StructureDefinition/Extension-MessageHeader-LocalPart}}. Messages between Organisations should be directed to the Organisation. The receiving organisation will take responsibility for delivering to the local address. Sending organisations are not expected to be able to deliver to local entities in another organisation/domain/facility. \r\n\r\nThis concept is similar to email addresses `local-part@domain` and also HL7 version 2 combination of `Sending/Receiving Application | Sennding/Receiving Facility` in the MSH segment.\r\n\r\nIn the example below, the destination is a clinic (A99968) which part of NHS Trust (RBA). Note also the destination endpoint is for the NHS Trust, who will route the message as required. \r\n\r\n```json\r\n\"destination\": [\r\n    {\r\n        \"endpoint\": \"urn:nhs-uk:addressing:ods:RBA\",\r\n        \"receiver\": {\r\n          \"extension\": [\r\n              {\r\n                  \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-MessageHeader-LocalPart\",\r\n                  \"valueReference\": {\r\n                        \"identifier\": {\r\n                        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                        \"value\": \"A99968\"\r\n                    }\r\n                }\r\n\r\n              }\r\n          ],\r\n            \"identifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                \"value\": \"RBA\"\r\n            },\r\n            \"display\": \"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"\r\n        }\r\n    }\r\n],\r\n```\r\n\r\n\r\n\r\n#### example - Prescription, Pharmacy known\r\n\r\n{{render:nominatedPharmacy}}\r\n\r\nIn the example below, the prescriber Taunton and Somerset Foundation Trust (RBA), is sending a message to The Simple Pharmacy (VNE51). The `destination.receiver` and `sender` are references to these organisations.\r\n\r\nThis message is to be sent via the Electronic Prescription Service, the http address of EPS is held in `destination.endpoint`. Replies to this message can only be received by MESH and the `source.endpoint` is the MESH address of the sending organisation.\r\n\r\n```json\r\n\"destination\": [\r\n    {\r\n        \"endpoint\": \"https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message\",\r\n        \"receiver\": {\r\n            \"identifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                \"value\": \"VNE51\"\r\n            },\r\n            \"display\": \"The Simple Pharmacy\"\r\n        }\r\n    }\r\n],\r\n\"sender\": {\r\n    \"identifier\": {\r\n        \"extension\": [\r\n            {\r\n                \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-MessageHeader-LocalPart\",\r\n                \"valueReference\": {\r\n                        \"identifier\": {\r\n                        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                        \"value\": \"A99968\"\r\n                    }\r\n                }\r\n            }\r\n        ],\r\n        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n        \"value\": \"RBA\"\r\n    },\r\n    \"display\": \"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"\r\n},\r\n\"source\": {\r\n    \"endpoint\": \"urn:nhs-uk:addressing:ods:RBA\"\r\n}\r\n```\r\n\r\nEPS will now send this message to the pharmacy. This message is collected by the pharmacy using MESH and so the `destination.endpoint` is now the MESH address of the pharmacy. Replies to this message are sent to EPS and so the `source.endpoint` is now the http address of the EPS **$process-message** endpoint.\r\n\r\n```json\r\n\"destination\": [\r\n    {\r\n        \"endpoint\": \"urn:nhs-uk:addressing:ods:VNE51\",\r\n        \"receiver\": {\r\n            \"identifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                \"value\": \"VNE51\"\r\n            },\r\n            \"display\": \"The Simple Pharmacy\"\r\n        }\r\n    }\r\n],\r\n\"sender\": {\r\n    \"extension\": [\r\n            {\r\n                \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-MessageHeader-LocalPart\",\r\n                \"valueReference\": {\r\n                        \"identifier\": {\r\n                        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                        \"value\": \"A99968\"\r\n                    }\r\n                }\r\n\r\n            }\r\n        ],\r\n    \"identifier\": {\r\n        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n        \"value\": \"RBA\"\r\n    },\r\n    \"display\": \"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"\r\n},\r\n\"source\": {\r\n    \"endpoint\": \"https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message\"\r\n}\r\n```\r\n\r\n#### example - Prescription, Pharmacy not known\r\n\r\n{{render:noNominatedPharmacy}}\r\n\r\nIn this example the destination is not known and the message is sent to NHS Digital (X26). \r\n\r\n```json\r\n\"destination\": [\r\n    {\r\n        \"endpoint\": \"https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message\",\r\n        \"receiver\": {\r\n    \r\n{{render:messageIDs}}\r\n\r\n\r\n\r\nIn addition, a FHIR Message Bundle has two important timestamps:\r\n\r\nThe time of sending the message is captured in the timestamp element\r\nThe last time the message was updated (e.g. by storing or modification) is captured in the meta.lastUpdated element.\r\n\r\n```json\r\n{\r\n    \"resourceType\": \"Bundle\",\r\n    \"id\": \"884cfa4f-7a56-4be5-9592-783ef4f3992a\",\r\n    \"meta\": {\r\n        \"lastUpdated\": \"2020-11-02T01:43:30+00:00\"\r\n      },\r\n    \"identifier\": {\r\n        \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n        \"value\": \"ad945a29-85f8-439a-b590-6789719adc16\"\r\n    },\r\n    \"type\": \"message\",\r\n    \"timestamp\": \"2020-11-02T01:43:30+00:00\",\r\n    \"entry\": [\r\n        {\r\n            \"fullUrl\": \"urn:uuid:311316d3-1de0-4f7c-8109-c950ead1c717\",\r\n            \"resource\": {\r\n                \"resourceType\": \"MessageHeader\",\r\n                \"extension\": [\r\n                    {\r\n                        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-Spine-MessageHeader-messageId\",\r\n                        \"valueIdentifier\": {\r\n                            \"system\": \"https://fhir.nhs.uk/Id/prescription-order-number\",\r\n                            \"value\": \"DC2C66-A1B2C3-23407B\"\r\n                        }\r\n                    }\r\n                ]\r\n```\r\n\r\n\r\n### From (source and sender) and To (destination)\r\n\r\n\r\nThe *From* is contained in both the `sender` and `source` elements and the *To* is contained in the `destination` array. One source, sender and at least one destination **MUST** be present. \r\n\r\nMessages may be sent over multiple transmission legs (i.e. the first leg uses http and the second MESH). The contents of elements **SHOULD** reflect the current leg only.\r\n\r\n- destination.endpoint\r\n- source.endpoint\r\n- MessageHeader.extension(messageId)\r\n\r\n Endpoints **MUST** point to valid endpoint uri's on each leg of the messages journey, they may not refer to inaccessible endpoints on other legs. See also the destination section below.\n\n #### Constraints \n\n- **nhsd-11** (*WARNING*) replacementOf extension is required for update messages"
                                }
                            }
                        }
                    }
                },
                "description": "HL7 FHIR Schema [Bundle](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/Bundle).. HL7 FHIR Documentation [Bundle](\"https://www.hl7.org/fhir/Bundle.html\")",
                "externalDocs": {
                    "description": "Bundle",
                    "url": "https://www.hl7.org/fhir/Bundle.html"
                }
            },
            "MedicationRequest": {
                "type": "object",
                "properties": {
                    "extension": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:medicationRepeatInformation": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:medicationRepeatInformation|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionUKCoreMedicationRepeatInformation](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation))|\n\n<br/>\n\n #### Definition\n\n This extension <b>MUST</b> be present for  `continuous` and `continuous-repeat-dispensing` therapy types. \r\n\r\n| Field | Description |\r\n|---|---|\r\n| numberOfRepeatPrescriptionsIssued |  Running total of number of issues made against a repeat authorisation.   |\r\n| numberOfRepeatPrescriptionsAllowed | Retired. See <a href=\"#numberOfRepeatsAllowed\">numberOfRepeatsAllowed</a> | \r\n| authorisationExpiryDate | The date a repeat prescription authorisation will expire. |\r\n\r\n```json\r\n\"extension\": [\r\n  {\r\n       \"url\": \"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation\",\r\n       \"extension\": [\r\n           {\r\n               \"url\": \"numberOfRepeatPrescriptionsAllowed\",\r\n               \"valueUnsignedInt\": 4\r\n           },\r\n           {\r\n               \"url\": \"numberOfRepeatPrescriptionsIssued\",\r\n               \"valueUnsignedInt\": 1\r\n           },\r\n           {\r\n               \"url\": \"authorisationExpiryDate\",\r\n               \"valueDateTime\": \"2020-08-07\"\r\n           }\r\n       ]\r\n   }\r\n]\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:responsiblePractitioner": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:responsiblePractitioner|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionDMResponsiblePractitioner](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner))|\n\n<br/>\n\n #### Definition\n\n Must only be populated if the  `requester` can not be responsible for the prescription, i.e. they would not be named as the prescriber on the FP10.\r\n\r\n```json\r\n\"extension\": [\r\n        \r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner\",\r\n        \"valueReference\": {\r\n            \"reference\": \"urn:uuid:a5acefc1-f8ca-4989-a5ac-34ae36741466\",\r\n            \"display\": \"DR SAZ RAZ\"\r\n        }\r\n    }\r\n],\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:prescriptionEndorsement": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:prescriptionEndorsement|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionPrescriptionEndorsement](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement))|\n\n<br/>\n\n #### Definition\n\n The codes are contained in the valueset\r\n\r\n| Code | Display |\r\n|---|---|\r\n| CC |  Contraceptive |\r\n| FS |  Sexual Health| \r\n| ACBS |  Advisory Committee on Borderline Substances. Part XV Drug Tariff | \r\n| SLS |  Selected List Scheme. Part XVIIIB Drug Tariff | \r\n| AF |  Food replacement/food supplement products|\r\n\r\n```json\r\n\"resourceType\": \"MedicationRequest\",\r\n    \"extension\":  [\r\n      {\r\n          \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement\",\r\n          \"valueCodeableConcept\": {\r\n              \"coding\":  [\r\n                {\r\n                    \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement\",\r\n                    \"code\": \"SLS\",\r\n                    \"display\": \"Selected List Scheme\"\r\n                }\r\n            ]\r\n        }\r\n    }\r\n  ],\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:prescriptionTaskStatusReason": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:prescriptionTaskStatusReason|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionDMPrescriptionStatusHistory](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionStatusHistory))|\n\n<br/>\n\n #### Definition\n\n The status history within EPS is primarily a technical Status and the statusReason will reflect current clinical status of the order.",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:NHSBSAprescriptionType": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:NHSBSAprescriptionType|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([Extension NHS BSA prescriptionType](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType))|\n\n<br/>\n\n #### Definition\n\n The vocabulary for the ‘PrescriptionType’ vocabulary is defined within the NHSBSA Overprint Specification. \r\n\r\nThe System must populate the ‘PrescriptionType’ attribute for the appropriate combination of prescriber and care setting. Retired codes within this vocabulary must not be used\r\n\r\n```json\r\n\"extension\":  [\r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType\",\r\n        \"valueCoding\": {\r\n            \"system\": \"https://fhir.nhs.uk/CodeSystem/prescription-type\",\r\n            \"code\": \"1201\",\r\n            \"display\": \"Outpatient Homecare Prescriber - Medical Prescriber\"\r\n        }\r\n    }\r\n    ]\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:controlledDrug": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:controlledDrug|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionDMControlledDrug](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug))|\n\n<br/>\n\n #### Definition\n\n The table below summarises the EPS requirements for the CD schedules. The terms “Hand signature” and “Electronic signature” expressed in the table are shortened references to the legal definition of signature requirements within government legislation.\r\n\r\n| Sch. | Code | Signing Legal Requirement | EPS Scope | Expiry Date | Quantity Representation | Repeat Dispensing Allowed | RD 1st Issue Expiry | RD Subsequent Expiry |\r\n|---|---|---|---|---|---|---|---|---|\r\n| 1 | CD1 | Invalid to prescribe | Out of scope | N/A | N/A | N/A | N/A ||\r\n| 2 | CD2 | Hand signature or electronic signature | In scope | 28 days | Words and Figures | No | N/A | N/A ||\r\n| 3 | CD3 | Hand signature or electronic signature | In scope | 28 days | Words and Figures | No | N/A | N/A ||\r\n| 4 | CD4-1 CD4-2 | Hand signature or electronic signature | In scope | 28 days | Figures | Yes | 28 days | Up to 12 months |\r\n| 5 | CD5 | Hand signature or electronic signature | In scope | 6 Months | Figures | Yes | 6 months | Up to 12 months |\r\n\r\nIt is a legal requirement to state the prescribed quantity as words in the `quantityWords`\r\n\r\n```json\r\n{\r\n    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug\",\r\n    \"extension\": [\r\n        {\r\n            \"url\": \"quantityWords\",\r\n            \"valueString\": \"twenty eight\"\r\n        },\r\n        {\r\n            \"url\": \"schedule\",\r\n            \"valueCoding\": {\r\n                \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug\",\r\n                \"code\": \"CD2\",\r\n                \"display\": \"Schedule 2\"\r\n            }\r\n        }\r\n    ]\r\n}\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:dispensingInformation": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.extension:dispensingInformation|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionEPSDispensingInformation](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation))|\n\n<br/>\n\n #### Definition\n\n This extension is used in `continuous-repeat-dispensing` prescriptions sent by EPS to dispensing systems to convey information on prior dispensed medications.\r\n\r\n\r\n```json\r\n\"extension\":  [\r\n                {\r\n                    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation\",\r\n                    \"extension\":  [\r\n                        {\r\n                            \"url\": \"dispenseStatus\",\r\n                            \"valueCoding\": {\r\n                                \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\r\n                                \"code\": \"0001\",\r\n                                \"display\": \"Item fully dispensed\"\r\n                            }\r\n                        },\r\n                        {\r\n                            \"url\": \"dateLastDispensed\",\r\n                            \"valueDateTime\": \"2018-04-22T09:57:03+00:00\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "identifier": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n UUID example (for illustration purposes only);\r\n\r\na54219b8-f741-4c47-b662-e4f8dfa49ab6\r\n\r\n```json\r\n \"identifier\":  [\r\n    {\r\n        \"system\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\",\r\n        \"value\": \"a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\r\n    }\r\n]\r\n```\n\n #### Comment\n\n This is a business identifier, not a resource identifier.",
                        "items": {
                            "type": "object"
                        }
                    },
                    "identifier:prescriptionOrderItem": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.identifier:prescriptionOrderItem|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n Unique Id of the MedicationRequest within EPS\n\n #### Comment\n\n This is a business identifier, not a resource identifier.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "system": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.identifier:prescriptionOrderItem.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/Id/prescription-order-item-number|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                },
                                "value": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.identifier:prescriptionOrderItem.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                }
                            }
                        }
                    },
                    "status": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.status|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[medicationrequest Status](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/medicationrequest-status|4.0.1) (Required)A coded concept specifying the state of the prescribing event. Describes the lifecycle of the prescription. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A code specifying the current state of the order. Generally, this will be active or completed state. \r\n\r\n| code | Definition |\r\n|--|--|\r\n| active | The prescription is 'actionable', but not all actions that are implied by it have occurred yet. It has not been dispensed or filled. |\r\n| cancelled | The prescription is to be cancelled or it has been cancelled been withdrawn before any administrations have occurred. Prescriptions in the process of being cancelled will be regarded as active until all actions are complete. |\r\n| stopped | Actions implied by the prescription are to be permanently halted, before all of the administrations occurred. This should not be used if the original order was entered in error|\r\n|completed|All actions that are implied by the prescription have occurred.|\n\n #### Comment\n\n This element is labeled as a modifier because the status contains codes that mark the resource as not currently valid."
                    },
                    "statusReason": {
                        "minimum": 0,
                        "type": "object",
                        "properties": {
                            "coding": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.statusReason.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.statusReason.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                        },
                                        "code": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.statusReason.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                        },
                                        "display": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.statusReason.coding.display|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A representation of the meaning of the code in the system, following the rules of the system.\n\n #### Requirements\n\n Need to be able to carry a human-readable meaning of the code for readers that do not know  the system."
                                        }
                                    }
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.statusReason|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationRequestStatusReason](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-medicationrequest-status-reason) (Required)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n This is generally only used for exception statuses such as `suspended` or `cancelled`. It is the clinical status reason for the cancellation.\r\n\r\nThis is mandatory for 'prescription-order-update' messages.\r\n\r\n```json\r\n\"statusReason\": {\r\n    \"coding\": [\r\n        {\r\n            \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason\",\r\n            \"code\": \"0001\",\r\n            \"display\": \"Prescribing Error\"\r\n        }\r\n    ]\r\n},\r\n```\n\n #### Comment\n\n This is generally only used for \"exception\" statuses such as \"suspended\" or \"cancelled\". The reason why the MedicationRequest was created at all is captured in reasonCode, not here."
                    },
                    "intent": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.intent|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[medicationRequest Intent](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/medicationrequest-intent|4.0.1) (Required)The kind of medication order. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n Whether the request is a proposal, plan, or an original order.\n\n #### Comment\n\n Indicates the type of order. A code specifying the current state of the order. Generally, this will be active or completed state. \r\n\r\n| code | display | courseOfTherapyType | Definition |\r\n|---|---|\r\n| order | Order | acute | The request represents a request/demand and authorization for action |\r\n| original-order | Original Order | continuous-repeat-dispensing instalment-dispensing | The request represents the original authorization for the medication request. |\r\n| reflex-order |Reflex Order | continuous-repeat-dispensing | The request represents an automatically generated supplemental authorization (by EPS) for action based on a parent authorization together with initial results of the action taken against that parent authorization. |\r\n| instance-order | Instance Order | instalment-dispensing | The request represents an instance for the particular order. |"
                    },
                    "category": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.category|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[UKCoreMedicationRequestCategory](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.hl7.org.uk/ValueSet/UKCore-MedicationRequestCategory) (Extensible)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n In primary care the code of `community` should be used. In secondary care the category will often match the Episode/Spell type.\r\n\r\n| Code | System | Display |\r\n|---|---|\r\n| leave | https://fhir.nhs.uk/CodeSystem/medicationrequest-category | Leave |\r\n|outpatient | http://terminology.hl7.org/CodeSystem/medicationrequest-category |Outpatient |\r\n| discharge | http://terminology.hl7.org/CodeSystem/medicationrequest-category | Discharge |\r\n| community |http://terminology.hl7.org/CodeSystem/medicationrequest-category | Community |\r\n| inpatient  |http://terminology.hl7.org/CodeSystem/medicationrequest-category | Inpatient |\r\n\r\n```json\r\n\"category\": [\r\n    {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://terminology.hl7.org/CodeSystem/medicationrequest-category\",\r\n                \"code\": \"outpatient\",\r\n                \"display\": \"Outpatient\"\r\n            }\r\n        ]\r\n    }\r\n],\r\n```\n\n #### Comment\n\n The category can be used to include where the medication is expected to be consumed or other types of requests.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "coding": {
                                    "minimum": 1,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.category.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                    "items": {
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "medication[x]": {
                        "minimum": 1,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.medication[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[UKCoreMedicationCode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.hl7.org.uk/ValueSet/UKCore-MedicationCode) (Extensible)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)([NHSDigitalMedicationRequestCodeableConcept](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-CodeableConcept))[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalMedicationRequestMedication](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest-Medication))|\n\n<br/>\n\n #### Definition\n\n Only Virtual Medical Products (VMP) and Actual Medical Products (AMP) can be used.\n\n #### Comment\n\n Any code from the SnomedCT UK DMD subset for VMP, AMP and VTM concepts\r\n\r\n<table>\r\n<thead>\r\n<th data-no-sort width=\"25%\">\r\ndm+d Category\r\n</th>\r\n<th data-no-sort width=\"50%\">\r\ndm+d Description\r\n</th>\r\n<th data-no-sort width=\"25%\">\r\nUK SNOMED Members Of\r\n</th>\r\n\r\n</thead>\r\n<tr>\r\n<td>\r\nVMP\r\n</td>\r\n<td>\r\nVirtual Medical Product\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000561000001109\" target=\"_blank\">999000561000001109</a>\r\n</td>\r\n</tr>\r\n<tr>\r\n<td>\r\nAMP\r\n</td>\r\n<td>\r\nActual Medical Product\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000541000001108\" target=\"_blank\">999000541000001108</a>\r\n</td>\r\n</tr>\r\n</table>"
                    },
                    "subject": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "reference": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.subject.reference|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.\n\n #### Comment\n\n Using absolute URLs provides a stable scalable approach suitable for a cloud/web context, while using relative/logical references provides a flexible approach suitable for use when trading across closed eco-system boundaries.   Absolute URLs do not need to point to a FHIR RESTful server, though this is the preferred approach. If the URL conforms to the structure \"/[type]/[id]\" then it should be assumed that the reference is to a FHIR RESTful server."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.subject|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)|\n\n<br/>\n\n #### Definition\n\n A resource reference to a Patient with a traced NHS Number is required, an untraced NHS Number **MUST NOT** be used.\r\n\r\n```json\r\n \"subject\": {\r\n                    \"type\": \"Patient\",\r\n                    \"reference\": \"urn:uuid:bde9eba6-079f-4210-8108-6ea8db58de8c\",\r\n                    \"display\": \"Miss Bernie Kanfeld\"\r\n                }\r\n```\n\n #### Comment\n\n The subject on a medication request is mandatory.  For the secondary use case where the actual subject is not provided, there still must be an anonymized subject specified.\n\n #### Constraints \n\n- **patient-nhs** (*ERROR*) Supplied NHS Number is outside the English and Welsh NHS Number range or length of the number is wrong."
                    },
                    "authoredOn": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.authoredOn|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)|\n\n<br/>\n\n #### Definition\n\n The date (and perhaps time) when the prescription was initially written or authored on."
                    },
                    "requester": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "reference": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.requester.reference|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.\n\n #### Comment\n\n Using absolute URLs provides a stable scalable approach suitable for a cloud/web context, while using relative/logical references provides a flexible approach suitable for use when trading across closed eco-system boundaries.   Absolute URLs do not need to point to a FHIR RESTful server, though this is the preferred approach. If the URL conforms to the structure \"/[type]/[id]\" then it should be assumed that the reference is to a FHIR RESTful server."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.requester|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalPractitionerRoleFull](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole-Full))|\n\n<br/>\n\n #### Definition\n\n The requester must contain a resource reference to the Practitioner who has electronically signed the prescription.\r\n\r\nIf the `requester` can not take responsibility for the prescription, i.e. they would not be the prescriber on the FP10. Then the **extension responsiblePractitioner** must be populated.\r\n\r\n```json\r\n\"requester\": {\r\n    \"reference\": \"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\"\r\n},\r\n```\n\n #### Constraints \n\n- **eps-3** (*ERROR*) requester - An identifier reference plus a display name or resource reference must be provided"
                    },
                    "basedOn": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.basedOn|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([DomainResource](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/DomainResource) [MedicationRequest](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/MedicationRequest))|\n\n<br/>\n\n #### Definition\n\n This MUST be populated for `continuous-repeat-dispensing` issues where intent=`reflex-order`, i.e. the issues sent from EPS to pharmacists.\r\nIt is recommended this is populated for `continuous` issues and this should reference the original order.\r\n\r\nExample for a `reflex-order` (continuous-repeat-dispensing): \r\n\r\n```json\r\n \"basedOn\": [\r\n        {\r\n            \"extension\": [\r\n                {\r\n                    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation\",\r\n                    \"extension\": [\r\n                        {\r\n                            \"url\": \"numberOfRepeatsAllowed\",\r\n                            \"valueUnsignedInt\": 6\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"identifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\",\r\n                \"value\": \"A7B86F8D-1D59-FC28-E050-D20AE3A215F0\"\r\n            }\r\n        }\r\n    ]\r\n```\r\n\r\nExample for a `instance-order` (continuous). Note this references an example MedicationRequest from GP Connect:\r\n\r\n```json\r\n \"basedOn\": [\r\n        {\r\n            \"extension\": [\r\n                {\r\n                    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation\",\r\n                    \"extension\": [\r\n                        {\r\n                            \"url\": \"numberOfRepeatsAllowed\",\r\n                            \"valueUnsignedInt\": 5\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"identifier\": {\r\n                \"system\": \"https://provider.nhs.uk/data-identifier\",\r\n                \"value\": \"53426283749629\"\r\n            }\r\n        }\r\n    ]\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "groupIdentifier": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "extension": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                                "items": {
                                    "type": "object"
                                }
                            },
                            "extension:PrescriptionOrderUUID": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier.extension:PrescriptionOrderUUID|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionDMPrescriptionId](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId))|\n\n<br/>\n\n #### Definition\n\n When UUIDs are used within HL7 messages they must be represented in an upper case human-readable hexadecimal format where hyphen separators are used as per the example below and as defined by the ‘datatype’ schema within the DMS.\r\n\r\nUUID example (for illustration purposes only);\r\n\r\n**34026084-A445-84AD-2D01-97D69ED25865**\r\n\r\n```json\r\n\"groupIdentifier\": {\r\n    \"extension\":  [\r\n        {\r\n            \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\r\n            \"valueIdentifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/prescription\",\r\n                \"value\": \"ad945a29-85f8-439a-b590-6789719adc16\"\r\n            }\r\n        }\r\n    ],\r\n    \"system\": \"https://fhir.nhs.uk/Id/prescription-order-number\",\r\n    \"value\": \"DC2C66-A1B2C3-23407B\"\r\n},\r\n```",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "url": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier.extension:PrescriptionOrderUUID.url|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[http://hl7.org/fhirpath/System.String](https://www.hl7.org/fhir/datatypes.html#http://hl7.org/fhirpath/System.String)|\n\n<br/>\n\n #### Definition\n\n Source of the definition for the extension code - a logical name or a URL.\n\n #### Comment\n\n The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension."
                                        }
                                    }
                                }
                            },
                            "system": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/Id/prescription-order-number|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                            },
                            "value": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.groupIdentifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n The purpose of the Short Form Prescription ID is to identify the prescription during its lifecycle within the Spine (i.e. prescribe, dispense & claim). The prescription UUID is retained to provide the link through to the Spine medication record within the PSIS and must be included as the first identifier within the prescription message.\r\nThe format of the Short Form Prescription ID is as follows;\r\n\r\n`<RandomNumber>-<PracticeODSCode/ClinicODSCode>-<PracticeSequence/ClinicSequence><CheckDigit>`\r\n\r\nWhere;\r\n\r\n`<RandomNumber>` is a locally generated random number each time a Prescription ID is generated of length 6 hexadecimal characters.\r\n\r\n`<PracticeODSCode/ClinicODSCode>` is the unique ODS code for the practice or clinic code (aka cost centre) as defined within the Spine SDS of length 6 characters. Where the prescriber ODS code is shorter than 6 characters it must be zero-padded up to six characters from the start of the ODS code, e.g. “0A1B2C”.\r\n\r\n`<PracticeSequence/ClinicSequence>` is an incremental sequence number starting from 00000 that is reset after FFFFF back to zero of length 5 hexadecimal characters. For systems that support multiple practices or clinics, a sequence number per practice/clinic is required. This is to ensure uniqueness of prescriptions within the Spine EPS component during the prescription lifecycle.\r\n\r\n`<CheckDigit>` is calculated on the entire ID using the ISO/IEC 7064:2003 MOD 37-2 standard. The check digit algorithm is identical to that using for EPS Release 1.\r\n\r\nNote. Hyphens are always included to separate the ID into 3 blocks of 6 characters.\r\n\r\nNote. The implementation of the MOD 37-2 standard uses a “+” character for char 36 opposed to a “*” character.\r\n\r\nShort Form Prescription ID example (for illustration purposes only);\r\n\r\n**83C40E-A23856-00123W**\r\n\r\n```json\r\n\"groupIdentifier\": {\r\n    ...\r\n    \"system\": \"https://fhir.nhs.uk/Id/prescription-order-number\",\r\n    \"value\": \"DC2C66-A1B2C3-23407B\"\r\n},\r\n```\n\n #### Requirements\n\n Requests are linked either by a \"basedOn\" relationship (i.e. one request is fulfilling another) or by having a common requisition. Requests that are part of the same requisition are generally treated independently from the perspective of changing their state or maintaining them after initial creation.\n\n #### Comment\n\n ITK HL7v3 Mapping = The groupIdentifier is equivalent to ParentPrescription.id (prescription-order-number). The extension is used to carry the ParentPrescription.id (UUID)."
                    },
                    "courseOfTherapyType": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "coding": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.courseOfTherapyType.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.courseOfTherapyType.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                        },
                                        "code": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.courseOfTherapyType.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                        }
                                    }
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.courseOfTherapyType|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationRequestCourseOfTherapyCodes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-medicationrequest-course-of-therapy) (Required)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n The description of the overall pattern of the administration of the medication to the patient.\r\nRequired for prescription-order\r\n\r\n```json\r\n\"courseOfTherapyType\": {\r\n  \"coding\":  [\r\n      {\r\n          \"system\": \"http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy\",\r\n          \"code\": \"acute\",\r\n          \"display\": \"Short course (acute) therapy\"\r\n      }\r\n  ]\r\n},\r\n```\n\n #### Comment\n\n The type of prescription e.g. acute, continuous, etc. Was extension in STU3 https://fhir.hl7.org.uk/STU3/StructureDefinition/Extension-CareConnect-PrescriptionType-1 and Digital Medicine uses international codes, so continuous in place of repeat."
                    },
                    "note": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.note|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Annotation](https://www.hl7.org/fhir/datatypes.html#Annotation)|\n\n<br/>\n\n #### Definition\n\n Clinical information relating to a prescribed medication item that cannot be conveyed within dosage instructions is populated within `note` field.\r\n\r\nExamples of dispensing notes are:\r\n\r\n- To explain changes in dosage, for example, “Dosage has been increased on advice of the hospital”.\r\n- \"Tell patient to stop their statin whilst on this anitbiotic\"\r\n- \"hospital consultant has confirmed dual treatment\"\r\n\r\nOne scenario where `note` must be populated is when the current prescribed medication item is the last authorised repeat of that medication within a repeat prescribing cycle. Appropriate text, such as “Last authorised repeat” must be included within the `note` to inform the dispenser and to allow the dispenser to communicate to the patient or patient representative. Note that for repeat dispensing, the ‘numberOfRepeatPrescriptionsIssued’ element also conveys this information.\r\n\r\n```json\r\n\"note\": [\r\n    {\r\n      \"text\": \"Tell patient to stop their statin whilst on this anitbiotic\"\r\n    }\r\n  ],\r\n```",
                        "items": {
                            "type": "object",
                            "properties": {
                                "text": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.note.text|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[markdown](https://www.hl7.org/fhir/datatypes.html#markdown)|\n\n<br/>\n\n #### Definition\n\n The text of the annotation in markdown format."
                                }
                            }
                        }
                    },
                    "dosageInstruction": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dosageInstruction|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Dosage](https://www.hl7.org/fhir/datatypes.html#Dosage)([NHSDigitalDosage](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Dosage))|\n\n<br/>\n\n #### Definition\n\n The content of the `dosageInstruction` should follow guidance in [Dosage Structure Overview](https://developer.nhs.uk/apis/dose-syntax-implementation/dosage-overview.html). (Note this is based on CareConnect STU3 but the guidance is still valid in UKCore R4)\r\n\r\n`dosageInstruction.text` **MUST** be supplied and is a human readable version of the structured dose as would be printed on a paper prescription. The prescriber is required to enter a medication item dosage. The use of a generic default value, for example “Use as directed”, if a value is not entered, is not acceptable from a clinical perspective.\r\n\r\nThe prescriber is required to enter a medication item dosage. The use of a generic default value, for example “Use as directed”, if a value is not entered, is not acceptable from a clinical perspective. The user must be asked to select a dosage instruction from a pick list, type by hand or have the system populate with a valid and clinically safe dosage instruction relevant to the prescribed medication or clinical circumstances.\r\n\r\nAs per BNF guidelines, the dosage must be presented to the user without abbreviation although it may be entered and stored within the PMR in an abbreviated form. Within HL7 messaging, the dosage instruction must be represented without abbreviation.\r\n\r\n```json\r\n\"dosageInstruction\": [\r\n   {\r\n        \"text\": \"10 milligram, Inject, Subcutaneous route, once weekly\",\r\n        \"timing\": {\r\n            \"repeat\": {\r\n                \"boundsDuration\": {\r\n                    \"value\": 10,\r\n                    \"unit\": \"day\",\r\n                     \"system\": \"http://unitsofmeasure.org\",\r\n                     \"code\": \"d\"\r\n                },\r\n                 \"frequency\": 5,\r\n                 \"period\": 1,\r\n                \"periodUnit\": \"d\"\r\n             }\r\n        },\r\n        \"route\": {\r\n            \"coding\": [\r\n                {\r\n                    \"system\": \"http://snomed.info/sct\",\r\n                    \"code\": \"34206005\",\r\n                    \"display\": \"Subcutaneous route\"\r\n                }\r\n            ]\r\n        },\r\n        \"method\": {\r\n            \"coding\": [\r\n                {\r\n                    \"system\": \"http://snomed.info/sct\",\r\n                    \"code\": \"422145002\",\r\n                    \"display\": \"Inject\"\r\n                }\r\n            ]\r\n        },\r\n        \"doseAndRate\": [\r\n            {\r\n                \"doseQuantity\": {\r\n                    \"value\": 10,\r\n                    \"unit\": \"milligram\",\r\n                    \"system\": \"http://unitsofmeasure.org\",\r\n                    \"code\": \"mg\"\r\n                }\r\n            }\r\n        ]\r\n    }\r\n]\r\n\r\n```\n\n #### Comment\n\n There are examples where a medication request may include the option of an oral dose or an Intravenous or Intramuscular dose.  For example, \"Ondansetron 8mg orally or IV twice a day as needed for nausea\" or \"Compazine® (prochlorperazine) 5-10mg PO or 25mg PR bid prn nausea or vomiting\".  In these cases, two medication requests would be created that could be grouped together.  The decision on which dose and route of administration to use is based on the patient's condition at the time the dose is needed.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "additionalInstruction": {
                                    "minimum": 0,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dosageInstruction.additionalInstruction|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[SNOMEDCTAdditionalDosageInstructions](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/additional-instruction-codes) (Example)A coded concept identifying additional instructions such as \"take with water\" or \"avoid operating heavy machinery\". |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n These sections **MUST** be used only be used to pass notes regarding the prescription to the pharmacist or patient. Lists of repeat medications and general practice notifications to the patient **SHOULD** be recorded in [NHSDigital-CommunicationRequest](https://simplifier.net/guide/nhsdigital/NHSDigital-CommunicationRequest) resource.\r\n\r\nPatient instructions for taking the drug are contained with in the `patientInstruction` and `additionalInstruction` as per the guidance in [Dosage Structure Overview](https://developer.nhs.uk/apis/dose-syntax-implementation/dosage-overview.html)\r\n\r\n```json\r\n\"dosageInstruction\": [\r\n    {\r\n        \"text\": \"10 milligram, Inject, Subcutaneous route, once weekly\",\r\n        \"additionalInstruction\": [\r\n            \"coding\": [\r\n                {\r\n                    \"system\": \"http://snomed.info/sct\",\r\n                    \"code\": \"421769005\",\r\n                    \"display\": \"Follow directions\"\r\n                }\r\n            ],\r\n        ],\r\n        \"patientInstruction\": \"As directed\"\r\n    }\r\n]\r\n```\n\n #### Requirements\n\n Additional instruction is intended to be coded, but where no code exists, the element could include text.  For example, \"Swallow with plenty of water\" which might or might not be coded.\n\n #### Comment\n\n Information about administration or preparation of the medication (e.g. \"infuse as rapidly as possibly via intraperitoneal port\" or \"immediately following drug x\") should be populated in dosage.text.",
                                    "items": {
                                        "type": "object"
                                    }
                                },
                                "patientInstruction": {
                                    "minimum": 0,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dosageInstruction.patientInstruction|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n These sections **MUST** be used only be used to pass notes regarding the prescription to the pharmacist or patient. Lists of repeat medications and general practice notifications to the patient **SHOULD** be recorded in [NHSDigital-CommunicationRequest](https://simplifier.net/guide/nhsdigital/NHSDigital-CommunicationRequest) resource.\r\n\r\nPatient instructions for taking the drug are contained with in the `patientInstruction` and `additionalInstruction` as per the guidance in [Dosage Structure Overview](https://developer.nhs.uk/apis/dose-syntax-implementation/dosage-overview.html)\r\n\r\n```json\r\n\"dosageInstruction\": [\r\n    {\r\n        \"text\": \"10 milligram, Inject, Subcutaneous route, once weekly\",\r\n        \"additionalInstruction\": [\r\n            \"coding\": [\r\n                {\r\n                    \"system\": \"http://snomed.info/sct\",\r\n                    \"code\": \"421769005\",\r\n                    \"display\": \"Follow directions\"\r\n                }\r\n            ],\r\n        ],\r\n        \"patientInstruction\": \"As directed\"\r\n    }\r\n]\r\n```"
                                }
                            }
                        }
                    },
                    "dispenseRequest": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "extension": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                                "items": {
                                    "type": "object"
                                }
                            },
                            "extension:performerSiteType": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.extension:performerSiteType|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionperformerSiteType](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType))|\n\n<br/>\n\n #### Definition\n\n Used to indicate type of pharmacist",
                                "items": {
                                    "type": "object"
                                }
                            },
                            "validityPeriod": {
                                "minimum": 0,
                                "type": "object",
                                "properties": {
                                    "start": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.validityPeriod.start|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)|\n\n<br/>\n\n #### Definition\n\n The start of the period. The boundary is inclusive.\n\n #### Comment\n\n If the low element is missing, the meaning is that the low boundary is not known."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.validityPeriod|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Period](https://www.hl7.org/fhir/datatypes.html#Period)|\n\n<br/>\n\n #### Definition\n\n The `validityPeriod` attribute defines the validity period for the prescription authorisation. This period must start (the `validityPeriod.start`) at the date of prescribing and cannot exceed 12 months (the `validityPeriod.end`). Typically, most repeatable prescriptions will be authorised for a validity period of either 6 or 12 months.\r\n\r\n```json\r\n\"dispenseRequest\": {\r\n          \"validityPeriod\": {\r\n            \"start\": \"2020-06-10\",\r\n            \"end\": \"2020-12-07\"\r\n          },\r\n          ...\r\n      }\r\n```\n\n #### Requirements\n\n Indicates when the Prescription becomes valid, and when it ceases to be a dispensable Prescription.\n\n #### Comment\n\n It reflects the prescribers' perspective for the validity of the prescription. Dispenses must not be made against the prescription outside of this period. The lower-bound of the Dispensing Window signifies the earliest date that the prescription can be filled for the first time. If an upper-bound is not specified then the Prescription is open-ended or will default to a stale-date based on regulations."
                            },
                            "numberOfRepeatsAllowed": {
                                "minimum": 0,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.numberOfRepeatsAllowed|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[unsignedInt](https://www.hl7.org/fhir/datatypes.html#unsignedInt)|\n\n<br/>\n\n #### Definition\n\n The number of repeat issues authorised if specified. <br> <b>MUST</b> be present where a `continuous` or `continuous-repeat-dispensing` is authorised for a defined number of issues. <br> <b>MUST</b> NOT be specified where the number of repeat issues has not been defined. Therefore, the numberOfRepeats allowed is the total number of allowed issues. See also <a href=\"#repeatInformation\">extension repeatInformation</a>\r\n\r\nFor `continuous` orders and `continuous-repeat-dispensing` with intent=`reflex-order` (i.e., orders sent from EPS to pharmacists) this <b>MUST</b> be zero. The `numberOfRepeatsAllowed` in the extension to `basedOn` can be used to convey this information to inform patients that they need to re-order the medication.\n\n #### Comment\n\n If displaying \"number of authorized fills\", add 1 to this number."
                            },
                            "quantity": {
                                "minimum": 1,
                                "type": "object",
                                "properties": {
                                    "value": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.quantity.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[decimal](https://www.hl7.org/fhir/datatypes.html#decimal)|\n\n<br/>\n\n #### Definition\n\n The value of the measured amount. The value includes an implicit precision in the presentation of the value.\n\n #### Requirements\n\n Precision is handled implicitly in almost all cases of measurement.\n\n #### Comment\n\n The implicit precision in the value should always be honored. Monetary values have their own rules for handling precision (refer to standard accounting text books)."
                                    },
                                    "unit": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.quantity.unit|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A human-readable form of the unit.\n\n #### Requirements\n\n There are many representations for units of measure and in many contexts, particular representations are fixed and required. I.e. mcg for micrograms."
                                    },
                                    "code": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.quantity.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A computer processable form of the unit in some unit representation system.\n\n #### Requirements\n\n Need a computable form of the unit that is fixed across all forms. UCUM provides this for quantities, but SNOMED CT provides many units of interest.\n\n #### Comment\n\n The preferred system is UCUM, but SNOMED CT can also be used (for customary units) or ISO 4217 for currency.  The context of use may additionally require a code from a particular system."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.quantity|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Quantity](https://www.hl7.org/fhir/datatypes.html#Quantity)([SimpleQuantity](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/SimpleQuantity))|\n\n<br/>\n\n #### Definition\n\n The amount that is to be dispensed for one fill."
                            },
                            "expectedSupplyDuration": {
                                "minimum": 0,
                                "type": "object",
                                "properties": {
                                    "value": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.expectedSupplyDuration.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[decimal](https://www.hl7.org/fhir/datatypes.html#decimal)|\n\n<br/>\n\n #### Definition\n\n The value of the measured amount. The value includes an implicit precision in the presentation of the value.\n\n #### Requirements\n\n Precision is handled implicitly in almost all cases of measurement.\n\n #### Comment\n\n The implicit precision in the value should always be honored. Monetary values have their own rules for handling precision (refer to standard accounting text books)."
                                    },
                                    "code": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.expectedSupplyDuration.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|d|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A computer processable form of the unit in some unit representation system.\n\n #### Requirements\n\n Need a computable form of the unit that is fixed across all forms. UCUM provides this for quantities, but SNOMED CT provides many units of interest.\n\n #### Comment\n\n The preferred system is UCUM, but SNOMED CT can also be used (for customary units) or ISO 4217 for currency.  The context of use may additionally require a code from a particular system."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.expectedSupplyDuration|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Duration](https://www.hl7.org/fhir/datatypes.html#Duration)|\n\n<br/>\n\n #### Definition\n\n The `expectedSupplyDuration` entity is required for repeat dispensing (repeatable) prescriptions only.\r\n\r\nThe `expectedSupplyDuration` element defines the expected duration, in days, of each issue of the prescription. A default value of 28 can be used which must be amendable by the prescriber when required. The value must be an integer value greater than zero. A sensible upper limit validation should be included within the System. If this value is omitted, the Spine will assume a value of 28.\r\n\r\n```json\r\n\"dispenseRequest\": {\r\n          ...\r\n          \"expectedSupplyDuration\": {\r\n            \"value\": 28,\r\n            \"unit\": \"days\",\r\n            \"system\": \"http://unitsofmeasure.org\",\r\n            \"code\": \"d\"\r\n          }\r\n      }\r\n```\n\n #### Comment\n\n In some situations, this attribute may be used instead of quantity to identify the amount supplied by how long it is expected to last, rather than the physical quantity issued, e.g. 90 days supply of medication (based on an ordered dosage). When possible, it is always better to specify quantity, as this tends to be more precise. expectedSupplyDuration will always be an estimate that can be influenced by external factors."
                            },
                            "performer": {
                                "minimum": 0,
                                "type": "object",
                                "properties": {
                                    "identifier": {
                                        "minimum": 1,
                                        "type": "object",
                                        "properties": {
                                            "system": {
                                                "minimum": 1,
                                                "type": "string",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.performer.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/Id/ods-organization-code|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                            },
                                            "value": {
                                                "minimum": 1,
                                                "type": "string",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.performer.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                            }
                                        },
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.performer.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n An identifier for the target resource. This is used when there is no way to reference the other resource directly, either because the entity it represents is not available through a FHIR server, or because there is no way for the author of the resource to convert a known identifier to an actual location. There is no requirement that a Reference.identifier point to something that is actually exposed as a FHIR instance, but it SHALL point to a business concept that would be expected to be exposed as a FHIR instance, and that instance would need to be of a FHIR resource type allowed by the reference.\n\n #### Comment\n\n When an identifier is provided in place of a reference, any system processing the reference will only be able to resolve the identifier to a reference if it understands the business context in which the identifier is used. Sometimes this is global (e.g. a national identifier) but often it is not. For this reason, none of the useful mechanisms described for working with references (e.g. chaining, includes) are possible, nor should servers be expected to be able resolve the reference. Servers may accept an identifier based reference untouched, resolve it, and/or reject it - see CapabilityStatement.rest.resource.referencePolicy.   When both an identifier and a literal reference are provided, the literal reference is preferred. Applications processing the resource are allowed - but not required - to check that the identifier matches the literal reference  Applications converting a logical reference to a literal reference may choose to leave the logical reference present, or remove it.  Reference is intended to point to a structure that can potentially be expressed as a FHIR resource, though there is no need for it to exist as an actual FHIR resource instance - except in as much as an application wishes to actual find the target of the reference. The content referred to be the identifier must meet the logical constraints implied by any limitations on what resource types are permitted for the reference.  For example, it would not be legitimate to send the identifier for a drug prescription if the type were Reference(Observation|DiagnosticReport).  One of the use-cases for Reference.identifier is the situation where no FHIR representation exists (where the type is Reference (Any)."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest.performer|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalOrganization](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Organization))|\n\n<br/>\n\n #### Definition\n\n For non token based prescriptions the destination pharmacy **MUST** be recorded in the *dispenseRequest.performer.identifier* and a identifier reference (not a resource reference) with an ANANA/ODS Code **MUST** used. \r\n\r\nThe extension https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType **MUST** be present.\r\n\r\nPatients pharmacy preferences may be sourced from PDS.\r\n\r\nPatients pharmacy preferences may be overriden by an 'one-off pharmacy nomination' by populating the *dispenseRequest.performer.identifier* with the ODS/ANANA code of the destination pharmacy.\r\n\r\n```json\r\n\"dispenseRequest\": {\r\n        \"extension\":  [\r\n            {\r\n                \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType\",\r\n                \"valueCoding\": {\r\n                    \"system\": \"https://fhir.nhs.uk/CodeSystem/dispensing-site-preference\",\r\n                    \"code\": \"0004\"\r\n                }\r\n            },\r\n        ],\r\n        \"performer\": {\r\n            \"identifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                \"value\": \"FX748\"\r\n            }\r\n        },\r\n```"
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.dispenseRequest|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n Indicates the specific details for the dispense or medication supply part of a medication request (also known as a Medication Prescription or Medication Order).  Note that this information is not always sent with the order.  There may be in some settings (e.g. hospitals) institutional or system support for completing the dispense details in the pharmacy department."
                    },
                    "substitution": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "allowed[x]": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.substitution.allowed[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[boolean](https://www.hl7.org/fhir/datatypes.html#boolean)|\n\n<br/>\n\n #### Definition\n\n The purpose of this element is to allow the prescriber to dispense a different drug from what was prescribed.\n\n #### Comment\n\n This element is labeled as a modifier because whether substitution is allow or not, it cannot be ignored."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationRequest.substitution|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n Within UK healthcare, substitution is not the norm and so this element will normally be set to a default of `false`.\r\n\r\nSubstitution being set to false is a mandatory requirement for EPS..\r\n\r\nSubstituition is a mandatory requirement for EPS.\r\n\r\n<div markdown=\"span\" class=\"alert alert-warning\" role=\"alert\"><i class=\"fa fa-information\"></i><h4>Important Note:</h4>\r\nWithin UK healthcare, substitution is not the norm so the international FHIR definition where \"_If nothing is specified substitution may be done._\" does not align with UK healthcare prescribing best practice.<br/>\r\n<p>It could be unwise to assume all UK implementations will prevent substitution if not explicitly stated, especially if the same clinical system has been previously implemented outside the UK. <br/></p>\r\n<p>UK Core has profiled this element as MANDATORY and MUST have a default boolean value of <code>false</code> to denote substitution is not allowed.</p>\r\n</div>\r\n<h3 id=\"allowing-substitution\">Allowing substitution</h3>\r\n<p>Where substitution to be be allowed, set to <code>true</code>. The inclusion of the coded reason is optional as the valueset defined in FHIR is of limited benefit to UK healthcare.</p>\r\n\r\n```json\r\n\r\n\"substitution\": {\r\n        \"allowedBoolean\": false\r\n    }\r\n\r\n```"
                    }
                },
                "description": "HL7 FHIR Schema [MedicationRequest](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/MedicationRequest).. HL7 FHIR Documentation [MedicationRequest](\"https://www.hl7.org/fhir/MedicationRequest.html\")",
                "externalDocs": {
                    "description": "MedicationRequest",
                    "url": "https://www.hl7.org/fhir/MedicationRequest.html"
                }
            },
            "CommunicationRequest": {
                "type": "object",
                "properties": {
                    "status": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|CommunicationRequest.status|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[RequestStatus](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/request-status|4.0.1) (Required)The status of the communication request. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n The status of the proposal or order."
                    },
                    "subject": {
                        "minimum": 0,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|CommunicationRequest.subject|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalPatient](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Patient))|\n\n<br/>\n\n #### Definition\n\n The patient or group that is the focus of this communication request.\n\n #### Constraints \n\n- **patient-reference** (*WARNING*) subject - An identifier reference plus a display name or resource reference must be provided\n- **patient-nhs** (*ERROR*) Supplied NHS Number is outside the English and Welsh NHS Number range or length of the number is wrong."
                    },
                    "payload": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|CommunicationRequest.payload|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n #### NHSApp\r\n\r\n**In App Messages** \r\n\r\nNHSApp supports a subset of Markdown for in-app messages, please see API documentation for more details. Only `contentString` is supported.\r\n\r\n```json\r\n  \r\n    \"payload\":  [\r\n        {\r\n            \"contentString\": \"You have a new appointment, please confirm you can attend. Open the Onboarded Third Party appointment [here](https://www.nhsapp.service.nhs.uk/appointments/hospital-appointments)\"\r\n        }\r\n    ]\r\n```\r\n\r\n**Push Notifications**\r\n\r\nOnly `contentReference` is supported and this should contain the URL to a page within the NHS App to be opened when the notification is tapped. If this property is not specified, the App will open on the home screen.\r\n\r\n```json\r\n  \r\n    \"payload\":  [\r\n        {\r\n            \"contentReference\": {\r\n                \"reference\": \"https://www.nhsapp.service.nhs.uk/patient/messages/app-messaging\",\r\n                \"display\": \"You have a new message. The message may contain something important.\"\r\n            }\r\n        }\r\n    ],\r\n```\r\n\r\n#### EPS\r\n\r\n**CommunicationRequest** is used in Electronic Prescription Service (EPS) to convey patient specific information. This includes:\r\n\r\n* patient information - messages to the patient\r\n* medications - list of authorised repeat medications which is contained on a FHIR List resource, details and example list of repeat medications can be found in profile `UKCore-List`\r\n\r\nThese would be traditionally printed on the right hand side of the FP10 stationery.\r\n\r\n**CommunicationRequest should not contain Clinical information regarding the prescriptions, these should be conveyed in the MedicationRequest resource.**\r\n\r\n```json\r\n\r\n    \"payload\":  [\r\n        {\r\n            \"contentString\": \"Please make an appointment to see your GP. Review date due\"\r\n        },\r\n        {\r\n            \"contentReference\": {\r\n                \"reference\": \"urn:uuid:d0f003a0-8763-43d5-a264-ce52a38901c9\",\r\n                \"display\": \"List of Repeat Medications for re-ordering\"\r\n            }\r\n        }\r\n    ],\r\n```\n\n #### Comment\n\n The payload will consist of message to the Patient and/or a reference to a list of active repeat medications.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "content[x]": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|CommunicationRequest.payload.content[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)[Attachment](https://www.hl7.org/fhir/datatypes.html#Attachment)[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([Resource](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/Resource))|\n\n<br/>\n\n #### Definition\n\n The communicated content (or for multi-part communications, one portion of the communication)."
                                }
                            }
                        }
                    },
                    "requester": {
                        "minimum": 1,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|CommunicationRequest.requester|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalPatient](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Patient) [NHSDigitalPractitionerRole](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole) [NHSDigitalOrganization](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Organization))|\n\n<br/>\n\n #### Definition\n\n The person/organisation making the communication request. This **SHOULD** use reference identifiers.\r\n\r\n```json\r\n\r\n    \"requester\": {\r\n        \"type\": \"Organization\",\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n            \"value\": \"RBA\"\r\n        },\r\n        \"display\": \"TAUNTON AND SOMERSET NHS FOUNDATION TRUST\"\r\n    },\r\n```"
                    },
                    "recipient": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|CommunicationRequest.recipient|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([Group](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/Group) [CareTeam](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/CareTeam) [NHSDigitalOrganization](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Organization) [NHSDigitalPatient](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Patient) [NHSDigitalPractitioner](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner) [NHSDigitalPractitionerRole](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole) [NHSDigitalHealthcareService](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-HealthcareService))|\n\n<br/>\n\n #### Definition\n\n The persons/organisations who will receive the communication request. This **SHOULD** use reference identifiers.\r\n\r\n```json\r\n\r\n    \"recipient\":  [\r\n        {\r\n            \"type\": \"Patient\",\r\n            \"identifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n                \"value\": \"9453740519\"\r\n            }\r\n        }\r\n    ]\r\n```",
                        "items": {
                            "type": "object"
                        }
                    }
                },
                "description": "HL7 FHIR Schema [CommunicationRequest](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/CommunicationRequest).. HL7 FHIR Documentation [CommunicationRequest](\"https://www.hl7.org/fhir/CommunicationRequest.html\")",
                "externalDocs": {
                    "description": "CommunicationRequest",
                    "url": "https://www.hl7.org/fhir/CommunicationRequest.html"
                }
            },
            "MedicationDispense": {
                "type": "object",
                "properties": {
                    "extension": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:prescriptionStatus": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.extension:prescriptionStatus|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionEPSTaskBusinessStatus](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus))|\n\n<br/>\n\n #### Definition\n\n This is the overall status of the `prescription-order`, it is not the status of the individual prescription item. This is a code from {{pagelink:DM-Task-Status-Reason-duplicate-2}}, all prescription status reasons in a `dispense-notification` FHIR Message Bundle must be the same.\r\n\r\n```json\r\n\"extension\": [\r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\r\n        \"valueCoding\": {\r\n            \"system\": \"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\r\n            \"code\": \"0003\",\r\n            \"display\": \"With Dispenser - Active\"\r\n        }\r\n    }\r\n]\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:repeatInformation": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.extension:repeatInformation|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionEPSRepeatInformation](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation))|\n\n<br/>\n\n #### Definition\n\n The extension is mandatory for `continuous` and `continuous-repeat-dispensing`. The following elements **MUST** be populated \r\n\r\n- numberofRepeatsAllowed \r\n- numberOfRepeatsIssued \r\n\r\n```json\r\n\"extension\": [\r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation\",\r\n        \"extension\": [\r\n            {\r\n                \"url\" : \"numberOfRepeatsAllowed\",\r\n                \"valueInteger\" : 3\r\n            },\r\n            {\r\n                \"url\" : \"numberOfRepeatsIssued\",\r\n                \"valueInteger\" : 2\r\n            }\r\n        ]\r\n    }\r\n]\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "identifier": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n Each MedicationDispense **MUST** be identified by an Universal Unique Identifiers (UUIDs) with a system of `https://fhir.nhs.uk/Id/prescription-dispense-item-number`\r\n\r\nUUID example (for illustration purposes only);\r\n\r\n**4509B70D-D8B8-EA03-1105-64557CB54A29**\r\n\r\n\r\n```json\r\n \"identifier\":  [\r\n    {\r\n        \"system\": \"https://fhir.nhs.uk/Id/prescription-dispense-item-number\",\r\n        \"value\": \"4509B70D-D8B8-EA03-1105-64557CB54A29\"\r\n    }\r\n]\r\n```\n\n #### Comment\n\n This is a business identifier, not a resource identifier.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "system": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                },
                                "value": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                }
                            }
                        }
                    },
                    "status": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.status|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationDispense Status Codes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/medicationdispense-status|4.0.1) (Required)A coded concept specifying the state of the dispense event. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n The status of the individual medication item, this will normally indicate whether the medication has been picked up or not. \r\n\r\n| Code | Display | Definition |\r\n|--|--|--|\r\n| completed | Completed | The dispensed product has been picked up. |\r\n| in-progress | In Progress | The dispensed product is ready for pickup. |\n\n #### Comment\n\n This element is labeled as a modifier because the status contains codes that mark the resource as not currently valid."
                    },
                    "statusReason[x]": {
                        "minimum": 0,
                        "type": "object",
                        "properties": {
                            "coding": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x].coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x].coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                        },
                                        "code": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x].coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                        }
                                    }
                                }
                            },
                            "coding:notDispensedStatusReason": {
                                "minimum": 0,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x].coding:notDispensedStatusReason|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationDispenseStatusReason](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-medicationdispense-status-reason) (Required)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object"
                                }
                            },
                            "coding:amendmentStatusReason": {
                                "minimum": 0,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x].coding:amendmentStatusReason|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[TaskReasonCode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-task-reason-code) (Required)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.statusReason[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationDispense Status Reason Codes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/medicationdispense-status-reason) (Example)A code describing why a dispense was not performed. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Indicates the reason why a dispense was not performed."
                    },
                    "medication[x]": {
                        "minimum": 1,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.medication[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[UKCoreMedicationCode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.hl7.org.uk/ValueSet/UKCore-MedicationCode) (Extensible)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)([NHSDigitalMedicationDispenseCodeableConcept](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense-CodeableConcept))[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalMedicationDispenseMedication](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense-Medication))|\n\n<br/>\n\n #### Definition\n\n Actual Medical Product Packs (AMPP) SHOULD be used. \r\nIt is valid to include a FHIR Medication resource within the FHIR Message, this practice is discouraged to simplify handling of the event messages.\r\n\r\n<table>\r\n<thead>\r\n<th data-no-sort width=\"25%\">\r\ndm+d Category\r\n</th>\r\n<th data-no-sort width=\"50%\">\r\ndm+d Description\r\n</th>\r\n<th data-no-sort width=\"25%\">\r\nUK SNOMED Members Of\r\n</th>\r\n\r\n</thead>\r\n<tr>\r\n<td>\r\nVMPP\r\n</td>\r\n<td>\r\nVirtual Medical Product Pack\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000571000001104\" target=\"_blank\">999000571000001104</a>\r\n</td>\r\n\r\n</tr>\r\n<tr>\r\n<td>\r\nAMPP\r\n</td>\r\n<td>\r\nActual Medical Product Pack\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000551000001106\" target=\"_blank\">999000551000001106</a>\r\n</td>\r\n</tr>\r\n<tr>\r\n<td>\r\nVMP\r\n</td>\r\n<td>\r\nVirtual Medical Product\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000561000001109\" target=\"_blank\">999000561000001109</a>\r\n</td>\r\n</tr>\r\n<tr>\r\n<td>\r\nAMP\r\n</td>\r\n<td>\r\nActual Medical Product\r\n</td>\r\n<td>\r\n<a href=\"https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000541000001108\" target=\"_blank\">999000541000001108</a>\r\n</td>\r\n</tr>\r\n</table>\r\n\r\n<br>\r\n\r\n```json\r\n\"medicationCodeableConcept\": {\r\n        \"coding\":  [\r\n        {\r\n            \"system\": \"http://snomed.info/sct\",\r\n            \"code\": \"10460811000001109\",\r\n            \"display\": \"Amoxil 500mg capsules (Dowelhurst Ltd) 12 capsule\"\r\n        }\r\n    ]\r\n}\r\n```\n\n #### Comment\n\n If only a code is specified, then it needs to be a code for a specific product. If more information is required, then the use of the medication resource is recommended.  For example, if you require form or lot number, then you must reference the Medication resource."
                    },
                    "subject": {
                        "minimum": 1,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.subject|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalPatient](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Patient))|\n\n<br/>\n\n #### Definition\n\n A reference to the patient via a traced NHS Number is required, an untraced NHS Number MUST NOT be used. This can be sent in two ways, first option is via a `identifier reference`. Only the NHS Number:\r\n\r\n```json\r\n\"subject\": {\r\n    \"type\": \"Patient\",\r\n    \"identifier\": {\r\n        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n        \"value\": \"2300992742\"\r\n    }\r\n}\r\n```\r\n\r\nSecond option uses a FHIR Patient resource to convey the NHS Number.  \r\n\r\nThe reference in the MedicationDispesnse is now a `resource reference`. \r\n\r\n```json\r\n \"subject\": {\r\n                    \"type\": \"Patient\",\r\n                    \"reference\": \"urn:uuid:bde9eba6-079f-4210-8108-6ea8db58de8c\",\r\n                    \"display\": \"Miss Bernie Kanfeld\"\r\n                }\r\n```\r\n\r\nThe NHS Number has moved to the Patient resource alongside other patient identifiers such as MRN. E.g. \r\n\r\n```json\r\n\"fullUrl\": \"urn:uuid:bde9eba6-079f-4210-8108-6ea8db58de8c\",\r\n\"resource\": {\r\n                \"resourceType\": \"Patient\",\r\n                \"identifier\": [\r\n                    {\r\n                        \"extension\": [\r\n                            {\r\n                                \"url\": \"https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",\r\n                                \"valueCodeableConcept\": {\r\n                                    \"coding\": [\r\n                                        {\r\n                                            \"system\": \"https://fhir.hl7.org.uk/CodeSystem/UKCore-NHSNumberVerificationStatus\",\r\n                                            \"code\": \"01\",\r\n                                            \"display\": \"Number present and verified\"\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            }\r\n                        ],\r\n                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n                        \"value\": \"9876543210\"\r\n                    },\r\n                    {\r\n                        \"system\": \"https://fhir.leedsth.nhs.uk/Id/pas-number\",\r\n                        \"value\": \"ABC8650149\"\r\n                    },\r\n                    {\r\n                        \"system\": \"https://fhir.leedsth.nhs.uk/Id/PPMIdentifier\",\r\n                        \"value\": \"1\"\r\n                    }\r\n                ],\r\n               ... other elements removed from example.\r\n            }\r\n```\r\n\r\nIt is anticipated that hospital pharmacies will prefer the later option for compatibility with other systems. Community pharmacies are anticipated to prefer the former option.\n\n #### Comment\n\n SubstanceAdministration->subject->Patient.\n\n #### Constraints \n\n- **eps-2** (*WARNING*) subject - An identifier reference plus a display name or resource reference must be provided\n- **patient-nhs** (*ERROR*) Supplied NHS Number is outside the English and Welsh NHS Number range or length of the number is wrong."
                    },
                    "performer": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.performer|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n The pharmacist and pharmacy MUST be present and MUST use `identifier references`. This means FHIR Practitioner, Organization and PractitionerRole resource are not included in the FHIR Message. Professional codes and ODS codes should be used instead. `sds-user-role-id` is permitted to identify a Practitioner(& Role) but professional codes are preferred to support wider NHS interoperability.\r\n\r\n```json\r\n \"performer\": [\r\n    {\r\n        \"actor\": {\r\n            \"reference\" : \"#performer\"\r\n        }\r\n    }\r\n],\r\n```\r\n\r\nThe contained PractitionerRole:\r\n\r\n```json\r\n{\r\n    \"resourceType\": \"MedicationDispense\",\r\n    \"id\": \"06167339-9337-d030-0366-514a6a46da17\",\r\n    \"contained\": [\r\n        {\r\n            \"resourceType\": \"PractitionerRole\",\r\n            \"id\": \"performer\",\r\n            \"practitioner\": {\r\n                \"identifier\": {\r\n                    \"system\": \"https://fhir.hl7.org.uk/Id/gphc-number\",\r\n                    \"value\": \"7654321\"\r\n                },\r\n                \"display\": \"Mr Peter Potion\"\r\n            },\r\n            \"organization\": {\r\n                \"identifier\": {\r\n                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                    \"value\": \"VNE51\"\r\n                },\r\n                \"display\": \"The Simple Pharmacy\"\r\n            },\r\n            \"telecom\": [\r\n                {\r\n                    \"system\": \"phone\",\r\n                    \"use\": \"work\",\r\n                    \"value\": \"01234567890\"\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n```",
                        "items": {
                            "type": "object",
                            "properties": {
                                "actor": {
                                    "minimum": 1,
                                    "type": "object",
                                    "properties": {
                                        "reference": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.performer.actor.reference|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.\n\n #### Comment\n\n Using absolute URLs provides a stable scalable approach suitable for a cloud/web context, while using relative/logical references provides a flexible approach suitable for use when trading across closed eco-system boundaries.   Absolute URLs do not need to point to a FHIR RESTful server, though this is the preferred approach. If the URL conforms to the structure \"/[type]/[id]\" then it should be assumed that the reference is to a FHIR RESTful server."
                                        }
                                    },
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.performer.actor|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalPractitionerRoleMinimalPlusTelecom](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole-MinimalPlusTelecom))|\n\n<br/>\n\n #### Definition\n\n The device, practitioner, etc. who performed the action.  It should be assumed that the actor is the dispenser of the medication.\n\n #### Constraints \n\n- **performer** (*ERROR*) An identifier reference or resource reference must be provided"
                                }
                            }
                        }
                    },
                    "authorizingPrescription": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.authorizingPrescription|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)|\n\n<br/>\n\n #### Definition\n\n A reference to the `MedicationRequest`. \r\n\r\n```json\r\n\"authorizingPrescription\": [\r\n    {\r\n        \"reference\": \"#m1\"\r\n    }\r\n]\r\n```\r\n\r\nWhen a MedicationDispesne is sent in a FHIR Message bundle, which is the case with EPS NextGen `dispense-notifications`, a contained MedicationRequest is required. \r\n\r\nThis MedicationRequest **MUST** follow the rules in [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest) and it is strongly recommended to reuse the `MedicationRequest` received when the prescription was downloaded. \r\n\r\nFor example:\r\n\r\n```json \r\n{\r\n                \"resourceType\": \"MedicationDispense\",\r\n                \"contained\":  [\r\n                    {\r\n                        \"resourceType\": \"MedicationRequest\",\r\n                        \"id\": \"m1\",\r\n                        \"identifier\":  [\r\n                            {\r\n                                \"system\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\",\r\n                                \"value\": \"299c610b-f4f1-4eac-a7d7-4fb6b0556e11\"\r\n                            }\r\n                        ],\r\n                        \"status\": \"active\",\r\n                        \"intent\": \"order\",\r\n                        \"medicationCodeableConcept\": {\r\n                            \"coding\":  [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"code\": \"39720311000001101\",\r\n                                    \"display\": \"Paracetamol 500mg soluble tablets\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"subject\": {\r\n                            \"identifier\": {\r\n                                \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n                                \"value\": \"9876543210\"\r\n                            }\r\n                        },\r\n                        \"groupIdentifier\": {\r\n                            \"extension\":  [\r\n                                {\r\n                                    \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId\",\r\n                                    \"valueIdentifier\": {\r\n                                        \"system\": \"https://fhir.nhs.uk/Id/prescription\",\r\n                                        \"value\": \"b2fc79f0-2793-4736-9b2d-0976c21e73a5\"\r\n                                    }\r\n                                }\r\n                            ],\r\n                            \"system\": \"https://fhir.nhs.uk/Id/prescription-order-number\",\r\n                            \"value\": \"82D996-C81010-11DB12\"\r\n                        },\r\n                        \"dispenseRequest\": {\r\n                            \"quantity\": {\r\n                                \"value\": 100,\r\n                                \"unit\": \"tablet\",\r\n                                \"system\": \"http://snomed.info/sct\",\r\n                                \"code\": \"732936001\"\r\n                            }\r\n                        },\r\n                        \"substitution\": {\r\n                            \"allowedBoolean\": false\r\n                        }\r\n                    }\r\n                ],\r\n                \"authorizingPrescription\":  [\r\n                    {\r\n                        \"reference\": \"#m1\"\r\n                    }\r\n                ],\r\n```\r\n\r\nThis is based on a `MedicationRequest` in this implementation guide.\r\nThe uuid resource references are not permitted and must be replaced with identifier references. E.g. in this section from the `$release` \r\n\r\n```json\r\n        \"subject\": {\r\n            \"reference\": \"urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2\"\r\n        },\r\n        \"authoredOn\": \"2020-12-21T18:15:29+00:00\",\r\n        \"requester\": {\r\n            \"reference\": \"urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666\"\r\n        },\r\n```\r\n\r\nThe requester reference can be removed and the subject reference changed to use the Patient's NHSNumber e.g. \r\n\r\n```json\r\n        \"subject\": {\r\n            \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"9876543210\"\r\n        }\r\n    },\r\n```\n\n #### Comment\n\n Maps to basedOn in Event logical model.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "reference": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.authorizingPrescription.reference|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.\n\n #### Comment\n\n Using absolute URLs provides a stable scalable approach suitable for a cloud/web context, while using relative/logical references provides a flexible approach suitable for use when trading across closed eco-system boundaries.   Absolute URLs do not need to point to a FHIR RESTful server, though this is the preferred approach. If the URL conforms to the structure \"/[type]/[id]\" then it should be assumed that the reference is to a FHIR RESTful server."
                                }
                            }
                        }
                    },
                    "type": {
                        "minimum": 0,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.type|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationDispenseType](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-medicationdispense-type) (Required)A ValueSet to identify the type of medication item status. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Indicates the type of dispensing event that is performed. For example, Trial Fill, Completion of Trial, Partial Fill, Emergency Fill, Samples, etc.\r\n\r\n```json\r\n\"type\": {\r\n    \"coding\": [\r\n        {\r\n            \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\r\n            \"code\": \"0001\",\r\n            \"display\": \"Item fully dispensed\"\r\n        }\r\n    ]\r\n}\r\n```"
                    },
                    "quantity": {
                        "minimum": 0,
                        "type": "object",
                        "properties": {
                            "value": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.quantity.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[decimal](https://www.hl7.org/fhir/datatypes.html#decimal)|\n\n<br/>\n\n #### Definition\n\n The value of the measured amount. The value includes an implicit precision in the presentation of the value.\n\n #### Requirements\n\n Precision is handled implicitly in almost all cases of measurement.\n\n #### Comment\n\n The implicit precision in the value should always be honored. Monetary values have their own rules for handling precision (refer to standard accounting text books)."
                            },
                            "unit": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.quantity.unit|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A human-readable form of the unit.\n\n #### Requirements\n\n There are many representations for units of measure and in many contexts, particular representations are fixed and required. I.e. mcg for micrograms."
                            },
                            "system": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.quantity.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the system that provides the coded form of the unit.\n\n #### Requirements\n\n Need to know the system that defines the coded form of the unit."
                            },
                            "code": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.quantity.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A computer processable form of the unit in some unit representation system.\n\n #### Requirements\n\n Need a computable form of the unit that is fixed across all forms. UCUM provides this for quantities, but SNOMED CT provides many units of interest.\n\n #### Comment\n\n The preferred system is UCUM, but SNOMED CT can also be used (for customary units) or ISO 4217 for currency.  The context of use may additionally require a code from a particular system."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.quantity|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Quantity](https://www.hl7.org/fhir/datatypes.html#Quantity)([SimpleQuantity](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/SimpleQuantity))|\n\n<br/>\n\n #### Definition\n\n The amount of medication that has been dispensed. Includes unit of measure.\r\n\r\n```json\r\n\"quantity\": {\r\n    \"value\": 28,\r\n    \"unit\": \"capsule\",\r\n    \"system\": \"http://snomed.info/sct\",\r\n    \"code\": \"3316911000001105\"\r\n}\r\n```"
                    },
                    "daysSupply": {
                        "minimum": 0,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.daysSupply|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Quantity](https://www.hl7.org/fhir/datatypes.html#Quantity)([SimpleQuantity](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/SimpleQuantity))|\n\n<br/>\n\n #### Definition\n\n The amount of medication expressed as a timing amount.\r\n\r\n```json\r\n\"daysSupply\": {\r\n    \"value\": 7,\r\n    \"unit\": \"Day\",\r\n    \"system\": \"http://unitsofmeasure.org\",\r\n    \"code\": \"d\"\r\n}\r\n```"
                    },
                    "whenPrepared": {
                        "minimum": 0,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.whenPrepared|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)|\n\n<br/>\n\n #### Definition\n\n The time when the dispensed product was packaged and reviewed.\r\n\r\n```json\r\n\"whenPrepared\": \"2004-09-16T16:30:00+00:00\"\r\n```"
                    },
                    "whenHandedOver": {
                        "minimum": 0,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.whenHandedOver|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)|\n\n<br/>\n\n #### Definition\n\n The time the dispensed product was provided to the patient or their representative.\r\nIn HL7 v3 this is: *The date and local time that the medication is issued by the dispenser*.\r\n\r\n```json\r\n\"whenHandedOver\": \"2004-09-16T16:30:00+00:00\"\r\n```"
                    },
                    "dosageInstruction": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|MedicationDispense.dosageInstruction|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Dosage](https://www.hl7.org/fhir/datatypes.html#Dosage)([NHSDigitalDosage](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Dosage))|\n\n<br/>\n\n #### Definition\n\n At present only the `text` element **MUST** be provided. It is recommended the guidance in [FHIR Dose Syntax Implementation Guidance](https://developer.nhs.uk/apis/dose-syntax-implementation-1-3-2-alpha/dosage-overview.html) is followed. \r\n\r\nNote the structure of this section is similar as the [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest) from the `prescription-order`.\r\n\r\n```json\r\n\"dosageInstruction\": [\r\n    {\r\n        \"text\": \"4 times a day for 7 days\",\r\n        \"timing\": {\r\n            \"repeat\": {\r\n                \"boundsDuration\": {\r\n                    \"value\": 7,\r\n                    \"unit\": \"d\"\r\n                },\r\n                \"frequency\": 4,\r\n                \"period\": 1,\r\n                \"periodUnit\": \"d\"\r\n            }\r\n        },\r\n        \"doseAndRate\": [\r\n            {\r\n                \"doseQuantity\": {\r\n                    \"value\": 1,\r\n                    \"unit\": \"capsule\",\r\n                    \"system\": \"http://snomed.info/sct\",\r\n                    \"code\": \"3316911000001105\"\r\n                }\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\n\n #### Comment\n\n When the dose or rate is intended to change over the entire administration period (e.g. Tapering dose prescriptions), multiple instances of dosage instructions will need to be supplied to convey the different doses/rates. The pharmacist reviews the medication order prior to dispense and updates the dosageInstruction based on the actual product being dispensed.",
                        "items": {
                            "type": "object"
                        }
                    }
                },
                "description": "HL7 FHIR Schema [MedicationDispense](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/MedicationDispense).. HL7 FHIR Documentation [MedicationDispense](\"https://www.hl7.org/fhir/MedicationDispense.html\")",
                "externalDocs": {
                    "description": "MedicationDispense",
                    "url": "https://www.hl7.org/fhir/MedicationDispense.html"
                }
            },
            "Parameters": {
                "type": "object",
                "description": "HL7 FHIR Schema [Parameters](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/Parameters).. HL7 FHIR Documentation [Parameters](\"https://www.hl7.org/fhir/Parameters.html\")",
                "externalDocs": {
                    "description": "Parameters",
                    "url": "https://www.hl7.org/fhir/Parameters.html"
                }
            },
            "List": {
                "type": "object",
                "properties": {
                    "status": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|List.status|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[ListStatus](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/list-status|4.0.1) (Required)The current state of the list. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n Indicates the current state of this list.\n\n #### Comment\n\n This element is labeled as a modifier because the status contains codes that mark the resource as not currently valid."
                    },
                    "mode": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|List.mode|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[ListMode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/list-mode|4.0.1) (Required)The processing mode that applies to this list. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n How this list was prepared - whether it is a working list that is suitable for being maintained on an ongoing basis, or if it represents a snapshot of a list of items from another source, or whether it is a prepared list where items may be marked as added, modified or deleted.\n\n #### Requirements\n\n Lists are used in various ways, and it must be known in what way it is safe to use them.\n\n #### Comment\n\n This element is labeled as a modifier because a change list must not be misunderstood as a complete list."
                    }
                },
                "description": "HL7 FHIR Schema [List](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/List).. HL7 FHIR Documentation [List](\"https://www.hl7.org/fhir/List.html\")\n\n Defines the UK Core constraints and extensions on the List resource for the minimal set of data to query and retrieve a list of information.\n\n This profile allows exchange of a flat, possibly ordered collection of records. The list profile can be used in many places, including allergies, medications, alerts, family history, medical history, etc. This list profile can be used to support individual-specific clinical lists as well as lists that manage workflows such as tracking patients, managing teaching cases, etc. The list profile supports lists that are homogeneous – consisting of only one type of resource (e.g. allergy lists) as well as heterogeneous – containing a variety of resources (e.g. a problem list including Conditions, AllergyIntolerances, recent Procedures, etc.).",
                "externalDocs": {
                    "description": "List",
                    "url": "https://www.hl7.org/fhir/List.html"
                }
            },
            "Claim": {
                "type": "object",
                "properties": {
                    "extension:replacementOf": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.extension:replacementOf|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionreplacementOf](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-replacementOf))|\n\n<br/>\n\n #### Definition\n\n Used for replacement Claims, this should reference the Claim.identifier of the Claim being replaced.\r\n\r\n```json\r\n\r\n  \"extension\":  [\r\n        {\r\n            \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-replacementOf\",\r\n            \"valueIdentifier\": {\r\n                \"value\": \"46055273-3001-41bd-86a0-f8dba7f2161a\"\r\n            }\r\n        }\r\n    ],\r\n\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "extension:agent": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.extension:agent|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionProvenanceAgent](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent))|\n\n<br/>\n\n #### Definition\n\n The person submitting/authoring the Claim\r\n\r\n```json\r\n\r\n   \"extension\":  [\r\n        {\r\n            \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent\",\r\n            \"valueReference\": {\r\n                \"identifier\": {\r\n                    \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",\r\n                    \"value\": \"884562163557\"\r\n                },\r\n                \"display\": \"dummy full name\"\r\n            }\r\n        }\r\n    ],\r\n```",
                        "items": {
                            "type": "object"
                        }
                    },
                    "identifier": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n **MUST** be unique for each Claim. In EPS this must be a UUID with a system of `https://fhir.nhs.uk/Id/prescription-dispense-item-number`\r\n\r\n```json\r\n\r\n      \"identifier\":  [\r\n          {\r\n              \"system\": \"https://fhir.nhs.uk/Id/prescription-dispense-item-number\",\r\n              \"value\": \"4509B70D-D8B8-EA03-1105-64557CB54A29\"\r\n          }\r\n      ],\r\n\r\n```\n\n #### Requirements\n\n Allows claims to be distinguished and referenced.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "system": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                },
                                "value": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                }
                            }
                        }
                    },
                    "status": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.status|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[FinancialResourceStatusCodes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/fm-status|4.0.1) (Required)A code specifying the state of the resource instance. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n For EPS the following **MUST** be used.\r\n\r\n```json\r\n\r\n      \"status\": \"active\",\r\n      \"type\": {\r\n          \"coding\":  [\r\n              {\r\n                   \"system\": \"http://terminology.hl7.org/CodeSystem/claim-type\",\r\n                    \"code\": \"pharmacy\",\r\n                    \"display\": \"Pharmacy\"\r\n             }             \r\n          ]\r\n      },\r\n      \"use\": \"claim\",\r\n\r\n```\n\n #### Requirements\n\n Need to track the status of the resource as 'draft' resources may undergo further edits while 'active' resources are immutable and may only have their status changed to 'cancelled'.\n\n #### Comment\n\n This element is labeled as a modifier because the status contains codes that mark the resource as not currently valid."
                    },
                    "type": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "coding": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.type.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.type.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|http://terminology.hl7.org/CodeSystem/claim-type|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                        },
                                        "code": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.type.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|pharmacy|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                        }
                                    }
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.type|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[ClaimTypeCodes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/claim-type) (Extensible)The type or discipline-style of the claim. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n The category of claim, e.g. oral, pharmacy, vision, institutional, professional.\n\n #### Requirements\n\n Claim type determine the general sets of business rules applied for information requirements and adjudication.\n\n #### Comment\n\n The majority of jurisdictions use: oral, pharmacy, vision, professional and institutional, or variants on those terms, as the general styles of claims. The valueset is extensible to accommodate other jurisdictional requirements."
                    },
                    "use": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.use|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|claim|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[Use](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/claim-use|4.0.1) (Required)The purpose of the Claim: predetermination, preauthorization, claim. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A code to indicate whether the nature of the request is: to request adjudication of products and services previously rendered; or requesting authorization and adjudication for provision in the future; or requesting the non-binding adjudication of the listed products and services which could be provided in the future.\n\n #### Requirements\n\n This element is required to understand the nature of the request for adjudication."
                    },
                    "patient": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "identifier": {
                                "minimum": 1,
                                "type": "object",
                                "properties": {
                                    "system": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.patient.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/Id/nhs-number|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                    },
                                    "value": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.patient.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.patient.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n An identifier for the target resource. This is used when there is no way to reference the other resource directly, either because the entity it represents is not available through a FHIR server, or because there is no way for the author of the resource to convert a known identifier to an actual location. There is no requirement that a Reference.identifier point to something that is actually exposed as a FHIR instance, but it SHALL point to a business concept that would be expected to be exposed as a FHIR instance, and that instance would need to be of a FHIR resource type allowed by the reference.\n\n #### Comment\n\n When an identifier is provided in place of a reference, any system processing the reference will only be able to resolve the identifier to a reference if it understands the business context in which the identifier is used. Sometimes this is global (e.g. a national identifier) but often it is not. For this reason, none of the useful mechanisms described for working with references (e.g. chaining, includes) are possible, nor should servers be expected to be able resolve the reference. Servers may accept an identifier based reference untouched, resolve it, and/or reject it - see CapabilityStatement.rest.resource.referencePolicy.   When both an identifier and a literal reference are provided, the literal reference is preferred. Applications processing the resource are allowed - but not required - to check that the identifier matches the literal reference  Applications converting a logical reference to a literal reference may choose to leave the logical reference present, or remove it.  Reference is intended to point to a structure that can potentially be expressed as a FHIR resource, though there is no need for it to exist as an actual FHIR resource instance - except in as much as an application wishes to actual find the target of the reference. The content referred to be the identifier must meet the logical constraints implied by any limitations on what resource types are permitted for the reference.  For example, it would not be legitimate to send the identifier for a drug prescription if the type were Reference(Observation|DiagnosticReport).  One of the use-cases for Reference.identifier is the situation where no FHIR representation exists (where the type is Reference (Any)."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.patient|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([Patient](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/Patient))|\n\n<br/>\n\n #### Definition\n\n **MUST** be an identifier reference using the Patients NHS Number.\r\n\r\n```json\r\n\r\n      \"patient\": {\r\n          \"identifier\": {\r\n              \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n              \"value\": \"2300992742\"\r\n          }\r\n      },\r\n\r\n```\n\n #### Requirements\n\n The patient must be supplied to the insurer so that confirmation of coverage and service history may be considered as part of the authorization and/or adjudiction.\n\n #### Constraints \n\n- **patient-reference** (*ERROR*) An identifier reference or resource reference must be provided\n- **patient-nhs** (*ERROR*) Supplied NHS Number is outside the English and Welsh NHS Number range or length of the number is wrong."
                    },
                    "created": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.created|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)|\n\n<br/>\n\n #### Definition\n\n The date of the Claim\r\n\r\n```json\r\n\r\n  \"created\": \"2004-09-16T16:30:00+00:00\",\r\n\r\n```\n\n #### Requirements\n\n Need to record a timestamp for use by both the recipient and the issuer.\n\n #### Comment\n\n This field is independent of the date of creation of the resource as it may reflect the creation date of a source document prior to digitization. Typically for claims all services must be completed as of this date."
                    },
                    "provider": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "reference": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.provider.reference|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.\n\n #### Comment\n\n Using absolute URLs provides a stable scalable approach suitable for a cloud/web context, while using relative/logical references provides a flexible approach suitable for use when trading across closed eco-system boundaries.   Absolute URLs do not need to point to a FHIR RESTful server, though this is the preferred approach. If the URL conforms to the structure \"/[type]/[id]\" then it should be assumed that the reference is to a FHIR RESTful server."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.provider|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalPractitionerRoleMinimalPlusTelecom](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole-MinimalPlusTelecom))|\n\n<br/>\n\n #### Definition\n\n The organisation responsible for the claim, this must be a reference to a contained PractitoinerRole\r\n\r\n```json\r\n \"provider\": {\r\n        \"reference\" : \"#provider\"\r\n    },\r\n```.\r\n\r\nThe contained PractitionerRole\r\n\r\n```json\r\n{\r\n    \"resourceType\": \"Claim\",\r\n    \"id\": \"258E153F-567B-4D60-B045-BA315A6B8DB0\",\r\n    \"contained\": [\r\n        {\r\n            \"resourceType\": \"PractitionerRole\",\r\n            \"id\": \"provider\",\r\n            \"practitioner\": {\r\n                \"identifier\": {\r\n                    \"system\": \"https://fhir.hl7.org.uk/Id/gphc-number\",\r\n                    \"value\": \"2344242\"\r\n                },\r\n                \"display\": \"|Bob||Buller|\"\r\n            },\r\n            \"organization\": {\r\n                \"identifier\": {\r\n                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                    \"value\": \"FA976\"\r\n                },\r\n                \"display\": \"Bob's Pharmacy\"\r\n            },\r\n            \"telecom\": [\r\n                {\r\n                    \"system\": \"phone\",\r\n                    \"use\": \"work\",\r\n                    \"value\": \"01234567890\"\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n```\n\n #### Comment\n\n Typically this field would be 1..1 where this party is responsible for the claim but not necessarily professionally responsible for the provision of the individual products and services listed below."
                    },
                    "priority": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "coding": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.priority.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.priority.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|http://terminology.hl7.org/CodeSystem/processpriority|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                        },
                                        "code": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.priority.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|normal|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                        }
                                    }
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.priority|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[ProcessPriorityCodes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/process-priority) (Example)The timeliness with which processing is required: stat, normal, deferred. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Desired processing ugency. Fixed value.\r\n\r\n```json\r\n\"priority\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://terminology.hl7.org/CodeSystem/processpriority\",\r\n                \"code\": \"normal\"\r\n            }\r\n        ]\r\n    }\r\n```\n\n #### Requirements\n\n The provider may need to indicate their processing requirements so that the processor can indicate if they are unable to comply.\n\n #### Comment\n\n If a claim processor is unable to complete the processing as per the priority then they should generate and error and not process the request."
                    },
                    "prescription": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "extension": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.prescription.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                                "items": {
                                    "type": "object"
                                }
                            },
                            "extension:groupIdentifier": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.prescription.extension:groupIdentifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionDMGroupIdentifier](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier))|\n\n<br/>\n\n #### Definition\n\n Optional Extension Element - found in all resources.",
                                "items": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.prescription|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([DeviceRequest](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/DeviceRequest) [MedicationRequest](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/MedicationRequest) [VisionPrescription](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/VisionPrescription))|\n\n<br/>\n\n #### Definition\n\n References to the original prescription, the `groupIdentifier` contains both the ShortForm prescription id and long form UUID variant. See [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest) for more details.\r\n\r\nThis MUST not be used to reference the MedicationRequest.\r\n\r\n```json\r\n\r\n\"prescription\": {\r\n    \"extension\": [\r\n        {\r\n            \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier\",\r\n            \"extension\": [\r\n                {\r\n                    \"url\": \"shortForm\",\r\n                    \"valueIdentifier\": {\r\n                        \"system\": \"https://fhir.nhs.uk/Id/prescription-order-number\",\r\n                        \"value\": \"82D996-C81010-11DB12\"\r\n                    }\r\n                },\r\n                {\r\n                    \"url\": \"UUID\",\r\n                    \"valueIdentifier\": {\r\n                        \"system\": \"https://fhir.nhs.uk/Id/prescription\",\r\n                        \"value\": \"b2fc79f0-2793-4736-9b2d-0976c21e73a5\"\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n},\r\n\r\n```\n\n #### Requirements\n\n Required to authorize the dispensing of controlled substances and devices."
                    },
                    "payee": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "type": {
                                "minimum": 1,
                                "type": "object",
                                "properties": {
                                    "coding": {
                                        "minimum": 1,
                                        "type": "array",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.payee.type.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "system": {
                                                    "minimum": 1,
                                                    "type": "string",
                                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.payee.type.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|http://terminology.hl7.org/CodeSystem/payeetype|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                                },
                                                "code": {
                                                    "minimum": 1,
                                                    "type": "string",
                                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.payee.type.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|provider|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                                },
                                                "display": {
                                                    "minimum": 1,
                                                    "type": "string",
                                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.payee.type.coding.display|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A representation of the meaning of the code in the system, following the rules of the system.\n\n #### Requirements\n\n Need to be able to carry a human-readable meaning of the code for readers that do not know  the system."
                                                }
                                            }
                                        }
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.payee.type|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[Claim Payee Type Codes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/payeetype) (Example)A code for the party to be reimbursed. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Type of Party to be reimbursed: subscriber, provider, other.\n\n #### Requirements\n\n Need to know who should receive payment with the most common situations being the Provider (assignment of benefits) or the Subscriber."
                            },
                            "party": {
                                "minimum": 1,
                                "type": "object",
                                "properties": {
                                    "identifier": {
                                        "minimum": 1,
                                        "type": "object",
                                        "properties": {
                                            "system": {
                                                "minimum": 1,
                                                "type": "string",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.payee.party.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/Id/ods-organization-code|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                            },
                                            "value": {
                                                "minimum": 1,
                                                "type": "string",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.payee.party.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                            }
                                        },
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.payee.party.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n An identifier for the target resource. This is used when there is no way to reference the other resource directly, either because the entity it represents is not available through a FHIR server, or because there is no way for the author of the resource to convert a known identifier to an actual location. There is no requirement that a Reference.identifier point to something that is actually exposed as a FHIR instance, but it SHALL point to a business concept that would be expected to be exposed as a FHIR instance, and that instance would need to be of a FHIR resource type allowed by the reference.\n\n #### Comment\n\n When an identifier is provided in place of a reference, any system processing the reference will only be able to resolve the identifier to a reference if it understands the business context in which the identifier is used. Sometimes this is global (e.g. a national identifier) but often it is not. For this reason, none of the useful mechanisms described for working with references (e.g. chaining, includes) are possible, nor should servers be expected to be able resolve the reference. Servers may accept an identifier based reference untouched, resolve it, and/or reject it - see CapabilityStatement.rest.resource.referencePolicy.   When both an identifier and a literal reference are provided, the literal reference is preferred. Applications processing the resource are allowed - but not required - to check that the identifier matches the literal reference  Applications converting a logical reference to a literal reference may choose to leave the logical reference present, or remove it.  Reference is intended to point to a structure that can potentially be expressed as a FHIR resource, though there is no need for it to exist as an actual FHIR resource instance - except in as much as an application wishes to actual find the target of the reference. The content referred to be the identifier must meet the logical constraints implied by any limitations on what resource types are permitted for the reference.  For example, it would not be legitimate to send the identifier for a drug prescription if the type were Reference(Observation|DiagnosticReport).  One of the use-cases for Reference.identifier is the situation where no FHIR representation exists (where the type is Reference (Any)."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.payee.party|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalOrganization](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Organization))|\n\n<br/>\n\n #### Definition\n\n Reference to the individual or organization to whom any payment will be made.\n\n #### Requirements\n\n Need to provide demographics if the payee is not 'subscriber' nor 'provider'.\n\n #### Comment\n\n Not required if the payee is 'subscriber' or 'provider'."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.payee|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n The recipient of benefits payable. This is the ODS Code of the Pharmacy (provider) making the Claim.\r\n\r\n```json\r\n\r\n\"payee\": {\r\n    \"type\": {\r\n        \"coding\": [\r\n            {\r\n                \"system\": \"http://terminology.hl7.org/CodeSystem/payeetype\",\r\n                \"value\": \"provider\",\r\n                \"display\": \"Provider\"\r\n            }\r\n        ]\r\n    },\r\n    \"party\": {\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n            \"value\": \"AB123\"\r\n        },\r\n        \"display\": \"The Simple Pharmacy\"\r\n    }\r\n}\r\n```\n\n #### Requirements\n\n The provider needs to specify who they wish to be reimbursed and the claims processor needs express who they will reimburse.\n\n #### Comment\n\n Often providers agree to receive the benefits payable to reduce the near-term costs to the patient. The insurer may decline to pay the provider and choose to pay the subscriber instead."
                    },
                    "insurance": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.insurance|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n For EPS this is the NHS Business Services Authority. The sequence value must always be 1.\r\n\r\n```json\r\n\r\n\"insurance\":  [\r\n    {\r\n        \"sequence\": 1,\r\n        \"focal\": true,\r\n        \"coverage\": {\r\n            \"identifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n                \"value\": \"T1450\"\r\n            },\r\n            \"display\": \"NHS BUSINESS SERVICES AUTHORITY\"\r\n        }\r\n    }\r\n],\r\n```\n\n #### Requirements\n\n At least one insurer is required for a claim to be a claim.\n\n #### Comment\n\n All insurance coverages for the patient which may be applicable for reimbursement, of the products and services listed in the claim, are typically provided in the claim to allow insurers to confirm the ordering of the insurance coverages relative to local 'coordination of benefit' rules. One coverage (and only one) with 'focal=true' is to be used in the adjudication of this claim. Coverages appearing before the focal Coverage in the list, and where 'Coverage.subrogation=false', should provide a reference to the ClaimResponse containing the adjudication results of the prior claim.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "sequence": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.insurance.sequence|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[positiveInt](https://www.hl7.org/fhir/datatypes.html#positiveInt)|\n\n<br/>\n\n #### Definition\n\n A number to uniquely identify insurance entries and provide a sequence of coverages to convey coordination of benefit order.\n\n #### Requirements\n\n To maintain order of the coverages."
                                },
                                "focal": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.insurance.focal|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[boolean](https://www.hl7.org/fhir/datatypes.html#boolean)|\n\n<br/>\n\n #### Definition\n\n A flag to indicate that this Coverage is to be used for adjudication of this claim when set to true.\n\n #### Requirements\n\n To identify which coverage in the list is being used to adjudicate this claim.\n\n #### Comment\n\n A patient may (will) have multiple insurance policies which provide reimbursement for healthcare services and products. For example a person may also be covered by their spouse's policy and both appear in the list (and may be from the same insurer). This flag will be set to true for only one of the listed policies and that policy will be used for adjudicating this claim. Other claims would be created to request adjudication against the other listed policies."
                                },
                                "coverage": {
                                    "minimum": 1,
                                    "type": "object",
                                    "properties": {
                                        "identifier": {
                                            "minimum": 1,
                                            "type": "object",
                                            "properties": {
                                                "system": {
                                                    "minimum": 1,
                                                    "type": "string",
                                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.insurance.coverage.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|https://fhir.nhs.uk/Id/ods-organization-code|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                                },
                                                "value": {
                                                    "minimum": 1,
                                                    "type": "string",
                                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.insurance.coverage.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                                }
                                            },
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.insurance.coverage.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n An identifier for the target resource. This is used when there is no way to reference the other resource directly, either because the entity it represents is not available through a FHIR server, or because there is no way for the author of the resource to convert a known identifier to an actual location. There is no requirement that a Reference.identifier point to something that is actually exposed as a FHIR instance, but it SHALL point to a business concept that would be expected to be exposed as a FHIR instance, and that instance would need to be of a FHIR resource type allowed by the reference.\n\n #### Comment\n\n When an identifier is provided in place of a reference, any system processing the reference will only be able to resolve the identifier to a reference if it understands the business context in which the identifier is used. Sometimes this is global (e.g. a national identifier) but often it is not. For this reason, none of the useful mechanisms described for working with references (e.g. chaining, includes) are possible, nor should servers be expected to be able resolve the reference. Servers may accept an identifier based reference untouched, resolve it, and/or reject it - see CapabilityStatement.rest.resource.referencePolicy.   When both an identifier and a literal reference are provided, the literal reference is preferred. Applications processing the resource are allowed - but not required - to check that the identifier matches the literal reference  Applications converting a logical reference to a literal reference may choose to leave the logical reference present, or remove it.  Reference is intended to point to a structure that can potentially be expressed as a FHIR resource, though there is no need for it to exist as an actual FHIR resource instance - except in as much as an application wishes to actual find the target of the reference. The content referred to be the identifier must meet the logical constraints implied by any limitations on what resource types are permitted for the reference.  For example, it would not be legitimate to send the identifier for a drug prescription if the type were Reference(Observation|DiagnosticReport).  One of the use-cases for Reference.identifier is the situation where no FHIR representation exists (where the type is Reference (Any)."
                                        }
                                    },
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.insurance.coverage|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([Coverage](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/Coverage))|\n\n<br/>\n\n #### Definition\n\n Reference to the insurance card level information contained in the Coverage resource. The coverage issuing insurer will use these details to locate the patient's actual coverage within the insurer's information system.\n\n #### Requirements\n\n Required to allow the adjudicator to locate the correct policy and history within their information system."
                                }
                            }
                        }
                    },
                    "item": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n <table class=\"regular\" style=\"width:100%\">\r\n <thead>\r\n   <tr>\r\n     <th data-no-sort width=\"25%\"></th>\r\n     <th data-no-sort width=\"25%\">item (prescription)</th>\r\n     <th data-no-sort width=\"25%\">detail (requested medication)</th>\r\n     <th data-no-sort width=\"25%\">subDetail (dispensed medication)</th>\r\n   </tr>\r\n </thead>\r\n <tbody>\r\n  <tr>\r\n    <td>\r\n    productOrService\r\n    </td>\r\n    <td>\r\n    16076005 Prescription\r\n    </td>\r\n    <td>\r\n    dm+d code of requested medication\r\n    </td>\r\n    <td>\r\n    dm+d code of dispensed medication\r\n    </td>\r\n   </tr>\r\n   <tr>\r\n    <td>\r\n    programCode\r\n    </td>\r\n    <td>\r\n    exemptionEvidence\r\n    prescriptionChargeExemption\r\n    </td>\r\n    <td>\r\n    prescriptionCharge\r\n    dispensingEndorsement\r\n    additionalInstructions\r\n    </td>\r\n    <td>\r\n    </td>\r\n   </tr>\r\n   <tr>\r\n   <tr>\r\n    <td>\r\n    modifier\r\n    </td>\r\n    <td>\r\n    </td>\r\n    <td>\r\n    MedicationDispenseType\r\n    </td>\r\n    <td>\r\n    </td>\r\n   </tr>\r\n   <tr>\r\n     <tr>\r\n    <td>\r\n    quantity\r\n    </td>\r\n    <td>\r\n    </td>\r\n    <td>\r\n    MedicationRequest.quantity\r\n    </td>\r\n    <td>\r\n    MedicationDispense.quantity\r\n    </td>\r\n   </tr>\r\n   <tr>\r\n   </tbody>\r\n</table>\n\n #### Requirements\n\n The items to be processed for adjudication.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "extension": {
                                    "minimum": 1,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                                    "items": {
                                        "type": "object"
                                    }
                                },
                                "extension:prescriptionStatus": {
                                    "minimum": 1,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.extension:prescriptionStatus|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionEPSTaskBusinessStatus](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus))|\n\n<br/>\n\n #### Definition\n\n This will generally match the value of the last `dispense-notification` message.\r\n\r\nThis should match the `status` of the associated [NHSDigital-Task](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Task)\r\n\r\n```json\r\n\r\n\"extension\": [\r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus\",\r\n        \"valueCoding\": {\r\n            \"system\": \"https://fhir.nhs.uk/CodeSystem/EPS-task-business-status\",\r\n            \"code\": \"0006\",\r\n            \"display\": \"Dispensed\"\r\n        }\r\n    }\r\n],",
                                    "items": {
                                        "type": "object"
                                    }
                                },
                                "extension:prescriptionStatusReason": {
                                    "minimum": 0,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.extension:prescriptionStatusReason|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionEPSTaskBusinessStatusReason](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatusReason))|\n\n<br/>\n\n #### Definition\n\n Mandatory if the medication was not dispensed. \r\nThis should match the `statusReason` of the associated [NHSDigital-Task](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Task)\r\n\r\n```json\r\n\r\n\"extension\": [\r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatusReason\",\r\n        \"valueCoding\": {\r\n            \"system\": \"https://fhir.nhs.uk/ValueSet/DM-medicationdispense-status-reason\",\r\n            \"code\": \"0001\",\r\n            \"display\": \"Not required as instructed by the patient\"\r\n        }\r\n    }\r\n],\r\n\r\n```",
                                    "items": {
                                        "type": "object"
                                    }
                                },
                                "sequence": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.sequence|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[positiveInt](https://www.hl7.org/fhir/datatypes.html#positiveInt)|\n\n<br/>\n\n #### Definition\n\n A number to uniquely identify item entries.\n\n #### Requirements\n\n Necessary to provide a mechanism to link to items from within the claim and within the adjudication details of the ClaimResponse."
                                },
                                "productOrService": {
                                    "minimum": 1,
                                    "type": "object",
                                    "properties": {
                                        "coding": {
                                            "minimum": 1,
                                            "type": "array",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.productOrService.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "system": {
                                                        "minimum": 1,
                                                        "type": "string",
                                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.productOrService.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|http://snomed.info/sct|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                                    },
                                                    "code": {
                                                        "minimum": 1,
                                                        "type": "string",
                                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.productOrService.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|Fixed Value|16076005|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                                    },
                                                    "display": {
                                                        "minimum": 1,
                                                        "type": "string",
                                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.productOrService.coding.display|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A representation of the meaning of the code in the system, following the rules of the system.\n\n #### Requirements\n\n Need to be able to carry a human-readable meaning of the code for readers that do not know  the system."
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.productOrService|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[USCLSCodes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/service-uscls) (Example)Allowable service and product codes. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Mandatory fixed value.\r\n\r\n```json\r\n\r\n\"productOrService\": {\r\n    \"coding\":  [\r\n        {\r\n            \"system\": \"http://snomed.info/sct\",\r\n            \"code\": \"16076005\",\r\n            \"display\": \"Prescription\"\r\n        }\r\n    ]\r\n},\r\n\r\n```\n\n #### Requirements\n\n Necessary to state what was provided or done.\n\n #### Comment\n\n To be expanded. At present a fixed SNOMED CT value"
                                },
                                "programCode": {
                                    "minimum": 0,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.programCode|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[ExampleProgramReasonCodes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/ex-program-code) (Example)Prescription Charge Exemption |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Exemption evidence - code to denote which evidence for exemption has been seen.\r\n\r\nPrescription Charge Exemption - code to denote the exemption reason\r\n\r\n\"programCode\": [\r\n    {\r\n        \"coding\": [\r\n              {\r\n                \"code\": \"0001\",\r\n                \"system\": \"https://fhir.nhs.uk/CodeSystem/prescription-charge-exemption\",\r\n                \"display\": \"Patient has paid appropriate charges\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"coding\": [\r\n              {\r\n                \"system\": \"https://fhir.nhs.uk/CodeSystem/DM-exemption-evidence\",\r\n                \"code\": \"no-evidence-seen\",\r\n                \"display\": \"No Evidence Seen\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n\r\n```\n\n #### Requirements\n\n Commonly used in in the identification of publicly provided program focused on population segments or disease classifications.\n\n #### Comment\n\n For example: Neonatal program, child dental program or drug users recovery program.",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "coding": {
                                                "minimum": 1,
                                                "type": "array",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.programCode.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "system": {
                                                            "minimum": 1,
                                                            "type": "string",
                                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.programCode.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                                        },
                                                        "code": {
                                                            "minimum": 1,
                                                            "type": "string",
                                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.programCode.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "programCode:exemptionEvidence": {
                                    "minimum": 0,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.programCode:exemptionEvidence|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[NHSBSAPrescriptionExemptionEvidence](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-vs-exemption-evidence) (Extensible)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Identifies the program under which this may be recovered.\n\n #### Requirements\n\n Commonly used in in the identification of publicly provided program focused on population segments or disease classifications.\n\n #### Comment\n\n For example: Neonatal program, child dental program or drug users recovery program.",
                                    "items": {
                                        "type": "object"
                                    }
                                },
                                "programCode:prescriptionChargeExemption": {
                                    "minimum": 1,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.programCode:prescriptionChargeExemption|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[DMprescriptionchargeexemption](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-prescription-charge-exemption) (Required)Prescription Charge Exemption |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Identifies the program under which this may be recovered.\n\n #### Requirements\n\n Commonly used in in the identification of publicly provided program focused on population segments or disease classifications.\n\n #### Comment\n\n For example: Neonatal program, child dental program or drug users recovery program.",
                                    "items": {
                                        "type": "object"
                                    }
                                },
                                "detail": {
                                    "minimum": 1,
                                    "type": "array",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n A claim detail line. Relates to MedicationRequest\n\n #### Requirements\n\n The items to be processed for adjudication.",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "extension": {
                                                "minimum": 2,
                                                "type": "array",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.extension|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|2..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)|\n\n<br/>\n\n #### Definition\n\n An Extension",
                                                "items": {
                                                    "type": "object"
                                                }
                                            },
                                            "extension:medicationRequest": {
                                                "minimum": 1,
                                                "type": "array",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.extension:medicationRequest|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionClaimMedicationRequestReference](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference))|\n\n<br/>\n\n #### Definition\n\n This should match the `identifier` of the associated [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest)\r\n\r\n```json\r\n\r\n\"extension\":  [\r\n    {\r\n        \"url\": \"https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference\",\r\n        \"valueReference\": {\r\n            \"identifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/prescription-order-item-number\",\r\n                \"value\": \"33560bee-bc0c-4e3b-a155-71591eee9ca5\"\r\n            }\r\n        }\r\n    }\r\n],\r\n\r\n```",
                                                "items": {
                                                    "type": "object"
                                                }
                                            },
                                            "extension:sequenceIdentifier": {
                                                "minimum": 1,
                                                "type": "array",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.extension:sequenceIdentifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Extension](https://www.hl7.org/fhir/datatypes.html#Extension)([ExtensionClaimSequenceIdentifier](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier))|\n\n<br/>\n\n #### Definition\n\n Optional Extension Element - found in all resources.",
                                                "items": {
                                                    "type": "object"
                                                }
                                            },
                                            "sequence": {
                                                "minimum": 1,
                                                "type": "string",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.sequence|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[positiveInt](https://www.hl7.org/fhir/datatypes.html#positiveInt)|\n\n<br/>\n\n #### Definition\n\n An integer to identify the item within the resource. Fixed value.\r\n\r\n```json\r\n\r\n\"sequence\": 1,\r\n\r\n```\n\n #### Requirements\n\n Necessary to provide a mechanism to link to items from within the claim and within the adjudication details of the ClaimResponse."
                                            },
                                            "productOrService": {
                                                "minimum": 1,
                                                "type": "object",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.productOrService|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[DMMedicationRequestCode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/NHSDigital-MedicationRequest-Code) (Required)DMD Medication Code |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n This should match the `medicationCodeableConcept` of the associated [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest)\r\n\r\n```json\r\n\r\n\"productOrService\": {\r\n    \"coding\":  [\r\n        {\r\n            \"system\": \"http://snomed.info/sct\",\r\n            \"code\": \"322237000\",\r\n            \"display\": \"Paracetamol 500mg soluble tablets\"\r\n        }\r\n    ]\r\n},\r\n\r\n```\n\n #### Requirements\n\n Necessary to state what was provided or done.\n\n #### Comment\n\n If this is an actual service or product line, i.e. not a Group, then use code to indicate the Professional Service or Product supplied (e.g. CTP, HCPCS, USCLS, ICD10, NCPDP, DIN, RxNorm, ACHI, CCI). If a grouping item then use a group code to indicate the type of thing being grouped e.g. 'glasses' or 'compound'."
                                            },
                                            "modifier": {
                                                "minimum": 1,
                                                "type": "array",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.modifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[MedicationDispenseType](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-medicationdispense-type) (Required)MedicationDispense Type |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n If the code is `0002 - Item not dispensed` then the extension `prescriptionStatusReason` is required.\r\n\r\nThis should match the `type` of the last associated [NHSDigital-MedicationDispense](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense)\r\n\r\n```json\r\n\r\n\"modifier\":  [\r\n    {\r\n        \"coding\":  [\r\n            {\r\n                \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationdispense-type\",\r\n                \"code\": \"0001\",\r\n                \"display\": \"Item fully dispensed\"\r\n            }\r\n        ]\r\n    }\r\n],\r\n\r\n```\n\n #### Requirements\n\n To support inclusion of the item for adjudication or to charge an elevated fee.\n\n #### Comment\n\n For example in Oral whether the treatment is cosmetic or associated with TMJ, or for Medical whether the treatment was outside the clinic or out of office hours.",
                                                "items": {
                                                    "type": "object"
                                                }
                                            },
                                            "programCode": {
                                                "minimum": 0,
                                                "type": "array",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.programCode|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[ExampleProgramReasonCodes](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/ex-program-code) (Example)Program specific reason codes. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Dispensing Endorsement  - Details of the endorsement(s) to support the claim for this medication item. \r\n\r\nCharge Payment - Details on whether a prescription charge was paid for the medication treatment.\r\n\r\n```json\r\n\r\n\"programCode\":  [\r\n    {\r\n        \"coding\":  [\r\n            {\r\n                \"system\": \"https://fhir.nhs.uk/CodeSystem/DM-prescription-charge\",\r\n                \"code\": \"paid-once\",\r\n                \"display\": \"Paid Once\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"coding\":  [\r\n            {\r\n                \"system\": \"https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement\",\r\n                \"code\": \"IP\",\r\n                \"display\": \"Invoice Price\"\r\n            }\r\n        ]\r\n    }\r\n],\r\n\r\n```\n\n #### Requirements\n\n Commonly used in in the identification of publicly provided program focused on population segments or disease classifications.\n\n #### Comment\n\n For example: Neonatal program, child dental program or drug users recovery program.",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "coding": {
                                                            "minimum": 1,
                                                            "type": "array",
                                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.programCode.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                                            "items": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "system": {
                                                                        "minimum": 1,
                                                                        "type": "string",
                                                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.programCode.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                                                    },
                                                                    "code": {
                                                                        "minimum": 1,
                                                                        "type": "string",
                                                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.programCode.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            },
                                            "programCode:prescriptionCharge": {
                                                "minimum": 1,
                                                "type": "array",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.programCode:prescriptionCharge|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[NHSBSAPrescriptionCharge](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-vs-prescription-charge) (Required)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Identifies the program under which this may be recovered.\n\n #### Requirements\n\n Commonly used in in the identification of publicly provided program focused on population segments or disease classifications.\n\n #### Comment\n\n For example: Neonatal program, child dental program or drug users recovery program.",
                                                "items": {
                                                    "type": "object"
                                                }
                                            },
                                            "programCode:dispensingEndorsement": {
                                                "minimum": 0,
                                                "type": "array",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.programCode:dispensingEndorsement|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[NHSBSADispensingEndorsement](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/DM-dispensing-endorsement) (Required)Program specific reason codes |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n Identifies the program under which this may be recovered.\n\n #### Requirements\n\n Commonly used in in the identification of publicly provided program focused on population segments or disease classifications.\n\n #### Comment\n\n For example: Neonatal program, child dental program or drug users recovery program.",
                                                "items": {
                                                    "type": "object"
                                                }
                                            },
                                            "quantity": {
                                                "minimum": 0,
                                                "type": "object",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.quantity|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Quantity](https://www.hl7.org/fhir/datatypes.html#Quantity)([SimpleQuantity](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/SimpleQuantity))|\n\n<br/>\n\n #### Definition\n\n This should match the `quantity` of the associated [NHSDigital-MedicationRequest](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationRequest)\r\n\r\n```json\r\n\r\n\"quantity\": {\r\n    \"value\": 200,\r\n    \"unit\": \"unit dose\",\r\n    \"system\": \"http://snomed.info/sct\",\r\n    \"code\": \"408102007\"\r\n},\r\n\r\n```\n\n #### Requirements\n\n Required when the product or service code does not convey the quantity provided."
                                            },
                                            "subDetail": {
                                                "minimum": 0,
                                                "type": "array",
                                                "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.subDetail|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n subDetail is only present if the medication has been dispensed.\n\n #### Requirements\n\n The items to be processed for adjudication.",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "sequence": {
                                                            "minimum": 1,
                                                            "type": "string",
                                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.subDetail.sequence|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[positiveInt](https://www.hl7.org/fhir/datatypes.html#positiveInt)|\n\n<br/>\n\n #### Definition\n\n An integer id for each medication dispense.\r\n\r\n```json\r\n\r\n\"sequence\": 1,\r\n\r\n\r\n```\n\n #### Requirements\n\n Necessary to provide a mechanism to link to items from within the claim and within the adjudication details of the ClaimResponse."
                                                        },
                                                        "productOrService": {
                                                            "minimum": 1,
                                                            "type": "object",
                                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.subDetail.productOrService|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[DMMedicationDispenseCode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/NHSDigital-MedicationDispense-Code) (Extensible)DMD Medication Code |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n This should match the `medicationCodeableConcept` of the associated [NHSDigital-MedicationDispense](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense)\r\n\r\n```json\r\n\r\n\"productOrService\": {\r\n    \"coding\":  [\r\n        {\r\n            \"system\": \"http://snomed.info/sct\",\r\n            \"code\": \"3416211000001106\",\r\n            \"display\": \"Salbutamol 100micrograms/dose inhaler (Sandoz Ltd) 200 dose\"\r\n        }\r\n    ]\r\n},\r\n\r\n```\n\n #### Requirements\n\n Necessary to state what was provided or done.\n\n #### Comment\n\n If this is an actual service or product line, i.e. not a Group, then use code to indicate the Professional Service or Product supplied (e.g. CTP, HCPCS, USCLS, ICD10, NCPDP, DIN, RxNorm, ACHI, CCI). If a grouping item then use a group code to indicate the type of thing being grouped e.g. 'glasses' or 'compound'."
                                                        },
                                                        "quantity": {
                                                            "minimum": 1,
                                                            "type": "object",
                                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Claim.item.detail.subDetail.quantity|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Quantity](https://www.hl7.org/fhir/datatypes.html#Quantity)([SimpleQuantity](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/SimpleQuantity))|\n\n<br/>\n\n #### Definition\n\n This should match the `quantity` of the associated [NHSDigital-MedicationDispense](https://simplifier.net/resolve?target=simplifier&scope=uk.nhsdigital.r4&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-MedicationDispense)\r\n\r\n```json\r\n\r\n\"quantity\": {\r\n    \"value\": 200,\r\n    \"unit\": \"unit dose\",\r\n    \"system\": \"http://snomed.info/sct\",\r\n    \"code\": \"408102007\"\r\n}\r\n\r\n```\n\n #### Requirements\n\n Required when the product or service code does not convey the quantity provided."
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "description": "HL7 FHIR Schema [Claim](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/Claim).. HL7 FHIR Documentation [Claim](\"https://www.hl7.org/fhir/Claim.html\")",
                "externalDocs": {
                    "description": "Claim",
                    "url": "https://www.hl7.org/fhir/Claim.html"
                }
            },
            "Medication": {
                "type": "object",
                "properties": {
                    "code": {
                        "minimum": 1,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Medication.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[UKCoreMedicationCode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.hl7.org.uk/ValueSet/UKCore-MedicationCode) (Extensible)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n A code (or set of codes) that specify this medication, or a textual description if no code is available. Usage note: This could be a standard medication code such as a code from RxNorm, SNOMED CT, IDMP etc. It could also be a national or local formulary code, optionally with translations to other code systems.\n\n #### Comment\n\n Depending on the context of use, the code that was actually selected by the user (prescriber, dispenser, etc.) will have the coding.userSelected set to true.  As described in the coding datatype: \"A coding may be marked as a \"userSelected\" if a user selected the particular coded value in a user interface (e.g. the user selects an item in a pick-list). If a user selected coding exists, it is the preferred choice for performing translations etc. Other codes can only be literal translations to alternative code systems, or codes at a lower level of granularity (e.g. a generic code for a vendor-specific primary one)."
                    }
                },
                "description": "HL7 FHIR Schema [Medication](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/Medication).. HL7 FHIR Documentation [Medication](\"https://www.hl7.org/fhir/Medication.html\")\n\n Defines the UK Core constraints and extensions on the Medication resource for the minimal set of data to query and retrieve medication information.\n\n This profile is primarily used for the identification and definition of a medication for the purposes of prescribing, dispensing, and administering a medication as well as for making statements about medication use.",
                "externalDocs": {
                    "description": "Medication",
                    "url": "https://www.hl7.org/fhir/Medication.html"
                }
            },
            "Task": {
                "type": "object",
                "properties": {
                    "identifier": {
                        "minimum": 1,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n The business identifier for this task.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "system": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Task.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                },
                                "value": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Task.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                }
                            }
                        }
                    },
                    "status": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.status|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[TaskStatus](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/task-status|4.0.1) (Required)The current status of the task. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n These workflow tasks have `status` which indicates the Task status. \r\n\r\nThe following diagram reflects the \"typical\" state machine for Task. Note that not all states will be supported by all workflows and that some workflows may support additional transitions, including transitions from terminal states (e.g. back to \"in-progress\" from \"failed\" or \"completed\").\r\n\r\n<img src=\"https://www.hl7.org/fhir/task-state-machine.svg\"></img>\r\n\r\nFor example: \r\n\r\nA patient requesting a repeat prescription would ask for task with code `fulfil` used with `103742009 | Renewal of prescription` and a status of `requested`.  \r\nOnce reviewed (by a clinician), the task status would be changed to `accepted`. When the task is then picked up (`in-progress`) and the related *MedicationRequest* is sent, the status would change to `completed`.\n\n #### Requirements\n\n These states enable coordination of task status with off-the-shelf workflow solutions that support automation of tasks."
                    },
                    "statusReason": {
                        "minimum": 0,
                        "type": "object",
                        "properties": {
                            "coding": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Task.statusReason.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.statusReason|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n **For EPS only**\r\n\r\n| reasonCode | focus | status | CodeSystem |\r\n|--|--|--|--|\r\n| 373784005 - Dispensing medication | `dispense-notification` | `cancelled` | {{link:https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-withdraw-reason}} |\r\n| 33633005 - Prescription of drug | `prescription-order` | `rejected` / `cancelled` / `failed` |  {{link:https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-return-status-reason}} |\r\n\r\n```json\r\n\"statusReason\": [{\r\n        \"coding\":  [\r\n            {\r\n                \"system\": \"https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-withdraw-reason\",\r\n                \"code\": \"DA\",\r\n                \"display\": \"Dosage Amendments\"\r\n            }\r\n        ]\r\n    }]\r\n```\n\n #### Comment\n\n This applies to the current status.  Look at the history of the task to see reasons for past statuses."
                    },
                    "intent": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.intent|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[TaskIntent](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/ValueSet/task-intent|4.0.1) (Required)Distinguishes whether the task is a proposal, plan or full order. |\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n Indicates the \"level\" of actionability associated with the Task, i.e. i+R[9]Cs this a proposed task, a planned task, an actionable task, etc.\n\n #### Comment\n\n Is not processed by EPS and is included for FHIR compliance reasons. The value should always be `order`."
                    },
                    "code": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "coding": {
                                "minimum": 1,
                                "type": "array",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Task.code.coding|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)|\n\n<br/>\n\n #### Definition\n\n A reference to a code defined by a terminology system.\n\n #### Requirements\n\n Allows for alternative encodings within a code system, and translations to other code systems.\n\n #### Comment\n\n Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "system": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Task.code.coding.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n The identification of the code system that defines the meaning of the symbol in the code.\n\n #### Requirements\n\n Need to be unambiguous about the source of the definition of the symbol.\n\n #### Comment\n\n The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should reference to some definition that establishes the system clearly and unambiguously."
                                        },
                                        "code": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Task.code.coding.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[code](https://www.hl7.org/fhir/datatypes.html#code)|\n\n<br/>\n\n #### Definition\n\n A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).\n\n #### Requirements\n\n Need to refer to a particular code in the system."
                                        },
                                        "display": {
                                            "minimum": 1,
                                            "type": "string",
                                            "description": "\n\n| | |\n|----|----|\n|Element Id|Task.code.coding.display|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A representation of the meaning of the code in the system, following the rules of the system.\n\n #### Requirements\n\n Need to be able to carry a human-readable meaning of the code for readers that do not know  the system."
                                        }
                                    }
                                }
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.code|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[Terminology Binding](https://www.hl7.org/fhir/terminologies.html)|[EnglandTaskCode](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/ValueSet/England-task-code) (Extensible)|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n The reasonCode's are complemented with [task-code](https://www.hl7.org/fhir/valueset-task-code.html) which indicates the type of action to be performed. \r\n\r\nFor example:\r\n\r\nThe code `fulfil` used with `182836005 | Review of medication` means a task to review medication.\r\nThe code `approve` used with `103742009 | Renewal of prescription` is a task for a clinician to approve the issue of a repeat medication.\r\n\r\n```json\r\n \"code\": {\r\n        \"coding\":  [\r\n            {\r\n                \"system\": \"http://hl7.org/fhir/CodeSystem/task-code\",\r\n                \"code\": \"fulfill\",\r\n                \"display\": \"Fulfill the focal request\"\r\n            }\r\n        ]\r\n ```\n\n #### Comment\n\n The title (eg \"My Tasks\", \"Outstanding Tasks for Patient X\") should go into the code."
                    },
                    "focus": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "identifier": {
                                "minimum": 1,
                                "type": "object",
                                "properties": {
                                    "system": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.focus.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                    },
                                    "value": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.focus.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Task.focus.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n An identifier for the target resource. This is used when there is no way to reference the other resource directly, either because the entity it represents is not available through a FHIR server, or because there is no way for the author of the resource to convert a known identifier to an actual location. There is no requirement that a Reference.identifier point to something that is actually exposed as a FHIR instance, but it SHALL point to a business concept that would be expected to be exposed as a FHIR instance, and that instance would need to be of a FHIR resource type allowed by the reference.\n\n #### Comment\n\n When an identifier is provided in place of a reference, any system processing the reference will only be able to resolve the identifier to a reference if it understands the business context in which the identifier is used. Sometimes this is global (e.g. a national identifier) but often it is not. For this reason, none of the useful mechanisms described for working with references (e.g. chaining, includes) are possible, nor should servers be expected to be able resolve the reference. Servers may accept an identifier based reference untouched, resolve it, and/or reject it - see CapabilityStatement.rest.resource.referencePolicy.   When both an identifier and a literal reference are provided, the literal reference is preferred. Applications processing the resource are allowed - but not required - to check that the identifier matches the literal reference  Applications converting a logical reference to a literal reference may choose to leave the logical reference present, or remove it.  Reference is intended to point to a structure that can potentially be expressed as a FHIR resource, though there is no need for it to exist as an actual FHIR resource instance - except in as much as an application wishes to actual find the target of the reference. The content referred to be the identifier must meet the logical constraints implied by any limitations on what resource types are permitted for the reference.  For example, it would not be legitimate to send the identifier for a drug prescription if the type were Reference(Observation|DiagnosticReport).  One of the use-cases for Reference.identifier is the situation where no FHIR representation exists (where the type is Reference (Any)."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.focus|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalBundleFHIRMessage](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Bundle-FHIRMessage))|\n\n<br/>\n\n #### Definition\n\n ** EPS Only**\r\n\r\nThis will be the `Bundle.identifier` of the message this Task is acting on. \r\nFor Tasks with a reasonCode of `373784005 - Dispensing medication`  this will be a `dispense-notification` message. \r\nFor Tasks with a reasonCode of `33633005 - Prescription of drug` this will be the `prescription-order` message from the Task/$release operation.\r\n\r\n```json\r\n\"focus\": {\r\n        \"type\": \"Bundle\",\r\n        \"identifier\": {\r\n            \"system\": \"https://tools.ietf.org/html/rfc4122\",\r\n            \"value\": \"334a3195-1f6c-497a-8efe-d272ca9c4e38\"\r\n        }\r\n    },\r\n```\n\n #### Requirements\n\n Used to identify the thing to be done.\n\n #### Comment\n\n Tasks are often generated as a consequence of other workflows or relate to FHIR Workflow resources. For example a repeat medication request will be related to a previous `MedicationRequest` or a medication reconciliation may relate to a hospital admissions `Encounter/EpisodeOfCare`. This is carried in the `focus` element.\r\n\r\n`focus` can be omitted. For example if an ED generated a Medication Review as a result of COPD Emergency encounter they may chose to include a reference to the Encounter but they may decide instead to use a more specific reasonCode such as `394720003 | Asthma medication review`."
                    },
                    "for": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "identifier": {
                                "minimum": 1,
                                "type": "object",
                                "properties": {
                                    "system": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.for.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                    },
                                    "value": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.for.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Task.for.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n An identifier for the target resource. This is used when there is no way to reference the other resource directly, either because the entity it represents is not available through a FHIR server, or because there is no way for the author of the resource to convert a known identifier to an actual location. There is no requirement that a Reference.identifier point to something that is actually exposed as a FHIR instance, but it SHALL point to a business concept that would be expected to be exposed as a FHIR instance, and that instance would need to be of a FHIR resource type allowed by the reference.\n\n #### Comment\n\n When an identifier is provided in place of a reference, any system processing the reference will only be able to resolve the identifier to a reference if it understands the business context in which the identifier is used. Sometimes this is global (e.g. a national identifier) but often it is not. For this reason, none of the useful mechanisms described for working with references (e.g. chaining, includes) are possible, nor should servers be expected to be able resolve the reference. Servers may accept an identifier based reference untouched, resolve it, and/or reject it - see CapabilityStatement.rest.resource.referencePolicy.   When both an identifier and a literal reference are provided, the literal reference is preferred. Applications processing the resource are allowed - but not required - to check that the identifier matches the literal reference  Applications converting a logical reference to a literal reference may choose to leave the logical reference present, or remove it.  Reference is intended to point to a structure that can potentially be expressed as a FHIR resource, though there is no need for it to exist as an actual FHIR resource instance - except in as much as an application wishes to actual find the target of the reference. The content referred to be the identifier must meet the logical constraints implied by any limitations on what resource types are permitted for the reference.  For example, it would not be legitimate to send the identifier for a drug prescription if the type were Reference(Observation|DiagnosticReport).  One of the use-cases for Reference.identifier is the situation where no FHIR representation exists (where the type is Reference (Any)."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.for|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([Resource](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=http://hl7.org/fhir/StructureDefinition/Resource))|\n\n<br/>\n\n #### Definition\n\n A reference to the patient the Task is for. This will always be an identifier reference using the Patients NHSNumber.\r\n\r\n```json\r\n\"for\": {\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"9446368138\"\r\n        }\r\n    },\r\n```\n\n #### Requirements\n\n Used to track tasks outstanding for a beneficiary.  Do not use to track the task owner or creator (see owner and creator respectively).  This can also affect access control.\n\n #### Constraints \n\n- **patient-reference** (*ERROR*) An identifier reference or resource reference must be provided\n- **patient-nhs** (*ERROR*) Supplied NHS Number is outside the English and Welsh NHS Number range or length of the number is wrong."
                    },
                    "authoredOn": {
                        "minimum": 1,
                        "type": "string",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.authoredOn|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)|\n\n<br/>\n\n #### Definition\n\n Date and time the task was created.\r\n\r\n```json\r\n\"authoredOn\": \"2020-12-21T17:03:20-00:00\",\r\n```\n\n #### Requirements\n\n Most often used along with lastUpdated to track duration of task to supporting monitoring and management."
                    },
                    "requester": {
                        "minimum": 1,
                        "type": "object",
                        "properties": {
                            "reference": {
                                "minimum": 1,
                                "type": "string",
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Task.requester.reference|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n A reference to a location at which the other resource is found. The reference may be a relative reference, in which case it is relative to the service base URL, or an absolute URL that resolves to the location where the resource is found. The reference may be version specific or not. If the reference is not to a FHIR RESTful server, then it should be assumed to be version specific. Internal fragment references (start with '#') refer to contained resources.\n\n #### Comment\n\n Using absolute URLs provides a stable scalable approach suitable for a cloud/web context, while using relative/logical references provides a flexible approach suitable for use when trading across closed eco-system boundaries.   Absolute URLs do not need to point to a FHIR RESTful server, though this is the preferred approach. If the URL conforms to the structure \"/[type]/[id]\" then it should be assumed that the reference is to a FHIR RESTful server."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.requester|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalPractitionerRoleMinimalPlusTelecom](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole-MinimalPlusTelecom))|\n\n<br/>\n\n #### Definition\n\n Who is created the Request or the Event. In NHSDigital API's this **SHOULD** always be a PractitionerRole role reference.\r\n\r\n```json\r\n \"requester\": {\r\n        \"reference\": \"#requester\"\r\n    },\r\n```\r\n\r\nThis will reference a `contained` PractitionerRole (note: this resource only contains limited user metadata such as ODS Code, professional code and SDS User Profile Id). This resource should not hold data which is held in SDS, only enough information to identify the SDS Entry,\n\n #### Requirements\n\n Identifies who created this task.  May be used by access control mechanisms (e.g., to ensure that only the creator can cancel a task).\n\n #### Constraints \n\n- **usercode-reference** (*WARNING*) An identifier reference plus a display name or resource reference must be provided\n- **usercode-nmc** (*ERROR*) NMC must be of the format NNANNNNA\n- **usercode-gmp** (*ERROR*) GMP must be of the format GNNNNNNN and not be a spurious code (starts with G6 or G7)\n- **usercode-gmc** (*ERROR*) GMC must be of the format CNNNNNNN\n- **usercode-gphc** (*ERROR*) GPHC must be of the format NNNNNNN\n- **usercode-hcpc** (*ERROR*) HCPC must be of the format AANNNNNN\n- **usercode-din** (*ERROR*) DIN format must be NNNNNN"
                    },
                    "owner": {
                        "minimum": 0,
                        "type": "object",
                        "properties": {
                            "identifier": {
                                "minimum": 1,
                                "type": "object",
                                "properties": {
                                    "system": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.owner.identifier.system|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[uri](https://www.hl7.org/fhir/datatypes.html#uri)|\n\n<br/>\n\n #### Definition\n\n Establishes the namespace for the value - that is, a URL that describes a set values that are unique.\n\n #### Requirements\n\n There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we're dealing with. The system identifies a particular set of unique identifiers.\n\n #### Comment\n\n Identifier.system is always case sensitive."
                                    },
                                    "value": {
                                        "minimum": 1,
                                        "type": "string",
                                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.owner.identifier.value|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[string](https://www.hl7.org/fhir/datatypes.html#string)|\n\n<br/>\n\n #### Definition\n\n The portion of the identifier typically relevant to the user and which is unique within the context of the system.\n\n #### Comment\n\n If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986.  The value's primary purpose is computational mapping.  As a result, it may be normalized for comparison purposes (e.g. removing non-significant whitespace, dashes, etc.)  A value formatted for human display can be conveyed using the [Rendered Value extension](http://hl7.org/fhir/R4/extension-rendered-value.html). Identifier.value is to be treated as case sensitive unless knowledge of the Identifier.system allows the processer to be confident that non-case-sensitive processing is safe."
                                    }
                                },
                                "description": "\n\n| | |\n|----|----|\n|Element Id|Task.owner.identifier|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)|\n\n<br/>\n\n #### Definition\n\n An identifier for the target resource. This is used when there is no way to reference the other resource directly, either because the entity it represents is not available through a FHIR server, or because there is no way for the author of the resource to convert a known identifier to an actual location. There is no requirement that a Reference.identifier point to something that is actually exposed as a FHIR instance, but it SHALL point to a business concept that would be expected to be exposed as a FHIR instance, and that instance would need to be of a FHIR resource type allowed by the reference.\n\n #### Comment\n\n When an identifier is provided in place of a reference, any system processing the reference will only be able to resolve the identifier to a reference if it understands the business context in which the identifier is used. Sometimes this is global (e.g. a national identifier) but often it is not. For this reason, none of the useful mechanisms described for working with references (e.g. chaining, includes) are possible, nor should servers be expected to be able resolve the reference. Servers may accept an identifier based reference untouched, resolve it, and/or reject it - see CapabilityStatement.rest.resource.referencePolicy.   When both an identifier and a literal reference are provided, the literal reference is preferred. Applications processing the resource are allowed - but not required - to check that the identifier matches the literal reference  Applications converting a logical reference to a literal reference may choose to leave the logical reference present, or remove it.  Reference is intended to point to a structure that can potentially be expressed as a FHIR resource, though there is no need for it to exist as an actual FHIR resource instance - except in as much as an application wishes to actual find the target of the reference. The content referred to be the identifier must meet the logical constraints implied by any limitations on what resource types are permitted for the reference.  For example, it would not be legitimate to send the identifier for a drug prescription if the type were Reference(Observation|DiagnosticReport).  One of the use-cases for Reference.identifier is the situation where no FHIR representation exists (where the type is Reference (Any)."
                            }
                        },
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.owner|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)([NHSDigitalOrganization](https://simplifier.net/resolve?target=simplifier&fhirVersion=R4&scope=uk.nhsdigital.medicines.r4.test@2.5.3-prerelease&canonical=https://fhir.nhs.uk/StructureDefinition/NHSDigital-Organization))|\n\n<br/>\n\n #### Definition\n\n Who is responsible for actioning the request Task (e.g. for a prescription-order this will be the pharmacy). \r\n\r\n```json\r\n\"owner\": {\r\n        \"identifier\": {\r\n            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n            \"value\": \"FB444\"\r\n        },\r\n        \"display\": \"Freds Pharmacy\"\r\n    },\r\n```\n\n #### Requirements\n\n Identifies who is expected to perform this task.\n\n #### Comment\n\n Tasks may be created with an owner not yet identified."
                    },
                    "reasonCode": {
                        "minimum": 0,
                        "type": "object",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.reasonCode|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n In FHIR Task these types of workflow would be represented via **reasonCode** and/or **reasonReference**\r\n\r\nFor medication this is probably SNOMED CT based using codes under the SNOMED CT 182832007 Medication management and includes codes such as:\r\n\r\n| SNOMED CT | Display |\r\n|--|--|\r\n| 182836005 | Review of medication | \r\n| 430193006 | Medication Reconciliation |\r\n| 103742009 | Renewal of prescription |\r\n| 33633005 | Prescription of drug |\r\n| 373784005 | Dispensing medication |\r\n\r\n<br/>\r\n\r\nFor referral management\r\n\r\n| SNOMED CT | Display |\r\n|--|--|\r\n| <a href=\"https://ontoserver.csiro.au/shrimp/?concept=3457005&version=http%3A%2F%2Fsnomed.info%2Fsct%2F83821000000107%2Fversion%2F20211124&valueset=http%3A%2F%2Fsnomed.info%2Fsct%2F83821000000107%3Ffhir_vs&fhir=https%3A%2F%2Fontology.nhs.uk%2Fauthoring%2Ffhir\">3457005</a> | Patient Referral |\r\n| <a href=\"https://ontoserver.csiro.au/shrimp/?concept=185499000&version=http%3A%2F%2Fsnomed.info%2Fsct%2F83821000000107%2Fversion%2F20211124&valueset=http%3A%2F%2Fsnomed.info%2Fsct%2F83821000000107%3Ffhir_vs&fhir=https%3A%2F%2Fontology.nhs.uk%2Fauthoring%2Ffhir\">185499000</a>| Expedite appointment |\n\n #### Comment\n\n This should only be included if there is no focus or if it differs from the reason indicated on the focus."
                    },
                    "input": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.input|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n Additional information that may be needed in the execution of the task.\n\n #### Requirements\n\n Resources and data used to perform the task.  This data is used in the business logic of task execution, and is stored separately because it varies between workflows.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "type": {
                                    "minimum": 1,
                                    "type": "object",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Task.input.type|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n A code or description indicating how the input is intended to be used as part of the task execution.\n\n #### Requirements\n\n Inputs are named to enable task automation to bind data and pass it from one task to the next.\n\n #### Comment\n\n If referencing a BPMN workflow or Protocol, the \"system\" is the URL for the workflow definition and the code is the \"name\" of the required input."
                                },
                                "value[x]": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Task.input.value[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[base64Binary](https://www.hl7.org/fhir/datatypes.html#base64Binary)[boolean](https://www.hl7.org/fhir/datatypes.html#boolean)[canonical](https://www.hl7.org/fhir/datatypes.html#canonical)[code](https://www.hl7.org/fhir/datatypes.html#code)[date](https://www.hl7.org/fhir/datatypes.html#date)[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)[decimal](https://www.hl7.org/fhir/datatypes.html#decimal)[id](https://www.hl7.org/fhir/datatypes.html#id)[instant](https://www.hl7.org/fhir/datatypes.html#instant)[integer](https://www.hl7.org/fhir/datatypes.html#integer)[markdown](https://www.hl7.org/fhir/datatypes.html#markdown)[oid](https://www.hl7.org/fhir/datatypes.html#oid)[positiveInt](https://www.hl7.org/fhir/datatypes.html#positiveInt)[string](https://www.hl7.org/fhir/datatypes.html#string)[time](https://www.hl7.org/fhir/datatypes.html#time)[unsignedInt](https://www.hl7.org/fhir/datatypes.html#unsignedInt)[uri](https://www.hl7.org/fhir/datatypes.html#uri)[url](https://www.hl7.org/fhir/datatypes.html#url)[uuid](https://www.hl7.org/fhir/datatypes.html#uuid)[Address](https://www.hl7.org/fhir/datatypes.html#Address)[Age](https://www.hl7.org/fhir/datatypes.html#Age)[Annotation](https://www.hl7.org/fhir/datatypes.html#Annotation)[Attachment](https://www.hl7.org/fhir/datatypes.html#Attachment)[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)[ContactPoint](https://www.hl7.org/fhir/datatypes.html#ContactPoint)[Count](https://www.hl7.org/fhir/datatypes.html#Count)[Distance](https://www.hl7.org/fhir/datatypes.html#Distance)[Duration](https://www.hl7.org/fhir/datatypes.html#Duration)[HumanName](https://www.hl7.org/fhir/datatypes.html#HumanName)[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)[Money](https://www.hl7.org/fhir/datatypes.html#Money)[Period](https://www.hl7.org/fhir/datatypes.html#Period)[Quantity](https://www.hl7.org/fhir/datatypes.html#Quantity)[Range](https://www.hl7.org/fhir/datatypes.html#Range)[Ratio](https://www.hl7.org/fhir/datatypes.html#Ratio)[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)[SampledData](https://www.hl7.org/fhir/datatypes.html#SampledData)[Signature](https://www.hl7.org/fhir/datatypes.html#Signature)[Timing](https://www.hl7.org/fhir/datatypes.html#Timing)[ContactDetail](https://www.hl7.org/fhir/datatypes.html#ContactDetail)[Contributor](https://www.hl7.org/fhir/datatypes.html#Contributor)[DataRequirement](https://www.hl7.org/fhir/datatypes.html#DataRequirement)[Expression](https://www.hl7.org/fhir/datatypes.html#Expression)[ParameterDefinition](https://www.hl7.org/fhir/datatypes.html#ParameterDefinition)[RelatedArtifact](https://www.hl7.org/fhir/datatypes.html#RelatedArtifact)[TriggerDefinition](https://www.hl7.org/fhir/datatypes.html#TriggerDefinition)[UsageContext](https://www.hl7.org/fhir/datatypes.html#UsageContext)[Dosage](https://www.hl7.org/fhir/datatypes.html#Dosage)[Meta](https://www.hl7.org/fhir/datatypes.html#Meta)|\n\n<br/>\n\n #### Definition\n\n The value of the input parameter as a basic type."
                                }
                            }
                        }
                    },
                    "output": {
                        "minimum": 0,
                        "type": "array",
                        "description": "\n\n| | |\n|----|----|\n|Element Id|Task.output|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|0..*|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[BackboneElement](https://www.hl7.org/fhir/datatypes.html#BackboneElement)|\n\n<br/>\n\n #### Definition\n\n Outputs produced by the Task.\n\n #### Requirements\n\n Resources and data produced during the execution the task.  This data is generated by the business logic of task execution, and is stored separately because it varies between workflows.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "type": {
                                    "minimum": 1,
                                    "type": "object",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Task.output.type|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)|\n\n<br/>\n\n #### Definition\n\n The name of the Output parameter.\n\n #### Requirements\n\n Outputs are named to enable task automation to bind data and pass it from one task to the next."
                                },
                                "value[x]": {
                                    "minimum": 1,
                                    "type": "string",
                                    "description": "\n\n| | |\n|----|----|\n|Element Id|Task.output.value[x]|\n|[Cardinality](https://www.hl7.org/fhir/conformance-rules.html#cardinality)|1..1|\n|[type](https://www.hl7.org/fhir/datatypes.html)|[base64Binary](https://www.hl7.org/fhir/datatypes.html#base64Binary)[boolean](https://www.hl7.org/fhir/datatypes.html#boolean)[canonical](https://www.hl7.org/fhir/datatypes.html#canonical)[code](https://www.hl7.org/fhir/datatypes.html#code)[date](https://www.hl7.org/fhir/datatypes.html#date)[dateTime](https://www.hl7.org/fhir/datatypes.html#dateTime)[decimal](https://www.hl7.org/fhir/datatypes.html#decimal)[id](https://www.hl7.org/fhir/datatypes.html#id)[instant](https://www.hl7.org/fhir/datatypes.html#instant)[integer](https://www.hl7.org/fhir/datatypes.html#integer)[markdown](https://www.hl7.org/fhir/datatypes.html#markdown)[oid](https://www.hl7.org/fhir/datatypes.html#oid)[positiveInt](https://www.hl7.org/fhir/datatypes.html#positiveInt)[string](https://www.hl7.org/fhir/datatypes.html#string)[time](https://www.hl7.org/fhir/datatypes.html#time)[unsignedInt](https://www.hl7.org/fhir/datatypes.html#unsignedInt)[uri](https://www.hl7.org/fhir/datatypes.html#uri)[url](https://www.hl7.org/fhir/datatypes.html#url)[uuid](https://www.hl7.org/fhir/datatypes.html#uuid)[Address](https://www.hl7.org/fhir/datatypes.html#Address)[Age](https://www.hl7.org/fhir/datatypes.html#Age)[Annotation](https://www.hl7.org/fhir/datatypes.html#Annotation)[Attachment](https://www.hl7.org/fhir/datatypes.html#Attachment)[CodeableConcept](https://www.hl7.org/fhir/datatypes.html#CodeableConcept)[Coding](https://www.hl7.org/fhir/datatypes.html#Coding)[ContactPoint](https://www.hl7.org/fhir/datatypes.html#ContactPoint)[Count](https://www.hl7.org/fhir/datatypes.html#Count)[Distance](https://www.hl7.org/fhir/datatypes.html#Distance)[Duration](https://www.hl7.org/fhir/datatypes.html#Duration)[HumanName](https://www.hl7.org/fhir/datatypes.html#HumanName)[Identifier](https://www.hl7.org/fhir/datatypes.html#Identifier)[Money](https://www.hl7.org/fhir/datatypes.html#Money)[Period](https://www.hl7.org/fhir/datatypes.html#Period)[Quantity](https://www.hl7.org/fhir/datatypes.html#Quantity)[Range](https://www.hl7.org/fhir/datatypes.html#Range)[Ratio](https://www.hl7.org/fhir/datatypes.html#Ratio)[Reference](https://www.hl7.org/fhir/datatypes.html#Reference)[SampledData](https://www.hl7.org/fhir/datatypes.html#SampledData)[Signature](https://www.hl7.org/fhir/datatypes.html#Signature)[Timing](https://www.hl7.org/fhir/datatypes.html#Timing)[ContactDetail](https://www.hl7.org/fhir/datatypes.html#ContactDetail)[Contributor](https://www.hl7.org/fhir/datatypes.html#Contributor)[DataRequirement](https://www.hl7.org/fhir/datatypes.html#DataRequirement)[Expression](https://www.hl7.org/fhir/datatypes.html#Expression)[ParameterDefinition](https://www.hl7.org/fhir/datatypes.html#ParameterDefinition)[RelatedArtifact](https://www.hl7.org/fhir/datatypes.html#RelatedArtifact)[TriggerDefinition](https://www.hl7.org/fhir/datatypes.html#TriggerDefinition)[UsageContext](https://www.hl7.org/fhir/datatypes.html#UsageContext)[Dosage](https://www.hl7.org/fhir/datatypes.html#Dosage)[Meta](https://www.hl7.org/fhir/datatypes.html#Meta)|\n\n<br/>\n\n #### Definition\n\n The value of the Output parameter as a basic type.\n\n #### Requirements\n\n Task outputs can take any form."
                                }
                            }
                        }
                    }
                },
                "description": "HL7 FHIR Schema [Task](https://hl7.org/fhir/R4/fhir.schema.json#/definitions/Task).. HL7 FHIR Documentation [Task](\"https://www.hl7.org/fhir/Task.html\")",
                "externalDocs": {
                    "description": "Task",
                    "url": "https://www.hl7.org/fhir/Task.html"
                }
            }
        }
    }
}
